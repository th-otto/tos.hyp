<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title>
The documentation for TOS: Application library
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO 7.04 (1296) for Linux">
</head>
<body>
<? include "/var/www/banner.php"; ?>

<a id="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a><a id="UDO_nav_up_HEAD" href="008.html"><img src="udo_up.gif" alt="AES" title="AES" border="0" width="24" height="24"></a><a id="UDO_nav_lf_HEAD" href="008002.html"><img src="udo_lf.gif" alt="AES fundamentals" title="AES fundamentals" border="0" width="24" height="24"></a><a id="UDO_nav_rg_HEAD" href="008004.html"><img src="udo_rg.gif" alt="File-selector library" title="File-selector library" border="0" width="24" height="24"></a>
<hr>

<h1><a name="Application_20library"></a>8.3 Application library</h1>
<p>This library contains functions to initialize and terminate a <a href="002002.html">GEM</a>
application; in addition these routines permit communication with
other processes. In total, the following functions are available:</p>

<table>
<tr><td nowrap="nowrap" valign="top">• <a href="#appl_bvset">appl_bvset</a></td>
<td valign="top">Sets connected logical drives</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_control">appl_control</a></td>
<td valign="top">Targeted control of applications</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_exit">appl_exit</a></td>
<td valign="top">Deregisters AES user program and releases ID</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_find">appl_find</a></td>
<td valign="top">Gets AES ID of another AES application</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_getinfo">appl_getinfo</a></td>
<td valign="top">Gets system information</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_getinfo_str">appl_getinfo_str</a></td>
<td valign="top">Gets extended system information</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_getcicon">appl_getcicon</a></td>
<td valign="top">Get a <a href="008016.html#CICON">CICON</a> (Icon server)</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_init">appl_init</a></td>
<td valign="top">Registers AES application</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_options">appl_options</a></td>
<td valign="top">Sets or gets application options</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_read">appl_read</a></td>
<td valign="top">Reads AES messages</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_search">appl_search</a></td>
<td valign="top">Searches for applications in system</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_tplay">appl_tplay</a></td>
<td valign="top">Plays back AES events</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_trecord">appl_trecord</a></td>
<td valign="top">Records AES events</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_write">appl_write</a></td>
<td valign="top">Writes AES messages</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_xbvset">appl_xbvset</a></td>
<td valign="top">Extended version for reporting connected drives</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#appl_yield">appl_yield</a></td>
<td valign="top">Forces AES process-switch</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#_appl_yield">_appl_yield</a></td>
<td valign="top">Forces AES process-switch</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#x_appl_flags">x_appl_flags</a></td>
<td valign="top">Controls execution flags</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#x_appl_font">x_appl_font</a></td>
<td valign="top">Changes font and window borders</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#x_appl_sleep">x_appl_sleep</a></td>
<td valign="top">Puts application to sleep, or wakes it up</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#x_appl_term">x_appl_term</a></td>
<td valign="top">Terminate an application and remove it from memory.

</td></tr>
</table>

<p><b>Note:</b> Special attention is drawn here to <a href="#appl_getinfo">appl_getinfo</a>,
with whose help one can easily inquire about the properties of the
system at run-time.</p>

<p>See also: <a href="00a002.html">Style guidelines</a></p>

<h3><a name="appl_bvset"></a>8.3.1 appl_bvset</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application bit-vector set« - Set the available logical
drives for the file-selector.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">16</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_bvset ( uint16_t bvdisk, uint16_t bvhard );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call appl_bvset informs the GEM about the logical
drives that are present; required (amongst others) for the
file-selector. The following apply:<br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>bvdisk</i></td>
  <td align="left" valign="top">Bit-vector of the floppy disk drives present (bit 15 = Drive A: etc).</td>
</tr>
<tr>
  <td align="left" valign="top"><i>bvhard</i></td>
  <td align="left" valign="top">Bit-vector of the hard drives present (bit 15 = Drive A: etc).</td>
</tr>
</table>
</div>

<br><br>

They are available to the application in global[13] and
global[14].<br><br>

In GEM/4 and GEM/5, use <a href="#appl_xbvset">appl_xbvset</a> to access drives
beyond P.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Not known at present.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is available only from PC-GEM Version 2.0
onwards, KAOS 1.4.2 and <a href="00b.html">MagiC</a>.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20appl_bvset">Binding</a> &nbsp; <a href="#appl_xbvset">appl_xbvset</a> &nbsp; <a href="00500f.html#Dsetdrv">Dsetdrv</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_bvset"></a>8.3.1.1 Bindings for appl_bvset</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_bvset">appl_bvset</a> ( uint16_t bvdisk, uint16_t bvhard );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_bvset">appl_bvset</a> (uint16_t bvdisk, uint16_t bvhard)
{
   <a href="008002.html#int_in">int_in</a>[0]  = bvdisk;
   <a href="008002.html#int_in">int_in</a>[1]  = bvhard;
   return ( <a href="008002.html#crys_if">crys_if</a>(16) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">16      # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">2     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">bvdisk</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[1]</td>
  <td align="left" valign="top">bvhard</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return-Wert</td>
</tr>
</table>
</div>



</td></tr>
</table>

<p>0# Source: <a href="Application.html#APC_TOPNEXT">APC_TOPNEXT</a>, <a href="Application.html#APC_KILL">APC_KILL</a> and <a href="Application.html#APC_SYSTEM">APC_SYSTEM</a> from the
sourcecode.</p>

<h3><a name="appl_control"></a>8.3.2 appl_control</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application control« - Targeted control of applications.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">129</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_control ( int16_t ap_cid, int16_t ap_cwhat, void
*ap_cout);</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call appl_control can be used to control the activity of
applications.<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_cid</td>
<td valign="top">The AES ID (apid) of the application you want to control.</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_cwhat</td>
<td valign="top">The type of control:<table>
<tr><td nowrap="nowrap" valign="top">0 to 9</td>
<td valign="top">
<br>Reserved for N.AES<a name="APC_TOPNEXT"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APC_TOPNEXT (0)</td>
<td valign="top">
<br>OAESis internal mode<a name="APC_KILL"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APC_KILL (1)</td>
<td valign="top">
<br>OAESis internal mode<a name="APC_SYSTEM"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APC_SYSTEM (2)</td>
<td valign="top">
<br><a href="00d.html">XaAES</a> internal mode<a name="APC_HIDE"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APC_HIDE (10)</td>
<td valign="top">
<br>Hide (fade out) application;
<br>if <i>ap_cid</i> is -1, the active application will be hidden<a name="APC_SHOW"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APC_SHOW (11)</td>
<td valign="top">Show (fade in) application;
<br>if <i>ap_cid</i> is -1, all hidden applications are shown<a name="APC_TOP"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APC_TOP (12)</td>
<td valign="top">
<br>Bring application to front (the application becomes the active
one)<a name="APC_HIDENOT"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APC_HIDENOT (13)</td>
<td valign="top">
<br>Hide all applications except the one referred to by <i>ap_cid</i>
(which becomes the active application)<br><br>

If <i>ap_cid</i> is -1, all applications except the active one
will be hidden<a name="APC_INFO"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APC_INFO (14)</td>
<td valign="top">
<br>Inquire the application parameters of application <i>ap_cid</i>;
if -1 is passed for <i>ap_cid</i>, then the parameters of the current
application will be returned<br><br>

For <i>ap_cout</i> a pointer to an integer is to be passed<br><br>

N.AEShere deposits the application parameters in the form of a
bitmask:<table>
<a name="APCI_HIDDEN"></a>
<tr><td nowrap="nowrap" valign="top">APCI_HIDDEN (1)</td>
<td valign="top">Bit 0 is set if the application is faded out<a name="APCI_HASMBAR"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APCI_HASMBAR (2)</td>
<td valign="top">Bit 1 is set if the application posseses a menu bar<a name="APCI_HASDESK"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APCI_HASDESK (4)</td>
<td valign="top">Bit 2 is set if the application possesses its own desktop

</td></tr>
</table>

<a name="APC_MENU"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APC_MENU (15)</td>
<td valign="top">
<br>Returns address of the menu tree that the application
<i>ap_cid</i> last initialized. For this a pointer to an <a href="008016.html#OBJECT">OBJECT</a>
pointer is to be passed for <i>ap_cout</i>; the latter will be filled
by shel_write with the searched for menu tree address.<br><br>

If -1 is passed for <i>ap_cid</i>, then the menu tree address of
the current application will be returned. If the value 0 is passed for
<i>ap_cid</i> then the address of the system menu managed internally
by shel_write will be returned. This is the menu box that pops open when
one selects the left-most menu title and which contains the list of
all applications and desk accessories initialized by shel_write.<br><br>

If the application inquired for has not initialized a menu bar, or
no application with the identification <i>ap_cid</i> exists, then a
NULL pointer will be written to <i>ap_cout</i><br><br>

The return value of appl_control, mode APC_MENU is always the
value 1<br><br>

<b>Note:</b> If one uses this mode, one should be quite certain
what one is doing! Altering the returned menu tree can lead to
undefined system states. With active MiNT memory protection even a
read access to the menu tree can lead to a termination of the
application!<a name="APC_WIDGETS"></a>
<a name="MINWINOBJ"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APC_WIDGETS (16)</td>
<td valign="top">
<br>Inquires or sets the 'default' positions of the window objects.
<i>ap_cout</i> is a pointer to a MINWINOBJ(12)-sized (int16_t)
buffer, which must be filled completely with -1 for inquiring the
object order. The last WORD must be a 0. If an error-message is
returned, then the buffer is too small for all objects and should be
enlarged. In the buffer lie first of all the objects of the title-bar
from left to right, followed by the objects of the vertical slider
from top to bottom and then the objects of the horizontal slider from
left to right. The list is terminated with a NULL-word. For setting
the positions, the first objects have to be of the type topwidgets
(from left to right), followed by the objects of the type rightwidgets
(from top to bottom) and then the objects of the type bottomwidgets
(from left to right). If the objects are duplicated or set incorrectly
then an error will be reported.<a name="APC_APP_CONFIG"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APC_APP_CONFIG (17)</td>
<td valign="top">
<br>With this option you are able to inform to <a href="008.html">AES</a> how you want your
application should be considered.
<br><i>ap_cout</i> is a pointer to a string. At this time value
supported are:<ul>
<li>"app_debug=true" or "app_debug" : put the application in debug
mode</li>
<li>"app_debug=false" : stop debug mode</li>
<li>"app_topmost=true" or "app_topmost" : Application windows will
be always on top (compare to other classical application) but without
focus (can be usefull for tesk bar for exemple)</li>
<li>"app_topmost=false" : remove previous option</li>
<li>"app_system" : application is a system application (used in
<a href="#appl_search">appl_search</a> for type <a href="Application.html#APP_SYSTEM">APP_SYSTEM</a>)</li>
<li>"app_texticon=opaque" : background icon text is opaque</li>
<li>"app_texticon=transparent" : background icon text is
transparent</li>
<li>"app_signal_mesag=true": Request receive Unix Signal when even
message is waiting see APC_INFORM_MESAG as it do exactly the same</li>
<li>"app_signal_mesag=false": Request stop receive Unix Signal when
even message is waiting</li>
</ul>

<a name="APC_INFORM_MESAG"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APC_INFORM_MESAG (18)</td>
<td valign="top">
<br>Request to <a href="008.html">AES</a> to inform the application when there is a <a href="008.html">AES</a>
message waiting with a Unix Signal.
<br><i>ap_cout</i> : not used.
<br>When the application receive a message the <a href="008.html">AES</a> send the Signal
<a href="005007.html#SIGUSR2">SIGUSR2</a> (30) to the application, to manage the message should use
classical event_mesag or event_multi functions. Calling one time this
call request to <a href="008.html">AES</a> to send Signal, calling a second time remove this
order.

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_cout</td>
<td valign="top">Is filled by the AES dependent on <i>ap_cwhat</i> and only
has a meaning for APC_INFO, APC_MENU, APC_WIDGETS and APC_APP_CONFIG.
In other cases this parameter is ignored and passing of a NULL-pointer
is then possible.

</td></tr>
</table>

<br><br>

<b>Note:</b> Hidden application have a '*' placed in front of
their names in the applications menu, unless they did not have a
window open during hiding. If the latter is the case only the active
application is changed.<br><br>

So the '*' in front of the name means: One or more windows of this
application are hidden.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> &nbsp;0 = An error has occurred
<br>>0 = No error has arisen</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The presence of the function can be checked via <a href="Application.html#_25apgi_65">appl_getinfo</a> (opcode
65).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="appl_control.html#Bindings_20for_20appl_control">Binding</a> &nbsp; <a href="008007.html#SM_M_SPECIAL">SM_M_SPECIAL</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_control"></a>8.3.2.1 Bindings for appl_control</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_control">appl_control</a> ( int16_t ap_cid, int16_t ap_cwhat, void
*ap_cout);</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_control">appl_control</a> ( int16_t ap_cid, int16_t ap_cwhat,
                       void *ap_cout);
{
   <a href="008002.html#int_in">int_in</a>[0]  = ap_cid;
   <a href="008002.html#int_in">int_in</a>[1]  = ap_cwhat;
   <a href="008002.html#addr_in">addr_in</a>[0] = ap_cout;

   return ( <a href="008002.html#crys_if">crys_if</a>(129) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">129   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">2     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">ap_cid</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[1]</td>
  <td align="left" valign="top">ap_cwhat</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a></td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[0]</td>
  <td align="left" valign="top">ap_cout</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">ap_creturn</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="appl_exit"></a>8.3.3 appl_exit</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application exit« - Deregister an application from the
AES.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">19</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_exit ( void );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call appl_exit deregisters an applicatiion from the AES
again and releases its application ID.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if a 0 is returned.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">All AES versions.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20appl_exit">Binding</a> &nbsp; <a href="#appl_init">appl_init</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_exit"></a>8.3.3.1 Bindings for appl_exit</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_exit">appl_exit</a> ( void );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_exit">appl_exit</a> (void)
{
   return ( <a href="008002.html#crys_if">crys_if</a>(19) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">19    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="appl_find"></a>8.3.4 appl_find</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application find« - Obtain the application ID number of an
AES application.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">13</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_find ( CONST int8_t *ap_fpname );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call appl_find obtains the application identifier of
another application running in parallel. <i>ap_fpname</i> points to
the filename of the application whose identifier is to be found
(without an extension).<br><br>

<b>Important:</b> It is imperative that the name is eight
characters long; if it shorter, it must be padded with blanks. The
name string must be NULL-terminated.<br><br>

In <a href="00b.html">MagiC</a> and AES version 4.0 and above one can also obtain the
ID of the current application by passing a NULL-pointer. In addition
it is possible to recalculate the AES ID of an application to the
MiNT ID, and vice versa. This is done as follows:<table>
<tr><td nowrap="nowrap" valign="top">High-Word</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">of ap_fpname</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">-1</td>
<td valign="top">The function expects in the low-word the MiNT ID of an
application and after the call returns the AES ID of this
application.</td></tr>

<tr><td nowrap="nowrap" valign="top">-2</td>
<td valign="top">The function expects in the low-word the AES ID of an
application and after the call returns the MiNT ID of this
application.</td></tr>

<tr><td nowrap="nowrap" valign="top">-3</td>
<td valign="top">The AES ID of the topped application is returned. The
low-word plays no effect here and can be 0. This is only available
under MyAES (since 0.94a), N.AES and XaAE.

</td></tr>
</table>

<br><br>

<b>Note:</b> The function works correctly only if the relevant
program was launched with <i><a href="008012.html#shel_write">shel_write</a>.</i> One should also point
out that threads can <i>not</i> be found with this function.<br><br>

For KAOS 1.4.2 and <a href="00b.html">MagiC</a> one can also obtain the name of an
application by passing the string "?\0\n", where "n" represents the
ap_id. If the function value returns 0, the ap_id is invalid.
Otherwise the return is 1, and the string will be overwritten by the
application's name. If two applications have the same name, only the
first will be found.<br><br>

Some AES names are pre-defined:
<br>"SCRENMGR": Screen manager
<br>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;": Integrated desktop
<br>"?AGI&nbsp;&nbsp;&nbsp;&nbsp;": <a href="#appl_getinfo">appl_getinfo</a> with AES versions < 4.00 is present</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> A negative return value denotes that an error has arisen.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The presence of the additional features can be checked with
<a href="Application.html#_25apgi_4">appl_getinfo</a> (opcode 4).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20appl_find">Binding</a> &nbsp; <a href="#appl_search">appl_search</a> &nbsp; <a href="008002.html#The_20screen-manager">Screen-manager</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_find"></a>8.3.4.1 Bindings for appl_find</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_find">appl_find</a> ( CONST int8_t *ap_fpname );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_find">appl_find</a> (CONST int8_t *ap_fpname)
{
   <a href="008002.html#addr_in">addr_in</a>[0] = ap_fpname;
   return ( <a href="008002.html#crys_if">crys_if</a>(13) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">13    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a></td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[0]</td>
  <td align="left" valign="top">ap_fpname</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="appl_getinfo"></a>8.3.5 appl_getinfo</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application get information« - Inquire information about
available function calls and properties of the AES.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">130</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_getinfo ( int16_t ap_gtype, int16_t *ap_gout1,
int16_t *ap_gout2, int16_t *ap_gout3, int16_t *ap_gout4 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">With the function appl_getinfo one can inquire certain
properties of the operating system at run-time.<br><br>

<i>ap_gtype</i> determines the type of information that is to be
returned in shorts pointed to by <i>ap_gout1..4.</i> Details are as
follows:<a name="_25apgi_0"></a>
<br><br>

<b><a href="008.html">AES</a>_LARGEFONT (0): Get AES regular font information</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">Font height (in points)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">Font ID</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top">Font type (0=system font, 1=outline font)

</td></tr>
</table>

<a name="_25apgi_1"></a>
<br><br>

<b><a href="008.html">AES</a>_SMALLFONT (1): Get AES small font information</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">Font height (in points)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">Font ID</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top">Font type (0=system font, 1=outline font)

</td></tr>
</table>

<a name="_25apgi_2"></a>
<a name="VDI_20device_20number"></a>
<a name="Device_20number_20of_20the_20VDI"></a>
<a name="Resource_20format_2C_20New"></a>
<a name="Colour_20icons_20present_3F"></a>
<a name="Icons_20present_3F_2C_20Colour"></a>
<br><br>

<b><a href="008.html">AES</a>_SYSTEM (2): Colours</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">VDI device number (device ID)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">Number of colours supported by AES object library</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top">Colour icons present (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top">Bit 0:</td>
<td valign="top">New resource file format (AES4) is supported</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1:</td>
<td valign="top">Indicates that Interface resource file format (<a href="008016.html#RSHDR">RSHDR</a>:rsh_vrsn =
3) is supported
</td></tr>
</table>


</td></tr>
</table>

<a name="_25apgi_3"></a>
<a name="Operating_20system_20language"></a>
<a name="Language_20of_20the_20operating_20system"></a>
<br><br>

<b><a href="008.html">AES</a>_LANGUAGE (3): AES language</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top"><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">-</td>
  <td align="left" valign="top">English</td>
</tr>
<tr>
  <td align="left" valign="top">1</td>
  <td align="left" valign="top">-</td>
  <td align="left" valign="top">German</td>
</tr>
<tr>
  <td align="left" valign="top">2</td>
  <td align="left" valign="top">-</td>
  <td align="left" valign="top">French</td>
</tr>
<tr>
  <td align="left" valign="top">3</td>
  <td align="left" valign="top">-</td>
  <td align="left" valign="top">Reserved</td>
</tr>
<tr>
  <td align="left" valign="top">4</td>
  <td align="left" valign="top">-</td>
  <td align="left" valign="top">Spanish</td>
</tr>
<tr>
  <td align="left" valign="top">5</td>
  <td align="left" valign="top">-</td>
  <td align="left" valign="top">Italian</td>
</tr>
<tr>
  <td align="left" valign="top">6</td>
  <td align="left" valign="top">-</td>
  <td align="left" valign="top">Swedish</td>
</tr>
</table>
</div>



</td></tr>
</table>

<a name="_25apgi_4"></a>
<a name="Multitasking_20preemptive_3F"></a>
<a name="Preemptive_20multitasking_3F"></a>
<br><br>

<b><a href="008.html">AES</a>_PROCESS (4): General AES environment info 1</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">Preemptive multitasking (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top"><a href="#appl_find">appl_find</a> converts MiNT/AES ID's (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top"><a href="#appl_search">appl_search</a> implemented (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top"><a href="008011.html#rsrc_rcfix">rsrc_rcfix</a> implemented (1) or not (0)

</td></tr>
</table>

<a name="_25apgi_5"></a>
<br><br>

<b><a href="008.html">AES</a>_PCGEM (5): General AES environment info 2</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top"><a href="008010.html#objc_xfind">objc_xfind</a> implemented (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">Reserved, always 0</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top"><a href="00800f.html#menu_click">menu_click</a> implemented (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top"><a href="008012.html#shel_rdef">shel_rdef</a>/<a href="008012.html#shel_wdef">shel_wdef</a> implemented (1)

</td></tr>
</table>

<a name="_25apgi_6"></a>
<br><br>

<b><a href="008.html">AES</a>_INQUIRE (6): General AES environment info 3</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top"><a href="#appl_read">appl_read</a> -1 is valid param. (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top"><a href="008012.html#shel_get">shel_get</a> -1 is valid param. (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top"><a href="00800f.html#menu_bar">menu_bar</a> -1 is valid param. (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top"><a href="00800f.html#menu_bar">menu_bar</a> 100 (<a href="00b.html">MagiC</a>) is valid param. (1) or not (0)

</td></tr>
</table>

<a name="_25apgi_7"></a>
<br><br>

<b>7: Reserved for MagiC and other OS extensions; MultiTOS sets
all return values always to 0. In <a href="00b.html">MagiC</a>:</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top">Bit 0:</td>
<td valign="top">wdlg_xx functions implemented (1)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1:</td>
<td valign="top">lbox_xx functions implemented (1)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 2:</td>
<td valign="top">fnts_xx functions implemented (1)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 3:</td>
<td valign="top">fslx_xx functions implemented (1)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 4:</td>
<td valign="top">pdlg_xx functions implemented (1) or not (0) in each case
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">Reserved</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top">Reserved</td></tr>

<tr><td nowrap="nowrap" valign="top">ag_gout4:</td>
<td valign="top">Reserved

</td></tr>
</table>

<a name="_25apgi_8"></a>
<a name="Mouse_20form_20management_2C_20Type_20of"></a>
<a name="Management_20of_20mouse_20form"></a>
<br><br>

<b><a href="008.html">AES</a>_<a href="004015.html#MOUSE">MOUSE</a> (8): Mouse support</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top"><a href="00800c.html#graf_mouse">graf_mouse</a> modes (258-260) supported (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">Mouse form managed by the AES for each application (1) or
not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top"><b>Warning: Double assignment</b>
<br>- Mouse-wheels support (XaAES) - If a driver is installed which
uses TORG 105, then this value is a bit-vector of the currently
available mouse-wheels

</td></tr>
</table>

<a name="_25apgi_9"></a>
<br><br>

<b><a href="008.html">AES</a>_<a href="008016.html#MENU">MENU</a> (9): Menu support</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">MultiTOS submenus supported (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">MultiTOS popups supported (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top">MultiTOS scroll menus supported (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top">Extended <a href="008007.html#MN_SELECTED">MN_SELECTED</a> message (object tree info in msg[5..7])
supported (1) or not (0)

</td></tr>
</table>

<a name="_25apgi_10"></a>
<br><br>

<b><a href="008.html">AES</a>_SHELL (10): <a href="008012.html#shel_write">shel_write</a></b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">Modes supported<table>
<tr><td nowrap="nowrap" valign="top">Bit 0..7:</td>
<td valign="top">Indicate highest legal value for (sh_wdoex & 0x00ff)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 8..15:</td>
<td valign="top">Indicate which bits in (sh_wdoex & 0xFF00) are supported as in
MultiTOS
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top">1:</td>
<td valign="top">shel_write (0) makes previous shel_write calls invalid (i.e. the
desktop becomes follower program) (TOS 1.04 and <a href="00b.html">MagiC</a>)</td></tr>

<tr><td nowrap="nowrap" valign="top">0:</td>
<td valign="top"> Launches program (MultiTOS)
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top">1:</td>
<td valign="top">shel_write (1) launches a program when the running one exits
(TOS 1.04 and MagiC)</td></tr>

<tr><td nowrap="nowrap" valign="top">0:</td>
<td valign="top"> Launches program immediately (MultiTOS)
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top">ARGV style parameter passing via sh_wiscr supported (1) or not
(0)

</td></tr>
</table>

<a name="_25apgi_11"></a>
<br><br>

<b><a href="008.html">AES</a>_WINDOW (11): window support</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">Extended WF_ functions in <a href="008009.html#wind_get">wind_get</a>/<a href="008009.html#wind_set">wind_set</a> (0=not available,
1=available)<table>
<tr><td nowrap="nowrap" valign="top">Bit 0:</td>
<td valign="top"><a href="008009.html#WF_TOP">WF_TOP</a> returns window below current one</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1:</td>
<td valign="top"> wind_get(<a href="008009.html#WF_NEWDESK">WF_NEWDESK</a>) supported</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 2:</td>
<td valign="top"> wind_get/set(<a href="008009.html#WF_COLOR">WF_COLOR</a>)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 3:</td>
<td valign="top"> wind_get/set(<a href="008009.html#WF_DCOLOR">WF_DCOLOR</a>)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 4:</td>
<td valign="top"> wind_get(<a href="008009.html#WF_OWNER">WF_OWNER</a>)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 5:</td>
<td valign="top"> wind_get/set(<a href="008009.html#WF_BEVENT">WF_BEVENT</a>)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 6:</td>
<td valign="top"> <a href="008009.html#WF_BOTTOM">WF_BOTTOM</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 7:</td>
<td valign="top"> <a href="008009.html#WF_ICONIFY">WF_ICONIFY</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 8:</td>
<td valign="top"> <a href="008009.html#WF_UNICONIFY">WF_UNICONIFY</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 9:</td>
<td valign="top"> <a href="008009.html#WF_WHEEL">WF_WHEEL</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 10:</td>
<td valign="top"> wind_get(<a href="008009.html#WF_FIRSTAREAXYWH">WF_FIRSTAREAXYWH</a>)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 11:</td>
<td valign="top"> wind_get/set(<a href="008009.html#WF_OPTS">WF_OPTS</a>)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 12:</td>
<td valign="top"> wind_get/set(<a href="008009.html#WF_MENU">WF_MENU</a>)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 13:</td>
<td valign="top"> wind_get/set(<a href="008009.html#WF_WORKXYWH">WF_WORKXYWH</a>)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 14:</td>
<td valign="top"> Supports wind_get(<a href="008009.html#WF_CALCW2F">WF_CALCW2F</a>/<a href="008009.html#WF_CALCF2W">WF_CALCF2W</a>) and
wind_set(<a href="008009.html#WO0_WCOWORK">WO0_WCOWORK</a>) modes</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 15:</td>
<td valign="top"> wind_set and wind_get can be called with the special handle -2.
Then, wind_set and wind_get invoked with this special handle report if
the mode is supported by the <a href="008.html">AES</a>.
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top">Bit 0:</td>
<td valign="top">wind_get/set (<a href="008009.html#WF_WIDGETS">WF_WIDGETS</a>), N.AES</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1..15:</td>
<td valign="top">Reserved
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top">New widgets support: (0=supported, 1=not supported)<table>
<tr><td nowrap="nowrap" valign="top">Bit 0:</td>
<td valign="top">Iconifier</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1:</td>
<td valign="top">Backdrop button (<a href="00b.html">MagiC</a>)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 2:</td>
<td valign="top">[Shift]-click for backdrop</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 3:</td>
<td valign="top"> 'Hot' close-box (GEM/3 and <a href="00b.html">MagiC</a>)</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 4..15:</td>
<td valign="top"> Reserved, 0
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top"><a href="008009.html#wind_update">wind_update</a> 'Check and set' implemented (1) or not (0)

</td></tr>
</table>

<a name="_25apgi_12"></a>
<br><br>

<b><a href="008.html">AES</a>_MESSAGE (12): <a href="008007.html#Messages">Messages</a> sent to applications</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">Bit field of extra messages supported (0=no, 1=yes)<table>
<tr><td nowrap="nowrap" valign="top">Bit 0:</td>
<td valign="top"><a href="008007.html#WM_NEWTOP">WM_NEWTOP</a> is meaningful</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1:</td>
<td valign="top"><a href="008007.html#WM_UNTOPPED">WM_UNTOPPED</a> is sent</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 2:</td>
<td valign="top"><a href="008007.html#WM_ONTOP">WM_ONTOP</a> is sent</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 3:</td>
<td valign="top"><a href="008007.html#AP_TERM">AP_TERM</a> is sent</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 4:</td>
<td valign="top">MultiTOS <a href="00500e.html#Shutdown">Shutdown</a> and <a href="008012.html#Resolution_20change">Resolution change</a> messages supported</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 5:</td>
<td valign="top"><a href="008007.html#CH_EXIT">CH_EXIT</a> is sent</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 6:</td>
<td valign="top"><a href="008007.html#WM_BOTTOMED">WM_BOTTOMED</a> is sent</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 7:</td>
<td valign="top"><a href="008007.html#WM_ICONIFY">WM_ICONIFY</a> is sent</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 8:</td>
<td valign="top"><a href="008007.html#WM_UNICONIFY">WM_UNICONIFY</a> is sent</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 9:</td>
<td valign="top"><a href="008007.html#WM_ALLICONIFY">WM_ALLICONIFY</a> is sent</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 10:</td>
<td valign="top"><a href="008007.html#WM_REPOSED">WM_REPOSED</a> is sent
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">Reserved, all 0</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top"><a href="008007.html#WM_ICONIFY">WM_ICONIFY</a> returns coordinates (1) or not (0)

</td></tr>
</table>

<a name="_25apgi_13"></a>
<br><br>

<b><a href="008.html">AES</a>_<a href="008016.html#OBJECT">OBJECT</a> (13): Object information</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">3D-objects via ob_flags implemented (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">0 - <a href="008010.html#objc_sysvar">objc_sysvar</a> not present
<br>1 - MultiTOS 1.01 objc_sysvar present
<br>2 - Extended objc_sysvar present</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top"> Speedo and GDOS fonts permitted in <a href="008016.html#TEDINFO">TEDINFO</a> (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top"> Reserved for <a href="00b.html">MagiC</a> and other extensions; MultiTOS always sets
all return values to 0. In MagiC and N.AES the following apply:<table>
<tr><td nowrap="nowrap" valign="top">Bit 0:</td>
<td valign="top"><a href="008002.html#G_SWBUTTON">G_SWBUTTON</a> supported</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1:</td>
<td valign="top"><a href="008002.html#G_POPUP">G_POPUP</a> supported</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 2:</td>
<td valign="top"><a href="008002.html#WHITEBAK">WHITEBAK</a> steuert Unterstriche und Buttons</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 3:</td>
<td valign="top"><a href="008002.html#G_SHORTCUT">G_SHORTCUT</a> supported
</td></tr>
</table>


</td></tr>
</table>

<a name="_25apgi_14"></a>
<a name="Flydials_20present_3F"></a>
<a name="Keyboard_20tables_20present_3F"></a>
<a name="MagiC_20Flydials_20present_3F"></a>
<a name="MagiC_20keyboard_20tables_20present_3F"></a>
<a name="Cursor_20position_2C_20Return_20of_20the"></a>
<br><br>

<b><a href="008.html">AES</a>_FORM (14): Forms (MagiC <a href="00800b.html#form_xdo">form_xdo</a> and <a href="00800b.html#form_xdial">form_xdial</a>)</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">MagiC Flydials present (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">MagiC keyboard tables present (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top">Last cursor position returned from obj_edit (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top">Reserved, 0

</td></tr>
</table>

<a name="_25apgi_64"></a>
<br><br>

<b><a href="008.html">AES</a>_EXTENDED (64): Extended functions</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top"><a href="008012.html#shel_write">shel_write</a>(10) with AP_AESTERM possible (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">Extended shel_write SHW_<a href="00b013.html#SHUTDOWN">SHUTDOWN</a>(4)/SHW_RESCHANGE(5) present (1)
or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top"><a href="#appl_search">appl_search</a>:<table>
<tr><td nowrap="nowrap" valign="top">Bit 0:</td>
<td valign="top">Long names present</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1:</td>
<td valign="top">Mode <a href="Application.html#APP_TASKINFO">APP_TASKINFO</a> available
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top"><a href="00800b.html#form_error">form_error</a> with all GEMDOS error-codes present (1) or not (0)

</td></tr>
</table>

<a name="_25apgi_65"></a>
<br><br>

<b><a href="008.html">AES</a>_NAES (65): Additional N.AES functions</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top"><a href="#appl_control">appl_control</a> present (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top"> Highest opcode for appl_control</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top"> <a href="008012.html#shel_help">shel_help</a> present (1) or not (0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top"> <a href="008009.html#wind_draw">wind_draw</a> present (1) or not (0)

</td></tr>
</table>

<a name="AES_VERSION"></a>
<a name="_25apgi_96"></a>
<br><br>

<b>96: <a href="008.html">AES</a> Version</b>
<br>There is an <a href="#appl_getinfo_str">extended mode</a> since XaAES from 2004-12-18.<table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">Major version number (decimal)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">Minor version number (decimal)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top">Development Status (Beta, alpha, etc.)
<br>This is a 16-bit integer where bits 0-7 (the low byte) is a value
indicating the development status of the AES, see below
(<a href="008.html">AES</a>_DEVSTATUS_xxx) for meaning of different values. Bits 8-15 are
flags, see below (<a href="008.html">AES</a>_FDEVSTATUS_xxx) for current definitions.
<br><a name="AES_DEVSTATUS_ALPHA"></a>
<a name="AES_DEVSTATUS_BETA"></a>
<a name="AES_DEVSTATUS_RELEASE"></a>
<br>

AES_DEVSTATUS_ALPHA&nbsp;&nbsp; 0
<br>AES_DEVSTATUS_BETA&nbsp;&nbsp;&nbsp; 1
<br>AES_DEVSTATUS_RELEASE 2
<br><a name="AES_FDEVSTATUS_STABLE"></a>
<br>

AES_FDEVSTATUS_STABLE 0x100</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top">Target platform (m68k, etc.)
<br>This is a value indicating which platform the AES was built
for. See below (<a href="008.html">AES</a>_ARCH_xxx) for meaning of different values.
<br><a name="AES_ARCH_M68K"></a>
<a name="AES_ARCH_M68000"></a>
<a name="AES_ARCH_M68010"></a>
<a name="AES_ARCH_M68020"></a>
<a name="AES_ARCH_M68030"></a>
<a name="AES_ARCH_M68040"></a>
<a name="AES_ARCH_M68060"></a>
<a name="AES_ARCH_M6802060"></a>
<a name="AES_ARCH_COLDFILRE"></a>
<br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Label</td>
  <td align="center" valign="top">Value</td>
  <td align="left" valign="top">Target platfrom</td>
</tr>
<tr>
  <td align="left" valign="top">AES_ARCH_M68K</td>
  <td align="center" valign="top">0</td>
  <td align="left" valign="top">MC-68000</td>
</tr>
<tr>
  <td align="left" valign="top">AES_ARCH_M68000</td>
  <td align="center" valign="top">0</td>
  <td align="left" valign="top">MC-68000</td>
</tr>
<tr>
  <td align="left" valign="top">AES_ARCH_M68010</td>
  <td align="center" valign="top">1</td>
  <td align="left" valign="top">MC-68010</td>
</tr>
<tr>
  <td align="left" valign="top">AES_ARCH_M68020</td>
  <td align="center" valign="top">2</td>
  <td align="left" valign="top">MC-68020</td>
</tr>
<tr>
  <td align="left" valign="top">AES_ARCH_M68030</td>
  <td align="center" valign="top">3</td>
  <td align="left" valign="top">MC-68030</td>
</tr>
<tr>
  <td align="left" valign="top">AES_ARCH_M68040</td>
  <td align="center" valign="top">4</td>
  <td align="left" valign="top">MC-68040</td>
</tr>
<tr>
  <td align="left" valign="top">AES_ARCH_M68060</td>
  <td align="center" valign="top">5</td>
  <td align="left" valign="top">MC-68060</td>
</tr>
<tr>
  <td align="left" valign="top">AES_ARCH_M6802060</td>
  <td align="center" valign="top">6</td>
  <td align="left" valign="top">MC-68020-060</td>
</tr>
<tr>
  <td align="left" valign="top">AES_ARCH_COLDFILRE</td>
  <td align="center" valign="top">7</td>
  <td align="left" valign="top">Coldfire</td>
</tr>
</table>
</div>



</td></tr>
</table>

<br><br>

Together (<i>ap_gout1</i> & <i>ap_gout2</i>), these two contain
the decimal representation of the AES's version number. For
XaAES v0.992, <i>ap_gout1</i> contains 0 (0x0000) and
<i>ap_gout1</i> contains 992 (0x3e0).<a name="AES_WOPTS"></a>
<a name="_25apgi_97"></a>
<br><br>

<b>97: Available <a href="008009.html#WF_OPTS">WF_OPTS</a> settings</b>
<br>Since XaAES 2005-07-09<table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">Available window options 0 - see <a href="008009.html#wind_set">wind_set</a>/get(<a href="008009.html#WF_OPTS">WF_OPTS</a>, wopt0)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">Available window options 1 - see wind_set/get(<a href="008009.html#WF_OPTS">WF_OPTS</a>, wopt1)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top">Available window options 2 - see wind_set/get(<a href="008009.html#WF_OPTS">WF_OPTS</a>, wopt2)</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top">Reserved - always cleared

</td></tr>
</table>

<a name="AES_FUNCTIONS"></a>
<a name="_25apgi_98"></a>
<br><br>

<b>98: Available extended AES functions</b>
<br>Since XaAES 2005-12-08<table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top">Bit 0:</td>
<td valign="top">If set, the following <a href="00b.html">MagiC</a> 5.10-introduced functions exist;
exists;<table>
<tr><td nowrap="nowrap" valign="top"><a href="008010.html#objc_wdraw">objc_wdraw</a></td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="008010.html#objc_wchange">objc_wchange</a></td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="008010.html#objc_wedit">objc_wedit</a></td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="00800c.html#graf_wwatchbox">graf_wwatchbox</a></td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="00800b.html#form_wbutton">form_wbutton</a></td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="00800b.html#form_wkeybd">form_wkeybd</a></td>
<td valign="top">
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1:</td>
<td valign="top">If set, <a href="#appl_options">appl_options</a> exists</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 2..15:</td>
<td valign="top">Not yet defined, always reads 0
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">Not yet defined, all bits reads 0</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top">Not yet defined, all bits reads 0</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top">Not yet defined, all bits reads 0

</td></tr>
</table>

<a name="AES_AOPTS"></a>
<a name="_25apgi_99"></a>
<br><br>

<b>99: Available application options</b>
<br>The bitmasks returned here are identical to the bitmasks used to
modify the application options via <a href="#appl_options">appl_options</a>(APL_OPTS). Needless to
say, this option is not available if bit 0 in <i>ap_gout1</i> is
cleared after appl_getinfo(AES_FUNCTIONS).
<br>Since XaAES 2005-12-08<table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top">Bit 0:</td>
<td valign="top">If set, extended slider management is available.</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1:</td>
<td valign="top">If set, extended <a href="008010.html#objc_edit">objc_edit</a> cursor management is present; see
more info about this below</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 2..15:</td>
<td valign="top">Not yet defined, always reads 0
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">Not yet defined, all bits read 0</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top">Not yet defined, all bits read 0</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top">Not yet defined, all bits read 0

</td></tr>
</table>

<a name="_25apgi_22360"></a>
<br><br>

<b><a href="008.html">AES</a>_WINX (22360): Information about extensions in WINX</b>
<br>This information type exists since WINX 2.3<table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">Bit-vector for WF_ functions in <a href="008009.html#wind_get">wind_get</a>/<a href="008009.html#wind_set">wind_set</a>:<table>
<tr><td nowrap="nowrap" valign="top">Bit 0:</td>
<td valign="top"><a href="008009.html#WF_WINX">WF_WINX</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1:</td>
<td valign="top"><a href="008009.html#WF_WINXCFG">WF_WINXCFG</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 2:</td>
<td valign="top"><a href="008009.html#WF_DDELAY">WF_DDELAY</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 3:</td>
<td valign="top"><a href="008009.html#WF_SHADE">WF_SHADE</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 4:</td>
<td valign="top"><a href="008009.html#WF_STACK">WF_STACK</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 5:</td>
<td valign="top"><a href="008009.html#WF_TOPALL">WF_TOPALL</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 6:</td>
<td valign="top"><a href="008009.html#WF_BOTTOMALL">WF_BOTTOMALL</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 7:</td>
<td valign="top"><a href="008009.html#WF_KIND">WF_KIND</a>
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">Bit-vector for AES messages:<table>
<tr><td nowrap="nowrap" valign="top">Bit 0:</td>
<td valign="top">Extended <a href="008007.html#WM_ARROWED">WM_ARROWED</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1:</td>
<td valign="top"><a href="008007.html#WM_SHADED">WM_SHADED</a> message is sent</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 2:</td>
<td valign="top"><a href="008007.html#WM_UNSHADED">WM_UNSHADED</a> message is sent
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top">Bit-vector for extensions of AES functions<table>
<tr><td nowrap="nowrap" valign="top">Bit 0:</td>
<td valign="top"><a href="008009.html#wind_calc">wind_calc</a> permits <a href="008009.html#WC_WIN">WC_WIN</a> modes
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top">Bit-vector for general information about the AES<table>
<tr><td nowrap="nowrap" valign="top">Bit 0:</td>
<td valign="top">DPAT writing desk background is suported directly by the
AES
</td></tr>
</table>


</td></tr>
</table>

<a name="_25apgi_22528"></a>
<br><br>

<b>22528: XaAES</b>
<br><b>No longer supported as of 2004-12-18. Look to <i>ap_gtype</i>
= 96</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">Major version number</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">Minor version number</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top">Target platform this XaAES was compiled for</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top">Status (beta, alpha, etc.)

</td></tr>
</table>

<br><br>

<b>Note:</b> A problem with this function consists of
establishing just when it may be called. Although it ought to be
present as of AES version 4.0, <a href="00b.html">MagiC</a> 2.0 (and also <a href="00b.html">MagiC</a> 3.0) for
example show the version 3.99. For this reason many programmers define
the function <a href="#appl_xgetinfo">appl_xgetinfo</a>, in which a check is made whether
appl_getinfo is present in the current system environment.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> A return value of 0 indicates an error; with a value of 1, no
error has arisen.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">Available as of AES version 4.00.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20appl_getinfo">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_getinfo"></a>8.3.5.1 Bindings for appl_getinfo</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_getinfo">appl_getinfo</a> ( int16_t ap_gtype, int16_t *ap_gout1,
int16_t *ap_gout2, int16_t *ap_gout3, int16_t *ap_gout4 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_getinfo">appl_getinfo</a> (int16_t ap_gtype, int16_t *ap_gout1,
                      int16_t *ap_gout2, int16_t *ap_gout3,
                      int16_t *ap_gout4)
{
   <a href="008002.html#int_in">int_in</a>[0] = ap_gtype;

   <a href="008002.html#crys_if">crys_if</a> (130);

   *ap_gout1 = <a href="008002.html#int_out">int_out</a>[1];
   *ap_gout2 = <a href="008002.html#int_out">int_out</a>[2];
   *ap_gout3 = <a href="008002.html#int_out">int_out</a>[3];
   *ap_gout4 = <a href="008002.html#int_out">int_out</a>[4];

   return ( <a href="008002.html#int_out">int_out</a>[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">130   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">5     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">ap_gtype</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[1]</td>
  <td align="left" valign="top">ap_gout1</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[2]</td>
  <td align="left" valign="top">ap_gout2</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[3]</td>
  <td align="left" valign="top">ap_gout3</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[4]</td>
  <td align="left" valign="top">ap_gout4</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h4><a name="appl_xgetinfo"></a>8.3.5.2 appl_xgetinfo</h4>
<a name="appl_getinfo_2C_20Existence_20of"></a>
<pre>/* The following code tests whether <a href="#appl_getinfo">appl_getinfo</a> is available in the
   current system environment, and if positive calls the aforesaid
   function.

   It is suggested that instead of <a href="#appl_getinfo">appl_getinfo</a>, only appl_xgetinfo
   be used in your own programs. */


GLOBAL int16_t appl_xgetinfo ( int16_t type, int16_t *out1, int16_t *out2,
                            int16_t *out3, int16_t *out4 )
{

   BOOLEAN has_agi = FALSE;

   has_agi = ((_GemParBlk.<a href="008002.html#global">global</a>[0] == 0x399 && (is_<a href="00b.html">MagiC</a>() >= 0x0200))
             || (_GemParBlk.<a href="008002.html#global">global</a>[0] >= 0x400)
             || (<a href="#appl_find">appl_find</a> ("?AGI") >= 0));

   if (has_agi)
      return (<a href="#appl_getinfo">appl_getinfo</a> (type, out1, out2, out3, out4));
   else
      return (0);
} /* appl_xgetinfo */
</pre>
<p>The query 'is_<a href="00b.html">MagiC</a>' is a function that evaluates the MagiC
cookie and returns the version number. This is necessary as MagiC 2
already knows the function appl_getinfo, but does not as yet permit interro
gation with "?AGI".</p>

<p>See also: <a href="#Application_20library">Applications</a> &nbsp; <a href="002002.html">GEM</a> &nbsp; <a href="00a002.html">Style guidelines</a></p>

<h3><a name="appl_getinfo_str"></a>8.3.6 appl_getinfo_str</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application get information« - Inquire extended information
about available function calls and properties.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">130</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_getinfo_str ( int16_t ap_gtype, int16_t *ap_gout1,
int16_t *ap_gout2, int16_t *ap_gout3, int16_t *ap_gout4 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call appl_getinfo_str is an extended version of
<a href="#appl_getinfo">appl_getinfo</a>. Instead of the integer values, it returns character
strings.<br><br>

<i>ap_gtype</i> determines the type of information that is to be
inquired for. Details are as follows:<br><br>

<b>96: <a href="008.html">AES</a> Version</b><table>
<tr><td nowrap="nowrap" valign="top">ap_gout1:</td>
<td valign="top">This is a character string with a fixed lenght of 8 bytes, into
which the AES will write its unique AES ID. The AES ID is
a left-aligned, space padded string, and can be considered to be the
current AES's short name. For XaAES this string is filled with
"XaAES". This string is not NULL-terminated.</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout2:</td>
<td valign="top">This is a character buffer that the application must ensure can
take up to 256 (255 + '0' termination) characters. The AES fills
its long name description into this buffer. Lines in here are
delimitted using CR (ASCII 13). For XaAES, this buffer contains the
following after the call:<br>

"XaAES Ain't the AES, a free MultiTasking AES for
FreeMiNT"</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout3:</td>
<td valign="top">This is a character buffer that the application must ensure can
take up to 256 (255 + '0' termination) characters. The AES fills
this buffer with the following information where each element is
delimitted by the "|" (ASCII 0x7c) character. The string is
constructed as follows:
<br><br>

"asci version|development status| architecture target| build date
& time| compiler used",0
<br><br>

Example string returned might be:
<br>"0.992|Alpha|m68k|Dec 17 2004 22:58:52|gcc 2.95.3",0</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_gout4:</td>
<td valign="top">Reserved, set to NULL.

</td></tr>
</table>

<br><br>

<b>Note:</b> A problem with this function consists of
establishing just when it may be called. Although it ought to be
present as of AES version 4.0, <a href="00b.html">MagiC</a> 2.0 (and also <a href="00b.html">MagiC</a> 3.0) for
example show the version 3.99. For this reason many programmers define
the function <a href="#appl_xgetinfo">appl_xgetinfo</a>, in which a check is made whether
<a href="#appl_getinfo">appl_getinfo</a> is present in the current system environment.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> A return value of 0 indicates an error; with a value of 1, no
error has arisen.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">As of XaAES from 2004-12-18.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20appl_getinfo_str">Binding</a> &nbsp; <a href="#appl_getinfo">appl_getinfo</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_getinfo_str"></a>8.3.6.1 Bindings for appl_getinfo_str</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_getinfo_str">appl_getinfo_str</a> ( int16_t ap_gtype, int16_t *ap_gout1,
int16_t *ap_gout2, int16_t *ap_gout3, int16_t *ap_gout4 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_getinfo_str">appl_getinfo_str</a> (int16_t ap_gtype, int16_t *ap_gout1,
                          int16_t *ap_gout2, int16_t *ap_gout3,
                          int16_t *ap_gout4)
{
   <a href="008002.html#int_in">int_in</a>[0] = ap_gtype;

   <a href="008002.html#addr_in">addr_in</a>[0] = (int32_t)ap_out1;
   <a href="008002.html#addr_in">addr_in</a>[1] = (int32_t)ap_out2;
   <a href="008002.html#addr_in">addr_in</a>[2] = (int32_t)ap_out3;
   <a href="008002.html#addr_in">addr_in</a>[3] = (int32_t)ap_out4;

   <a href="008002.html#crys_if">crys_if</a> (130);

   return ( <a href="008002.html#int_out">int_out</a>[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">130   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">4     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">ap_gtype</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a></td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[0]</td>
  <td align="left" valign="top">ap_gout1</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[1]</td>
  <td align="left" valign="top">ap_gout2</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[2]</td>
  <td align="left" valign="top">ap_gout3</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>+12</td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[3]</td>
  <td align="left" valign="top">ap_gout4</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="appl_getcicon"></a>8.3.7 appl_getcicon</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application get Cicon«</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">131</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_getcicon(int16_t type,char *name,int16_t size,
int_16_t *cicon_width,int16_t *cicon_height, <a href="008016.html#CICON">CICON</a> **cicon_data);</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The goal of this function is to provide cicon server (24 bit
true color for MyAES or 32 picture) This function provide only <a href="008016.html#CICON">CICON</a>
data with bitmap and mask and not a full object icon. Data provide by
this function should be relocated and copy, AES not keep in memory
<a href="008016.html#CICON">CICON</a> block provided that should be copy.<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">type</td>
<td valign="top">type&0xFF : kind of icon type:
<br><table>
<tr><td nowrap="nowrap" valign="top">0 :</td>
<td valign="top">Application icon</td></tr>

<tr><td nowrap="nowrap" valign="top">1 :</td>
<td valign="top">File extension icon</td></tr>

<tr><td nowrap="nowrap" valign="top">2 :</td>
<td valign="top">Reserved</td></tr>

<tr><td nowrap="nowrap" valign="top">3 :</td>
<td valign="top">Load PNG file as icon from specific path</td></tr>

<tr><td nowrap="nowrap" valign="top">4 :</td>
<td valign="top">Other icon (any other specific icon)
</td></tr>
</table>

<br>


<br><br>

If type&0x100 = 0 cicon_data return a <a href="008016.html#CICON">CICON</a> block as need by
AES for display color icon else cicon_data return a simple bitmap
block in ARBG format with 8 bit transparency (this format is not
recognize by AES)</td></tr>

<tr><td nowrap="nowrap" valign="top">name</td>
<td valign="top">name of the cicon to load, some exemple:
<br>with type&0xFF:<table>
<tr><td nowrap="nowrap" valign="top">0 :</td>
<td valign="top">name = "purec"</td></tr>

<tr><td nowrap="nowrap" valign="top">1 :</td>
<td valign="top">name = "html"</td></tr>

<tr><td nowrap="nowrap" valign="top">3 :</td>
<td valign="top">name = "C:\myprog\mypng\pngname.png"</td></tr>

<tr><td nowrap="nowrap" valign="top">4 :</td>
<td valign="top">name = "computer"
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">size</td>
<td valign="top"><a href="00f008.html#Size">Size</a> of the cicon to load, there is 3 different case:<table>
<tr><td nowrap="nowrap" valign="top">size > 0</td>
<td valign="top">is the size of the icon requested and should be a multiple of
16</td></tr>

<tr><td nowrap="nowrap" valign="top">size = 0</td>
<td valign="top">the default cicon size is requested and is set by <a href="008002.html#aes">aes</a>
configuration</td></tr>

<tr><td nowrap="nowrap" valign="top">size = -1</td>
<td valign="top">the return cicon can be of any size and can change from a cicon
to another
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">cicon_width</td>
<td valign="top">cicon width return</td></tr>

<tr><td nowrap="nowrap" valign="top">cicon_height</td>
<td valign="top">cicon height return</td></tr>

<tr><td nowrap="nowrap" valign="top">cicon_data</td>
<td valign="top">Return block of type <a href="008016.html#CICON">CICON</a> + mask + icon bitmap if type&0x100 =
0 else a bitmap 32 bit with alpha chanel in the format ARGB 8 bits per
chanel.
<br><br>

Relocation of cicon_data, cicon_data provide <a href="008016.html#CICON">CICON</a> block + mask +
bitmap
<br>
<br><br>

num_planes : number of planes
<br><br>

*col_data, *col_mask, *sel_data, *sel_mask: provide relative
position from the start of cicon_data and should be relocated
<br>
<br><br>

As the block can be free by the AES you should copy the block
for your need, the size of the block to copy is:<pre>number_of_block = 0
if(cicon_data->col_data) number_of_block++;
if(cicon_data->col_mask) number_of_block++;
if(cicon_data->sel_data) number_of_block++;
if(cicon_data->sel_mask) number_of_block++;

size = sizeof(<a href="008016.html#CICON">CICON</a>) + (cicon_data->num_planes * cicon_width * cicon_height * number_of_block)/8 + cicon_width*cicon_height;

<a href="008016.html#CICON">CICON</a> *newcicon;
newcicon = malloc(size);
memcpy(newcicon,cicon_data);
if(cicon_data->col_data) newcicon->col_data += newcicon;
if(cicon_data->col_mask) newcicon->col_mask += newcicon;
if(cicon_data->sel_data) newcicon->sel_data += newcicon;
if(cicon_data->sel_mask) newcicon->sel_mask += newcicon;
</pre>
<br>


<br><br>

In the case of 32 bits bitmap size of the bloc = cicon_width *
cicon_height * 4

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> A return value of 0 indicates an error, with a value of 1 no
error has arisen.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">Since MyAES 0.96 beta1</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="appl_getcicon.html#Bindings_20for_20appl_getcicon">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_getcicon"></a>8.3.7.1 Bindings for appl_getcicon</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_getcicon">appl_getcicon</a>(int16_t type,char *name,int16_t size,
int_16_t *cicon_width,int16_t *cicon_height, <a href="008016.html#CICON">CICON</a> **cicon_data);</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_getcicon">appl_getcicon</a> (int16_t type,const char *name,int16_t size,
                        int16_t *cicon_width,int16_t *cicon_height
                        <a href="008016.html#CICON">CICON</a> **cicon_data)
{
   <a href="008002.html#int_in">int_in</a>[0] = type;
   <a href="008002.html#int_in">int_in</a>[1] = size;

   <a href="008002.html#addr_in">addr_in</a>[0] = name;

   <a href="008002.html#addr_out">addr_out</a>[0] = (void *)cicon_data;

   <a href="008002.html#crys_if">crys_if</a> (131);

   *cicon_width = <a href="008002.html#int_out">int_out</a>[1];
   *cicon_height = <a href="008002.html#int_out">int_out</a>[2];

   return ( <a href="008002.html#int_out">int_out</a>[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">131   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">2     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">3     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">type</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[1]</td>
  <td align="left" valign="top">size</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a></td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[0]</td>
  <td align="left" valign="top">name</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[1]</td>
  <td align="left" valign="top">cicon_width</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[2]</td>
  <td align="left" valign="top">cicon_height</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_out">addr_out</a></td>
  <td align="left" valign="top"><a href="008002.html#addr_out">addr_out</a>[0]</td>
  <td align="left" valign="top">cicon_data</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="appl_init"></a>8.3.8 appl_init</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application initialization« - Registers the application
under AES.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 10</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t appl_init ( void );
<br>int16_t appl_init ( <a href="008016.html#X_BUF_V2">X_BUF_V2</a> *xbuf );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call appl_init registers the program with the AES, and
initializes the internal parameter passing fields. It should be the
first function called by any application that wants to use <a href="002002.html">GEM</a> calls.
As first prototyped, the function accepted no parameters; however all
'C' compilers use this call to set up internal information as well as
to update the application's global array.<br><br>

The extra parameter to an <a href="008016.html#X_BUF_V2">X_BUF_V2</a> is an extension in the FreeGEM
AES. If <a href="008002.html#addr_in">addr_in</a>[0] is set to 1 and an initialized <a href="008016.html#X_BUF_V2">X_BUF_V2</a>
structure is passed in, then on return its <i>arch</i> member will be
0 for DRI GEM or ViewMAX, and 16 or 32 for FreeGEM.<br><br>

<b>Note:</b> The version number of the AES can be inquired
after this call via the <a href="008002.html#global">global</a> field (<a href="008002.html#global">global</a>[0]).<a name="AUTO_20folder_2C_20Start_20from_20the"></a>
<br><br>

To test whether a program has been started from the AUTO folder,
the following procedure is suggested:<ul>
<li>Write the value 0 in global[0]</li>
<li>Call function appl_init</li>
<li>Inspect global field (global[0]): If there is still a zero there, then the
AES is not yet ready for operation and the program was started
from the AUTO folder.</li>
</ul>

<br><br>

Although this procedure is not documented officially, it is used
by the mouse accelerator MACCEL by Atari in this way.<br><br>

KAOS-GEM 1.4.2 returns 'KA' in <a href="008002.html#int_in">int_in</a>[0] and 'OS' in
<a href="008002.html#int_in">int_in</a>[1].</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the ID of the application. In case of an
error the value -1 is returned.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">All AES versions.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20appl_init">Binding</a> &nbsp; <a href="#appl_find">appl_find</a> &nbsp; <a href="#appl_search">appl_search</a> &nbsp; <a href="#appl_exit">appl_exit</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_init"></a>8.3.8.1 Bindings for appl_init</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_init">appl_init</a> ( void );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>EXTERN <a href="008002.html#AESPB">AESPB</a> c;

int16_t <a href="#appl_init">appl_init</a> (void)
{
   c.cb_pcontrol = <a href="008002.html#control">control</a>;
   c.cb_pglobal  = <a href="008002.html#global">global</a>;
   c.cb_pintin   = <a href="008002.html#int_in">int_in</a>;
   c.cb_pintout  = <a href="008002.html#int_out">int_out</a>;
   c.cb_padrin   = <a href="008002.html#addr_in">addr_in</a>;
   c.cb_padrout  = <a href="008002.html#addr_out">addr_out</a>;

   <a href="008002.html#control">control</a>[4] = 0;
   <a href="008002.html#crys_if">crys_if</a> (10);

   return (<a href="008002.html#int_out">int_out</a>[0]);
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">10    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="appl_options"></a>8.3.9 appl_options</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application options« - Set or get application options.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">137</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_options(int16_t mode, int16_t aopts0, int16_t
aopts1, int16_t aopts2, int16_t aopt3, int16_t *out0, int16_t *out1,
int16_t *out2, int16_t *out3);</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The purpose of the appl_options function is to let application
set/get options available to it, such as the extended <a href="008010.html#objc_edit">objc_edit</a> mode.<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;<a name="AOPT_CLEAR"></a>
<a name="AOPT_SET"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">mode</td>
<td valign="top">Selects the mode. If mode is AOPT_CLEAR (0), then the selected
options found in <i>aopt0</i> - <i>aopt3</i> are cleared, disabling
them. If AOPT_SET (1), then the selected option bit is set, enabling
them.<a name="AO0_WF_SLIDER"></a>
<a name="AO0_OBJC_EDIT"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">aopt0</td>
<td valign="top">The first group of 16 options which have the following meaning:<table>
<tr><td nowrap="nowrap" valign="top">Bit 0</td>
<td valign="top">- AO0_WF_SLIDER
<br>If this bit is set, blah, blah, yeah.</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1</td>
<td valign="top">- AO0_OBJC_EDIT
<br>If this options is enabled, <a href="008010.html#objc_edit">objc_edit</a>... blah
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">aopt1</td>
<td valign="top">The second group of 16 options, none of which is defined yet.
Always reads 0.</td></tr>

<tr><td nowrap="nowrap" valign="top">aopt2</td>
<td valign="top">The third group of 16 options, none of which is defined yet.
Always reads 0.</td></tr>

<tr><td nowrap="nowrap" valign="top">aopt3</td>
<td valign="top">The third group of 16 options, none of which is defined yet.
Always reads 0.</td></tr>

<tr><td nowrap="nowrap" valign="top">out0</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">out1</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">out2</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">out3</td>
<td valign="top">

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Return 1 = OK or 0 = error.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The presence of the function can be checked with <a href="Application.html#_25apgi_98">appl_getinfo</a>
(opcode 98).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20appl_options">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_options"></a>8.3.9.1 Bindings for appl_options</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_options">appl_options</a>(int16_t mode, int16_t aopts0, int16_t
aopts1, int16_t aopts2, int16_t aopt3, int16_t *out0, int16_t *out1,
int16_t *out2, int16_t *out3);</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_options">appl_options</a>(int16_t mode,
                int16_t aopts0, int16_t aopts1, int16_t aopts2, int16_t aopt3,
                int16_t *out0, int16_t *out1, int16_t *out2, int16_t *out3)
{
   <a href="008002.html#int_in">int_in</a>[0]  = mode;
   <a href="008002.html#int_in">int_in</a>[1]  = aopts0;
   <a href="008002.html#int_in">int_in</a>[2]  = aopts1;
   <a href="008002.html#int_in">int_in</a>[3]  = aopts2;
   <a href="008002.html#int_in">int_in</a>[4]  = aopts3;

   <a href="008002.html#crys_if">crys_if</a>(137);

  *out0 = <a href="008002.html#int_out">int_out</a>[1];
  *out1 = <a href="008002.html#int_out">int_out</a>[2];
  *out2 = <a href="008002.html#int_out">int_out</a>[3];
  *out3 = <a href="008002.html#int_out">int_out</a>[4];

  return ( <a href="008002.html#int_out">int_out</a>[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">137   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">5     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">5     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">mode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[1]</td>
  <td align="left" valign="top">aopts0</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[2]</td>
  <td align="left" valign="top">aopts1</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[3]</td>
  <td align="left" valign="top">aopts2</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[4]</td>
  <td align="left" valign="top">aopts3</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[1]</td>
  <td align="left" valign="top">out0</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[2]</td>
  <td align="left" valign="top">out1</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[3]</td>
  <td align="left" valign="top">out2</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[4]</td>
  <td align="left" valign="top">out3</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="appl_read"></a>8.3.10 appl_read</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application read« - Receives a message from another
application.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">11</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_read ( int16_t ap_rid, int16_t ap_rlength, void
*ap_rpbuff );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call appl_read aids inter-process communication between
processes running under the AES. It will halt the running
application until a sufficient number of bytes is available from the
message pipe. The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_rid</td>
<td valign="top">ID of the application from whose event buffer the data should
be read</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_rlength</td>
<td valign="top">Number of bytes to be read</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_rpbuff</td>
<td valign="top">Address of the buffer in which the data is to be stored

</td></tr>
</table>

<br><br>

The function waits if necessary until the demanded number of bytes
is actually available. In <a href="00b.html">MagiC</a> and MultiTOS the function has been
extended in such a way that it returns immediately with a suitable
message if no messages are waiting at present (<i>ap_rid:</i> -1).<br><br>

<b>Note:</b> appl_read works destructively, i.e. after the
readout the messages are removed from the message-pipe. This makes it
necessary to evaluate the read message in the same way as after a
<a href="008007.html#evnt_multi">evnt_multi</a> call, say.<br><br>

The presence of the extended features can be inquired with <a href="Application.html#_25apgi_6">appl_getinfo</a>
(opcode 6).</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If a 0 is returned then an error has occurred, else a positive
number is returned.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">All AES versions.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20appl_read">Binding</a> &nbsp; <a href="#appl_init">appl_init</a> &nbsp; <a href="#appl_write">appl_write</a> &nbsp; <a href="008007.html#evnt_mesag">evnt_mesag</a> &nbsp; <a href="008007.html#evnt_multi">evnt_multi</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_read"></a>8.3.10.1 Bindings for appl_read</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_read">appl_read</a> ( int16_t ap_rid, int16_t ap_rlength, void
*ap_rpbuff );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_read">appl_read</a> (int16_t ap_rid, int16_t ap_rlength,
                   void *ap_rpbuff)
{
   <a href="008002.html#int_in">int_in</a>[0]  = ap_rid;
   <a href="008002.html#int_in">int_in</a>[1]  = ap_rlength;
   <a href="008002.html#addr_in">addr_in</a>[0] = ap_rpbuff;

   return ( <a href="008002.html#crys_if">crys_if</a>(11) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">11    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">2     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">ap_rid</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[1]</td>
  <td align="left" valign="top">ap_rlength</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a></td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[0]</td>
  <td align="left" valign="top">ap_rpbuff</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="appl_search"></a>8.3.11 appl_search</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application search« - Search for applications in system.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">18</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_search ( int16_t ap_smode, int8_t *ap_sname,
int16_t *ap_stype, int16_t *ap_sid );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">Depending on the parameters, the function appl_search searches
for filenames of various applications running in the system. The
following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;<a name="APP_FIRST"></a>
<a name="APP_NEXT"></a>
<a name="APP_DESK"></a>
<a name="APP_TASKINFO"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_smode</td>
<td valign="top"><b>Search for:</b><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">APP_FIRST</td>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">First application</td>
</tr>
<tr>
  <td align="left" valign="top">APP_NEXT</td>
  <td align="left" valign="top">1</td>
  <td align="left" valign="top">Next application</td>
</tr>
<tr>
  <td align="left" valign="top">APP_DESK</td>
  <td align="left" valign="top">2</td>
  <td align="left" valign="top">System shell</td>
</tr>
<tr>
  <td align="left" valign="top">APP_TASKINFO</td>
  <td align="left" valign="top">0x100</td>
  <td align="left" valign="top">Request task info,</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">XaAES bit that may be added.</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_sname</td>
<td valign="top">Buffer that receives the name of the found application filename
(at least 9 bytes including a terminating NULL-byte)<a name="APP_SYSTEM"></a>
<a name="APP_APPLICATION"></a>
<a name="APP_ACCESSORY"></a>
<a name="APP_SHELL"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_stype</td>
<td valign="top"><b>Type of the process as bit-vector:</b><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">APP_SYSTEM</td>
  <td align="left" valign="top">0x001</td>
  <td align="left" valign="top">System process</td>
</tr>
<tr>
  <td align="left" valign="top">APP_APPLICATION</td>
  <td align="left" valign="top">0x002</td>
  <td align="left" valign="top">Application</td>
</tr>
<tr>
  <td align="left" valign="top">APP_ACCESSORY</td>
  <td align="left" valign="top">0x004</td>
  <td align="left" valign="top">Accessory</td>
</tr>
<tr>
  <td align="left" valign="top">APP_SHELL</td>
  <td align="left" valign="top">0x008</td>
  <td align="left" valign="top">System shell</td>
</tr>
<tr>
  <td align="left" valign="top">APP_<a href="008002.html#HIDDEN">HIDDEN</a></td>
  <td align="left" valign="top">0x100</td>
  <td align="left" valign="top">Task is disabled,</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">XaAES only for APP_TASKINFO</td>
</tr>
<tr>
  <td align="left" valign="top">APP_FOCUS</td>
  <td align="left" valign="top">0x200</td>
  <td align="left" valign="top">Active application,</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">XaAES only for APP_TASKINFO</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_sid</td>
<td valign="top">ID of the found application

</td></tr>
</table>

<br><br>

It is possible to obtain the long name of the application if one
knows its application ID.<br><br>

The long name is the one that was passed by the application at a
<a href="00800f.html#menu_register">menu_register</a> call and is also displayed in the menu bar.<br><br>

If one knows the application ID <i>apid</i> of an application,
then its long name will be transferred to the buffer <i>longname</i>
by a following call of appl_search:<br><br>

appl_search(-apid, &longname[0], &type, &pid)<br><br>

<i>type</i> here is the bit-mask of the application type also
returned normally, <i>pid</i> the MiNT-pid (not: apid) of the
application.<br><br>

So the first parameter to be passed is the negative value of the
application ID to obtain the long name of this application. This name
can be up to 32 characters long (31 characters plus terminating
NULL-byte), so one should reserve a correspondingly sized buffer for
<i>longname.</i><br><br>

APP_TASKINFO automatically returns the long name of an application
and is available only under XaAES.<br><br>

With this routine one <i>cannot</i> find threads.<a name="X_APS_CHEXIT"></a>
<a name="X_APS_CHILD0"></a>
<a name="X_APS_CHILD"></a>
<br><br>

Geneva has three extra modes:

<ul>
<li><p>X_APS_CHEXIT (-1)
<br>Retrieves the name, ID, and type of the last application to exit.
This makes it possible for a program which receives a <a href="008007.html#CH_EXIT">CH_EXIT</a> notice
to determine the name of the program which exited. Note that this
information is not buffered; this means that if one process terminates
and its parent does not make the appl_search call before a second one
does, the information will no longer reflect the first process which
terminated.</p></li>
<li><p>X_APS_CHILD0 (0x7100)
<br>Retrieve the data concerning the child of the current application
which has the lowest application ID. (This is not necessarily the
first child application the parent ran.)</p></li>
<li><p>X_APS_CHILD (0x7101)
<br>Retrieve the data for each additional child of the current
application.</p></li>
</ul>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value 1 if no error has arisen, or
the value 0 if no further applications are present.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The presence of this function can be ascertained with <a href="Application.html#_25apgi_4">appl_getinfo</a>
(opcode 4). Ascertaining of the long name and task information can be
recognized by <a href="Application.html#_25apgi_64">appl_getinfo</a> (opcode 64).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20appl_search">Binding</a> &nbsp; <a href="#appl_find">appl_find</a> &nbsp; <a href="008012.html#AES_20Broadcasting">Broadcasting</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_search"></a>8.3.11.1 Bindings for appl_search</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_search">appl_search</a> ( int16_t ap_smode, int8_t *ap_sname,
int16_t *ap_stype, int16_t *ap_sid );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_search">appl_search</a> (int16_t ap_smode, int8_t *ap_sname,
                     int16_t *ap_stype, int16_t *ap_sid)
{
   <a href="008002.html#int_in">int_in</a>[0]  = ap_smode;
   <a href="008002.html#addr_in">addr_in</a>[0] = ap_sname;

  <a href="008002.html#crys_if">crys_if</a>(18);

  *ap_stype = <a href="008002.html#int_out">int_out</a>[1];
  *ap_sid   = <a href="008002.html#int_out">int_out</a>[2];

   return ( <a href="008002.html#int_out">int_out</a>[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">18     # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">3     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">ap_smode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a></td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[0]</td>
  <td align="left" valign="top">ap_sname</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[1]</td>
  <td align="left" valign="top">ap_stype</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[2]</td>
  <td align="left" valign="top">ap_sid</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="appl_tplay"></a>8.3.12 appl_tplay</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application play« - Play back AES events.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">14</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_tplay ( <a href="008016.html#APPLRECORD">APPLRECORD</a> *ap_tpmem, int16_t ap_tpnum,
int16_t ap_tpscale );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call appl_tplay offers the possibility to play back user
actions recorded with <a href="#appl_trecord">appl_trecord</a>. The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_tpmem</td>
<td valign="top">Address of the buffer that contains the events to be replayed</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_tpnum</td>
<td valign="top">Number of events to be executed</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_tpscale</td>
<td valign="top">Speed factor for how fast AES will <i>try</i> to replay
the events (0..10000); a value of 100 = normal speed

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function always returns the value 1.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">All AES versions.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20appl_tplay">Binding</a> &nbsp; <a href="#appl_trecord">appl_trecord</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_tplay"></a>8.3.12.1 Bindings for appl_tplay</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_tplay">appl_tplay</a> ( <a href="008016.html#APPLRECORD">APPLRECORD</a> *ap_tpmem, int16_t ap_tpnum,
int16_t ap_tpscale );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_tplay">appl_tplay</a> (<a href="008016.html#APPLRECORD">APPLRECORD</a> *ap_tpmem, int16_t ap_tpnum,
                    int16_t ap_tpscale)
{
   <a href="008002.html#int_in">int_in</a>[0]  = ap_tpnum;
   <a href="008002.html#int_in">int_in</a>[1]  = ap_tpscale;
   <a href="008002.html#addr_in">addr_in</a>[0] = ap_tpmem;

   return ( <a href="008002.html#crys_if">crys_if</a>(14) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">14    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">2     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">ap_tpnum</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[1]</td>
  <td align="left" valign="top">ap_tpscale</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a></td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[0]</td>
  <td align="left" valign="top">ap_tpmem</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="appl_trecord"></a>8.3.13 appl_trecord</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application record« - Record AES events.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">15</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_trecord ( <a href="008016.html#APPLRECORD">APPLRECORD</a> *ap_tbuffer, int16_t
ap_trcount );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call appl_trecord serves for recording user actions to be
able to play them back again later. The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_tbuffer</td>
<td valign="top">Address of memory block in which the events are to be stored</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_trcount</td>
<td valign="top">Number of events to be stored

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The number of events actually recorded.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">All AES versions. The function is only implemented properly
as of GEM Version 1.2.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20appl_trecord">Binding</a> &nbsp; <a href="#appl_tplay">appl_tplay</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_trecord"></a>8.3.13.1 Bindings for appl_trecord</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_trecord">appl_trecord</a> ( <a href="008016.html#APPLRECORD">APPLRECORD</a> *ap_tbuffer, int16_t
ap_trcount );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_trecord">appl_trecord</a> (<a href="008016.html#APPLRECORD">APPLRECORD</a> *ap_tbuffer,
                      int16_t ap_trcount)
{
   <a href="008002.html#int_in">int_in</a>[0]  = ap_trcount;
   <a href="008002.html#addr_in">addr_in</a>[0] = ap_tbuffer;

   return ( <a href="008002.html#crys_if">crys_if</a>(15) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">15    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">ap_trcount</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a></td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[0]</td>
  <td align="left" valign="top">ap_tbuffer</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="appl_write"></a>8.3.14 appl_write</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application write« - Send AES message to another
application.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">12</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_write ( int16_t ap_wid, int16_t ap_wlength, void
*ap_wpbuff );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call appl_write writes a number of bytes to a valid message
pipe. The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_wid</td>
<td valign="top">ID of the application to which the message is to be sent</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_wlength</td>
<td valign="top">Number of bytes to be sent</td></tr>

<tr><td nowrap="nowrap" valign="top">ap_wpbuff</td>
<td valign="top">Address of buffer containing the message to be transferred

</td></tr>
</table>

<br><br>

<b>Notes:</b> With this function an application has the
possibility to send itself and receive a redraw message. As of <a href="00b.html">MagiC</a>
Version 4.0 the following applies: if the parameter <i>ap_wid</i> has
the value -2, then <i>ap_wpbuff</i> points to a <a href="008016.html#XAESMSG">XAESMSG</a> structure.<br><br>

As of <a href="008.html">AES</a> version 1.40, desk accessories may send <a href="008007.html#MN_SELECTED">MN_SELECTED</a>
messages to the desktop to trigger desktop functions.<br><br>

As of <a href="008.html">AES</a> version 4.00 one can send <a href="008012.html#shel_write">shel_write</a>(7...) to
'broadcast' a message to all running processes apart from the AES
itself, the desktop and one's own application.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If a zero is returned then an error has arisen, else a
positive number is returned.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">All AES versions.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20appl_write">Binding</a> &nbsp; <a href="#appl_init">appl_init</a> &nbsp; <a href="#appl_read">appl_read</a> &nbsp; <a href="#appl_find">appl_find</a> &nbsp; <a href="008007.html#Messages">Messages</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_write"></a>8.3.14.1 Bindings for appl_write</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_write">appl_write</a> ( int16_t ap_wid, int16_t ap_wlength, void
*ap_wpbuff );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_write">appl_write</a> (int16_t ap_wid, int16_t ap_wlength,
                    void *ap_wpbuff)
{
   <a href="008002.html#int_in">int_in</a>[0]  = ap_wid;
   <a href="008002.html#int_in">int_in</a>[1]  = ap_wlength;
   <a href="008002.html#addr_in">addr_in</a>[0] = ap_wpbuff;

   return ( <a href="008002.html#crys_if">crys_if</a>(12) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">12    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">2     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">ap_wid</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[1]</td>
  <td align="left" valign="top">ap_wlength</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a></td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[0]</td>
  <td align="left" valign="top">ap_wpbuff</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="appl_xbvset"></a>8.3.15 appl_xbvset</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Extended application bit-vector set« - Set the available
logical drives for the file-selector.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">18</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_xbvset ( uint32_t bvdisk, uint32_t bvhard );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call appl_xbvset informs GEM about the logical drives
that are present; it's needed, amongst others, for the file-selector,
and this extended version allows drives beyond P:. The following
apply:<table>
<tr><td nowrap="nowrap" valign="top"><i>Parameter</i></td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>&nbsp;</i></td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>bvdisk</i></td>
<td valign="top">Bit-vector of floppy drives present (bit 31 = Drive A: etc).</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>bvhard</i></td>
<td valign="top">Bit-vector of hard drives present (bit 31 = Drive A: etc).

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Return value of the function is unknown at present.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">GEM/4, GEM/5 and FreeGEM.<br><br>

The function to do this is present on FreeGEM if the <a href="008016.html#ABLE_XBVSET">ABLE_XBVSET</a>
bit is set in the "abilities" bitmap.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20appl_xbvset">Binding</a> &nbsp; <a href="#appl_bvset">appl_bvset</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_xbvset"></a>8.3.15.1 Bindings for appl_xbvset</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_xbvset">appl_xbvset</a> ( uint32_t bvdisk, uint32_t bvhard );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_xbvset">appl_xbvset</a> (uint32_t bvdisk, uint32_t bvhard)
{
   <a href="008002.html#int_in">int_in</a>[0]  = 1;
   <a href="008002.html#addr_in">addr_in</a>[0] = bvdisk;
   <a href="008002.html#addr_in">addr_in</a>[1] = bvhard;

   return ( <a href="008002.html#crys_if">crys_if</a>(18) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">18    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">2     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">1</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a></td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[0]</td>
  <td align="left" valign="top">bvdisk</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[1]</td>
  <td align="left" valign="top">bvhard</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="appl_yield"></a>8.3.16 appl_yield</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application yield« - Force AES process-switch.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">17</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t appl_yield ( void );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">With the aid of the function appl_yield one may force an
AES process change.<br><br>

<b>Note:</b> This may be achieved in a similar way with a short
call of the function <a href="008007.html#evnt_timer">evnt_timer</a>.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Return value of the function is unknown at present.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is available only under PC-GEM, Geneva, as
well as <a href="00b.html">MagiC</a> (in each case) as of Version 2.0, N.AES and XaAES.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="appl_yield.html#Bindings_20for_20appl_yield">Binding</a> &nbsp; <a href="008007.html#evnt_timer">evnt_timer</a> &nbsp; <a href="#_appl_yield">_appl_yield</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20appl_yield"></a>8.3.16.1 Bindings for appl_yield</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#appl_yield">appl_yield</a> ( void );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#appl_yield">appl_yield</a> (void)
{
   return ( <a href="008002.html#crys_if">crys_if</a>(17) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">17    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="_appl_yield"></a>8.3.17 _appl_yield</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Application yield« - Force AES process-switch.</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void _appl_yield ( void );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">With the aid of the function _appl_yield one may force an
AES process change.<br><br>

<b>Note:</b> This may be achieved in a similar way with a short
call of the function <a href="008007.html#evnt_timer">evnt_timer</a> or <a href="#appl_yield">appl_yield</a>.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function does not return a result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is available <a href="002.html">TOS</a> as of version 1.0, KAOS and <a href="00b.html">MagiC</a>
as of version 1.0.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="_appl_yield.html#Bindings_20for_20_appl_yield">Binding</a> &nbsp; <a href="008007.html#evnt_timer">evnt_timer</a> &nbsp; <a href="#appl_yield">appl_yield</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20_appl_yield"></a>8.3.17.1 Bindings for _appl_yield</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#_appl_yield">_appl_yield</a> ( void );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre><a href="#_appl_yield">_appl_yield</a>:    move.l  a2,-(sp)
                move.w  #201,d0         ; <a href="#_appl_yield">_appl_yield</a>()
                trap    #2
                movea.l (sp)+,a2
                rts
</pre>


</td></tr>
</table>

<h3><a name="x_appl_flags"></a>8.3.18 x_appl_flags</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Control execution flags« - (Geneva)</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">28928</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t x_appl_flags( int16_t getset, int16_t index, <a href="008016.html#APPFLAGS">APPFLAGS</a>
*flags );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call x_appl_flags controls the execution flags that are
used when determining how an application gets run. It works in two
modes, globally and for a particular application.<table>
<tr><td nowrap="nowrap" valign="top">Mode 0:</td>
<td valign="top"><b>Get by index </b>
<br>Get the 'nth' block of global application flags. If <i>index</i>
is zero, the Default flags will be retrieved. If <i>flags</i> is not
NULL, the flags will be copied into the APPFLAGS structure pointed to
by the <i>flags</i> parameter.</td></tr>

<tr><td nowrap="nowrap" valign="top">Mode 1:</td>
<td valign="top"><b>Set by index </b>
<br>Set the 'nth' block of global application flags. If <i>flags</i>
is not NULL, the flags will be copied from the APPFLAGS structure
pointed to by the <i>flags</i> parameter. If <i>index</i> is zero,
the Default flags will be set, in which case the <i>name</i> and
<i>desc</i> fields of the <a href="008016.html#APPFLAGS">APPFLAGS</a> are not altered. If <i>index</i>
is less than zero, a new <a href="008016.html#APPFLAGS">APPFLAGS</a> structure will be added to the end
of the global list, and it will be given the contents of
<i>flags.</i></td></tr>

<tr><td nowrap="nowrap" valign="top">Mode 2:</td>
<td valign="top"><b>Delete by index </b>
<br>Delete the 'nth' block of global application flags. The
<i>index</i> parameter must be a number greater than zero (since the
Default flags cannot be deleted.) The <i>flags</i> parameter is not
used in this mode.</td></tr>

<tr><td nowrap="nowrap" valign="top">Mode 3:</td>
<td valign="top"><b>Get by application ID </b>
<br>Get the application flags for a particular process.<i>index</i>
must be a valid application ID. If <i>flags</i> is not NULL, the
flags will be copied into the APPFLAGS structure pointed to by the
<i>flags</i> parameter.</td></tr>

<tr><td nowrap="nowrap" valign="top">Mode 4:</td>
<td valign="top"><b>Set by application ID </b>
<br>Set the application flags for a particular process.<i>index</i>
must be a valid application ID. If <i>flags</i> is not NULL, the
flags will be set for the application.<a name="X_APF_SEARCH"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">Mode 5:</td>
<td valign="top"><b>(X_APF_SEARCH)</b> (since Update 004)
<br>Use the <a href="008016.html#APPFLAGS">APPFLAGS</a> <i>name</i> element to search for the set of
flags that would be used by Geneva were it to run the application with
that name. Note that the <i>name</i> element is overwritten in the
process. The <i>index</i> parameter is not used.<br><br>

<b>Example:</b> Get the flags for FOO.PRG and force it to run in
single-tasking mode:<pre><a href="008016.html#APPFLAGS">APPFLAGS</a> a;
SHWRCMD shwrcmd;

strcpy( a.name, "FOO.PRG" );
x_appl_flags( X_APF_SEARCH, 0, &a );
a.flags.s.multitask = 0;
shwrcmd.name = "FOO.PRG";
shwrcmd.app_flags = a.flags.l;
<a href="008012.html#shel_write">shel_write</a>( XSHD_FLAGS|<a href="008012.html#XSHW_RUNANY">XSHW_RUNANY</a>, 0, 0, (char *)&shwrcmd, "" );
</pre>


</td></tr>
</table>

<br><br>

<b>Note:</b> Changing the multitask attribute of an application
in this manner will have no effect, since this can only be changed
before the application is launched.<br><br>

Descriptions of each of the available flags can be found in the
section of the manual describing the Task Manager's "Flags" dialog.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0: Out of memory (mode 1)
<br>Flags not found (all modes)</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is available only under Geneva.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20x_appl_flags">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20x_appl_flags"></a>8.3.18.1 Bindings for x_appl_flags</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#x_appl_flags">x_appl_flags</a>( int16_t getset, int16_t index, <a href="008016.html#APPFLAGS">APPFLAGS</a>
*flags );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#x_appl_flags">x_appl_flags</a>( int16_t getset, int16_t index, <a href="008016.html#APPFLAGS">APPFLAGS</a> *flags )
{
   <a href="008002.html#int_in">int_in</a>[0]  = getset;
   <a href="008002.html#int_in">int_in</a>[1]  = index;
   <a href="008002.html#addr_in">addr_in</a>[0] = flags;
   return ( <a href="008002.html#crys_if">crys_if</a>(28928) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">28928  # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">2      # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1      # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">1      # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0      # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">getset</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[1]</td>
  <td align="left" valign="top">index</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a></td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[0]</td>
  <td align="left" valign="top">flags</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="x_appl_font"></a>8.3.19 x_appl_font</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Change font and window borders« - (Geneva)</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">28929</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t x_appl_font( int16_t getset, int16_t zero, <a href="008016.html#XFONTINFO">XFONTINFO</a>
*info );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call x_appl_font changes the characteristics of the large
font used by Geneva, and also the window widget borders.<br><br>

This function gives one control over what font is used to display
characters in the menu bar, dialogs, etc.<br><br>

When Geneva first runs, it checks to see if the font ID saved in
GENEVA.CNF is anything other than 1 (for a system font). If so, and
GDOS is present, it loads all available fonts, and uses the correct
font. If the particular font is not available, it reverts to the
system font.<br><br>

Regardless of the font's availability, the closest point size to
the one specified is used. The window widgets will have a width which
is equal to the width of one character in the font, plus the value
specified by the user. A similar calculation is used for the widget
height.<br><br>

When any element in the structure pointed to by <i>info</i> is
-2, the default value for that element (as though there had been no
GENEVA.CNF file when Geneva loaded) is used; in the case of a
<i>getset</i> value of zero (get), this default value is returned in
the <i>info</i> structure.<br><br>

When <i>getset</i> is 1 and any element is -1, that element will
cause Geneva to ignore the setting, leaving the old value in tact.<br><br>

Setting these values will have no immediate effect. The GENEVA.CNF
file must be re-saved, and Geneva must be restarted before a change
can be noticed.<br><br>

This example:<pre><a href="008016.html#XFONTINFO">XFONTINFO</a> info = { -2, -2, -2, -2 };
x_appl_font( 0, 0, &info ); /* Get default values           */
x_appl_font( 1, 0, &info ); /* Set to these values          */

Is the same as:

<a href="008016.html#XFONTINFO">XFONTINFO</a> info = { -2, -2, -2, -2 };
x_appl_font( 1, 0, &info ); /* Set to default values        */

Set it to something else:

<a href="008016.html#XFONTINFO">XFONTINFO</a> info = { 1,       /* Select the system font       */
                  10,       /* 10 point (8 x 16)            */
                   5,       /* Widget width = 8+5 pixels    */
                   4 };     /* Widget height = 16+4 pixels  */
x_appl_font( 1, 0, &info );
</pre>
<br><br>

Cautions:

<ul>
<li><p>Only <a href="VDI_fundamentals.html#Monospaced_20fonts">Monospaced fonts</a> should be used.</p></li>
<li><p>While Geneva will work properly with any size font, some
programs may not function properly with larger or smaller fonts. This
is especially true when it comes to fonts which are more than 8 pixels
wide.</p></li>
</ul>

<br><br>

The parameter <i>zero</i> is reserved for future expansion. Must
always be 0.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Return value of the function is unknown at present.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is available only under Geneva.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20x_appl_font">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20x_appl_font"></a>8.3.19.1 Bindings for x_appl_font</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#x_appl_font">x_appl_font</a>( int16_t getset, int16_t zero, <a href="008016.html#XFONTINFO">XFONTINFO</a>
*info );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#x_appl_font">x_appl_font</a>( int16_t getset, int16_t zero, <a href="008016.html#XFONTINFO">XFONTINFO</a> *info );
{
   <a href="008002.html#int_in">int_in</a>[0]  = getset;
   <a href="008002.html#int_in">int_in</a>[1]  = zero;
   <a href="008002.html#addr_in">addr_in</a>[0] = info;
   return ( <a href="008002.html#crys_if">crys_if</a>(28929) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">28929  # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">2      # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1      # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">1      # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0      # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">getset</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[1]</td>
  <td align="left" valign="top">zero</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a></td>
  <td align="left" valign="top"><a href="008002.html#addr_in">addr_in</a>[0]</td>
  <td align="left" valign="top">info</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="x_appl_sleep"></a>8.3.20 x_appl_sleep</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Put application to sleep« - or wake it up (Geneva)</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">28930</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t x_appl_sleep( int16_t id, int16_t sleep );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call x_appl_sleep searches for the application whose ID
(found by <a href="#appl_find">appl_find</a> or <a href="#appl_search">appl_search</a>) is <i>id</i> and either puts it
to sleep or wakes it up. While an application is asleep, its windows
are automatically closed, and it does not receive any events.<br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>sleep</i></td>
  <td align="left" valign="top">&nbsp;0: Awaken application</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">&nbsp;1: Put application to sleep</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">-1: No change</td>
</tr>
</table>
</div>

<br><br>

The old state of wakefulness is always returned in xas_return,
unless an error occurs. There are several situations where an error
code will be returned:<ul>
<li>There is no application with the ID specified.</li>
<li>The application was the only program awake and the user tried
to put it to sleep.</li>
<li>The application has a single-tasking child.</li>
</ul>

<br><br>

If an application puts itself to sleep, it will not be able to
wake itself; this must be done by another application or by the user
from the Desk menu.<br><br>

If an application which is asleep is about to be terminated for
any reason, it is first awakened, so that it can receive the <a href="008007.html#AP_TERM">AP_TERM</a>
message.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> -1: Application not found, or the state could not be changed
<br>bit 0 set: Application was sleep
<br>bit 1 set: Application is multitasking is clear, the application
is single-tasking</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is available only under Geneva.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20x_appl_font">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20x_appl_sleep"></a>8.3.20.1 Bindings for x_appl_sleep</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#x_appl_sleep">x_appl_sleep</a>( int16_t id, int16_t sleep );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#x_appl_sleep">x_appl_sleep</a>( int16_t id, int16_t sleep );
{
   <a href="008002.html#int_in">int_in</a>[0]  = id;
   <a href="008002.html#int_in">int_in</a>[1]  = sleep;
   return ( <a href="008002.html#crys_if">crys_if</a>(28930) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">28930  # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">2      # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1      # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">0      # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0      # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">id</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[1]</td>
  <td align="left" valign="top">sleep</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="x_appl_term"></a>8.3.21 x_appl_term</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Terminate application« - Terminate an application and remove
it from memory (Geneva).</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">28931</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t x_appl_term( int16_t apid, int16_t retrn, int16_t
set_me );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call x_appl_term will cause an application to terminate. It
is similar to <a href="008012.html#shel_write">shel_write</a> mode 4, except that it allows for just one
application to be terminated.<ul>
<li><i>apid</i> is the application ID of the application to be
terminated.</li>
<li><i>retrn</i> is a value which is returned to the program which
launched the application; this should usually correspond to a GEMDOS
error number, or 0 for no error.</li>
<li> The <i>set_me</i> parameter must always be non-zero.</li>
</ul>

<br><br>

If the application to be terminated does not recognize the <a href="008007.html#AP_TERM">AP_TERM</a>
message, the user will first be presented with an alert box confirming
that he wants to terminate.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0: The application was not found</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is available only under Geneva.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Application_20library">Application library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20x_appl_font">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20x_appl_term"></a>8.3.21.1 Bindings for x_appl_term</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#x_appl_term">x_appl_term</a>( int16_t apid, int16_t retrn, int16_t
set_me );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#x_appl_term">x_appl_term</a>( int16_t apid, int16_t retrn, int16_t set_me )
{
   <a href="008002.html#int_in">int_in</a>[0]  = apid;
   <a href="008002.html#int_in">int_in</a>[1]  = retrn;
   <a href="008002.html#int_in">int_in</a>[2]  = set_me;
   return ( <a href="008002.html#crys_if">crys_if</a>(28931) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">28931  # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">3      # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1      # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">0      # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0      # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">apid</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[1]</td>
  <td align="left" valign="top">retrn</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[2]</td>
  <td align="left" valign="top">set_me</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<hr>

<a id="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a><a id="UDO_nav_up_FOOT" href="008.html"><img src="udo_up.gif" alt="AES" title="AES" border="0" width="24" height="24"></a><a id="UDO_nav_lf_FOOT" href="008002.html"><img src="udo_lf.gif" alt="AES fundamentals" title="AES fundamentals" border="0" width="24" height="24"></a><a id="UDO_nav_rg_FOOT" href="008004.html"><img src="udo_rg.gif" alt="File-selector library" title="File-selector library" border="0" width="24" height="24"></a></body>
</html>
