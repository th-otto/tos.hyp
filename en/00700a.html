<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title>
The documentation for TOS: Control functions
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO 7.04 (1296) for Linux">
</head>
<body>
<? include "/var/www/banner.php"; ?>

<a id="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a><a id="UDO_nav_up_HEAD" href="007.html"><img src="udo_up.gif" alt="VDI" title="VDI" border="0" width="24" height="24"></a><a id="UDO_nav_lf_HEAD" href="007009.html"><img src="udo_lf.gif" alt="Colour table functions" title="Colour table functions" border="0" width="24" height="24"></a><a id="UDO_nav_rg_HEAD" href="00700b.html"><img src="udo_rg.gif" alt="Raster functions" title="Raster functions" border="0" width="24" height="24"></a>
<hr>

<h1><a name="Control_20functions"></a>7.10 Control functions</h1>
<p>This library contains functions to open and close working devices
and to load fonts. Furthermore, these functions allow manipulation for
Bezier spline creation and the management of vector font caches.</p>

<p>In total the following routines are available:</p>

<table>
<tr><td nowrap="nowrap" valign="top">• <a href="#v_bez_on">v_bez_on</a></td>
<td valign="top">Switches on Bezier spline creation</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_bez_off">v_bez_off</a></td>
<td valign="top">Switches off Bezier spline creation</td></tr>

<tr><td nowrap="nowrap" valign="top">• v_clr_cachedir</td>
<td valign="top">No information available at present</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_clrwk">v_clrwk</a></td>
<td valign="top">Reinitializes workstation</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_clsbm">v_clsbm</a></td>
<td valign="top">Closes an off-screen bitmap</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_clsvwk">v_clsvwk</a></td>
<td valign="top">Closes a virtual screen workstation</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_clswk">v_clswk</a></td>
<td valign="top">Closes a physical workstation</td></tr>

<tr><td nowrap="nowrap" valign="top">• v_def_cachedir</td>
<td valign="top">No information available at present</td></tr>

<tr><td nowrap="nowrap" valign="top">• v_delete_cache</td>
<td valign="top">No information available at present</td></tr>

<tr><td nowrap="nowrap" valign="top">• v_fgetoutline</td>
<td valign="top">No information available at present</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_flushcache">v_flushcache</a></td>
<td valign="top">Clears vector font cachen.</td></tr>

<tr><td nowrap="nowrap" valign="top">• v_get_cachedir</td>
<td valign="top">No information available at present</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_get_outline">v_get_outline</a></td>
<td valign="top">Calculates outline of a character (improved version for <a href="VDI_fundamentals.html#NVDI">NVDI</a>)</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_getoutline">v_getoutline</a></td>
<td valign="top">Calculates outline of a character</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_killoutline">v_killoutline</a></td>
<td valign="top">Releases memory for outline generation</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_loadcache">v_loadcache</a></td>
<td valign="top">Loads vector font cache</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_open_bm">v_open_bm</a></td>
<td valign="top">Opens an off-screen bitmap (modernized version)</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_opnbm">v_opnbm</a></td>
<td valign="top">Opens an off-screen bitmap</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_opnprn">v_opnprn</a></td>
<td valign="top">Opens a printer driver</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_opnvwk">v_opnvwk</a></td>
<td valign="top">Opens a virtual screen workstation</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_opnwk">v_opnwk</a></td>
<td valign="top">Opens a physical workstation.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_pat_rotate">v_pat_rotate</a></td>
<td valign="top">Rotates a pattern</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_resize_bm">v_resize_bm</a></td>
<td valign="top">Alters the size of an off-screen bitmap</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_savecache">v_savecache</a></td>
<td valign="top">Saves outline font cache to disk.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_set_app_buff">v_set_app_buff</a></td>
<td valign="top">Designates memory workspace for Bezier spline creation</td></tr>

<tr><td nowrap="nowrap" valign="top">• v_set_cachedir</td>
<td valign="top">No information available at present.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#v_updwk">v_updwk</a></td>
<td valign="top">Executes buffered workstation output commands</td></tr>

<tr><td nowrap="nowrap" valign="top">• vs_backmap</td>
<td valign="top">No information available at present</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#vs_clip">vs_clip</a></td>
<td valign="top">Sets or deletes a clipping rectangle</td></tr>

<tr><td nowrap="nowrap" valign="top">• vs_outmode</td>
<td valign="top">No information available at present</td></tr>

<tr><td nowrap="nowrap" valign="top">• vs_use_fonts</td>
<td valign="top">No information available at present</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#vst_ex_load_fonts">vst_ex_load_fonts</a></td>
<td valign="top">Loads additional fonts (extended version)</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#vst_load_fonts">vst_load_fonts</a></td>
<td valign="top">Loads fonts</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#vst_unload_fonts">vst_unload_fonts</a></td>
<td valign="top">nloads fonts

</td></tr>
</table>

<p>See also: <a href="VDI_fundamentals.html#VDI_20workstations">VDI workstations</a> &nbsp; <a href="00a002.html">Style guidelines</a></p>

<h3><a name="v_bez_off"></a>7.10.1 v_bez_off</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Disable Bezier capabilities« - Switch off Bezier spline
creation.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">11 (Sub-Opcode 13)</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void v_bez_off ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_bez_off deactivates the Bezier spline creation of
GDOS on the workstation with the ID <i>handle</i> and frees the
associated memory.<br><br>

<b>Note:</b> Although <i>handle</i> specifies a given
workstation, the deactivation applies to <i>all</i> workstations.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function does not return a result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">As of GEM/3 Release 3.1, FONTGDOS, FSMGDOS, from <a href="VDI_fundamentals.html#SpeedoGDOS">SpeedoGDOS</a>
4.00 onwards, and as of <a href="VDI_fundamentals.html#NVDI">NVDI</a> 2.10.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_bez_off">Binding</a> &nbsp; <a href="#v_bez_on">v_bez_on</a> &nbsp; <a href="007005.html#v_bez">v_bez</a> &nbsp; <a href="007005.html#v_bez_fill">v_bez_fill</a> &nbsp; <a href="007004.html#v_bez_qual">v_bez_qual</a> &nbsp;
<a href="#v_set_app_buff">v_set_app_buff</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_bez_off"></a>7.10.2 Bindings for v_bez_off</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#v_bez_off">v_bez_off</a> ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>void <a href="#v_bez_off">v_bez_off</a> (int16_t handle)
{
   <a href="007003.html#contrl">contrl</a>[0] = 11;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 0;
   <a href="007003.html#contrl">contrl</a>[5] = 13;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">11    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+10</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[5]</td>
  <td align="left" valign="top">13    # Sub-opcodee</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_bez_on"></a>7.10.3 v_bez_on</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Enable Bezier capabilities« - Switch on Bezier spline
creation.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">11 (Sub-Opcode 13)</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t v_bez_on ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_bez_on activates the Bezier spline creation of GDOS
on the workstation with the ID <i>handle.</i><br><br>

<b>Notes:</b> Although <i>handle</i> specifies a given
workstation, the activation applies to <i>all</i> workstations.<br><br>

This function is present for reasons of compatibility. It serves
to make calls of <a href="007005.html#v_pline">v_pline</a> without the sub-function number 13 to act as
calls of <a href="007005.html#v_bez">v_bez</a>, and calls of <a href="007005.html#v_fillarea">v_fillarea</a> without the subfunction number
to act as calls of <a href="007005.html#v_bez_fill">v_bez_fill</a>. The function is normally used only to
check whether Beziers are present.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> This function returns a value between 0 (no Beziers) and 7
(maximum quality) and represents the Bezier depth. You should only use
this value to determine if the driver is able to draw Bezier curves.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">As of GEM/3 Release 3.1, FONTGDOS, FSMGDOS, from <a href="VDI_fundamentals.html#SpeedoGDOS">SpeedoGDOS</a>
4.00 onwards, and as of <a href="VDI_fundamentals.html#NVDI">NVDI</a> 2.10.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_bez_on">Binding</a> &nbsp; <a href="#v_bez_off">v_bez_off</a> &nbsp; <a href="007005.html#v_bez">v_bez</a> &nbsp; <a href="007005.html#v_bez_fill">v_bez_fill</a> &nbsp; <a href="007004.html#v_bez_qual">v_bez_qual</a> &nbsp;
<a href="#v_set_app_buff">v_set_app_buff</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_bez_on"></a>7.10.4 Bindings for v_bez_on</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#v_bez_on">v_bez_on</a> ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#v_bez_on">v_bez_on</a> (int16_t handle)
{
   <a href="007003.html#contrl">contrl</a>[0] = 11;
   <a href="007003.html#contrl">contrl</a>[1] = 1;
   <a href="007003.html#contrl">contrl</a>[3] = 0;
   <a href="007003.html#contrl">contrl</a>[5] = 13;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();

   return ( <a href="007003.html#intout">intout</a>[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">11    # Function Opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">1     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+10</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[5]</td>
  <td align="left" valign="top">13    # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a></td>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a>[0]</td>
  <td align="left" valign="top">Return Value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_clrwk"></a>7.10.5 v_clrwk</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Clear workstation« - Reinitialize working device.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">3</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void v_clrwk ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_clrwk sets the physical workstation with the ID
<i>handle</i> to an exactly defined initial state. The following
apply:<table>
<tr><td nowrap="nowrap" valign="top">Workstation</td>
<td valign="top">Effect of the call</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">Screen</td>
<td valign="top">The screen will be cleared, and set to the selected background
colour</td></tr>

<tr><td nowrap="nowrap" valign="top">Plotter</td>
<td valign="top">Clears the plotter's buffer</td></tr>

<tr><td nowrap="nowrap" valign="top">Printer</td>
<td valign="top">Clears the printer's buffer, and also performs a form-feed</td></tr>

<tr><td nowrap="nowrap" valign="top">Metafile</td>
<td valign="top">Saves the opcode</td></tr>

<tr><td nowrap="nowrap" valign="top">Camera</td>
<td valign="top">Deletes the output, and sets the background colour

</td></tr>
</table>

<br><br>

<b>Notes:</b> With a <a href="#v_opnwk">v_opnwk</a> call the relevant device (e.g. the
screen) will be cleared automatically.<br><br>

Applying this function to a virtual workstation will clear the
underlying physical workstation; generally this is not recommended as
it will affect all virtual workstations, not just your own.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function does not return a result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">Supported by all drivers.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_clrwk">Binding</a> &nbsp; <a href="007008.html#v_form_adv">v_form_adv</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_clrwk"></a>7.10.6 Bindings for v_clrwk</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#v_clrwk">v_clrwk</a> ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>void <a href="#v_clrwk">v_clrwk</a> (int16_t handle)
{
   <a href="007003.html#contrl">contrl</a>[0] = 3;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 0;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">3     # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_clsbm"></a>7.10.7 v_clsbm</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Close bitmap« - Close an off-screen bitmap.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">101 (Sub-Opcode 1)</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void v_clsbm ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_clsbm closes the bitmap specified with
<i>handle.</i> The memory of the bitmap will be freed if the VDI
has allocated it.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function does not return a direct result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">As of <a href="VDI_fundamentals.html#EdDI">EdDI</a> Version 1.00.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_clsbm">Binding</a> &nbsp; <a href="VDI_fundamentals.html#NVDI">NVDI</a> &nbsp; <a href="VDI_fundamentals.html#Off-screen_20bitmaps">Off-screen bitmaps</a> &nbsp; <a href="#v_opnbm">v_opnbm</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_clsbm"></a>7.10.8 Bindings for v_clsbm</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#v_clsbm">v_clsbm</a> ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>void <a href="#v_clsbm">v_clsbm</a> (int16_t handle)
{
   <a href="007003.html#contrl">contrl</a>[0] = 101;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 0;
   <a href="007003.html#contrl">contrl</a>[5] = 1;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">101   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+10</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[5]</td>
  <td align="left" valign="top">1     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_clsvwk"></a>7.10.9 v_clsvwk</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Close virtual screen workstation« - Close a virtual screen
workstation.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">101</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void v_clsvwk ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_clsvwk closes the workstation with the ID
<i>handle</i> that was previously opened with <a href="#v_opnvwk">v_opnvwk</a>.<br><br>

<b>Note:</b> This function must not be used if an error occurred
while opening the workstation.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function does not return a result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">Supported by all drivers.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_clsvwk">Binding</a> &nbsp; <a href="#v_opnvwk">v_opnvwk</a> &nbsp; <a href="#v_clswk">v_clswk</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_clsvwk"></a>7.10.10 Bindings for v_clsvwk</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#v_clsvwk">v_clsvwk</a> ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>void <a href="#v_clsvwk">v_clsvwk</a> (int16_t handle)
{
   <a href="007003.html#contrl">contrl</a>[0] = 101;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 0;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">101   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_clswk"></a>7.10.11 v_clswk</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Close workstation« - Close a physical workstation.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">2</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void v_clswk ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_clswk closes the device with the ID <i>handle</i>
that was opened previously with a <a href="#v_opnwk">v_opnwk</a> call.<br><br>

The function call has the following effects on the various device
types:<table>
<tr><td nowrap="nowrap" valign="top">Device</td>
<td valign="top">Effect of the call</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">Screen</td>
<td valign="top">Switch over to the alpha mode</td></tr>

<tr><td nowrap="nowrap" valign="top">Plotter</td>
<td valign="top">Update</td></tr>

<tr><td nowrap="nowrap" valign="top">Drucker</td>
<td valign="top">Update, if not happened already</td></tr>

<tr><td nowrap="nowrap" valign="top">Metafile</td>
<td valign="top">File will be closed</td></tr>

<tr><td nowrap="nowrap" valign="top">Camera</td>
<td valign="top">Update

</td></tr>
</table>

<br><br>

<b>Note:</b> Before calling this function one should ensure that
all <i>virtual</i> workstations on the corresponding device are
closed.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function does not return a result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">Available only with some form of GDOS.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_clswk">Binding</a> &nbsp; <a href="VDI_fundamentals.html#About_20the_20GDOS">GDOS</a> &nbsp; <a href="#v_opnwk">v_opnwk</a> &nbsp; <a href="#v_opnvwk">v_opnvwk</a> &nbsp; <a href="#v_clsvwk">v_clsvwk</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_clswk"></a>7.10.12 Bindings for v_clswk</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#v_clswk">v_clswk</a> ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>void <a href="#v_clswk">v_clswk</a> (int16_t handle)
{
   <a href="007003.html#contrl">contrl</a>[0] = 2;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 0;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">2     # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_flushcache"></a>7.10.13 v_flushcache</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Flush outline cache« - Clear vector font cache.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">251</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t v_flushcache ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_flushcache clears the contents the outline (=
vector) character cache that holds the bitmaps of the vector
characters.<br><br>

The parameter <i>handle</i> specifies the ID of the relevant
workstation.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value -1 in case of error, else the
value 0.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">FSMGDOS, as of <a href="VDI_fundamentals.html#SpeedoGDOS">SpeedoGDOS</a> 4.00 and from <a href="VDI_fundamentals.html#NVDI">NVDI</a> 3.00 on; however,
no binding is shown for NVDI.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_flushcache">Binding</a> &nbsp; <a href="#v_loadcache">v_loadcache</a> &nbsp; <a href="#v_savecache">v_savecache</a> &nbsp; <a href="Inquire_functions.html#vqt_cachesize">vqt_cachesize</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_flushcache"></a>7.10.14 Bindings for v_flushcache</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#v_flushcache">v_flushcache</a> ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#v_flushcache">v_flushcache</a> ( int16_t handle );
{
   <a href="007003.html#contrl">contrl</a>[0] = 251;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 0;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();

   return ( <a href="007003.html#intout">intout</a>[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">251   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">1     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a></td>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_getoutline"></a>7.10.15 v_getoutline</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Get character outline« - Calculate outline of a vector
character.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">243</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void v_getoutline ( int16_t handle, int16_t ch, int16_t
*xyarray, int8_t *bezarray, int16_t maxpts, int16_t *count );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_getoutline uses Bezier curves to create the outline
that belongs to a given vector character. The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top">Workstation identifier</td></tr>

<tr><td nowrap="nowrap" valign="top">ch</td>
<td valign="top">Character whose outline is to be calculated</td></tr>

<tr><td nowrap="nowrap" valign="top">xyarray</td>
<td valign="top">Coordinate buffer</td></tr>

<tr><td nowrap="nowrap" valign="top">bezarray</td>
<td valign="top">Vertice-type buffer (jump, bez)</td></tr>

<tr><td nowrap="nowrap" valign="top">maxpts</td>
<td valign="top">Maximum number of vertices</td></tr>

<tr><td nowrap="nowrap" valign="top">count</td>
<td valign="top">Number of vertices

</td></tr>
</table>

<br><br>

<b>Note:</b> The returned values can be passed directly to the
output function for Bezier splines (<a href="007005.html#v_bez">v_bez</a>, <a href="007005.html#v_bez_fill">v_bez_fill</a>).<br><br>

If one wants to use the information from this function as a vector
graphic, say as a part of a metafile, then it is recommended that a
large text height is set before the call; otherwise the quality of the
returned Bezier may be quite poor, as the internal presentation in
1/65536 pixels is rounded off to integer fixed point pixels, i.e. 16
bits will be lost. The text height should be oriented to the raster
resolution of the font outline, as returned by the function
<a href="Inquire_functions.html#vqt_fontheader">vqt_fontheader</a>.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function does not return a result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">As of <a href="VDI_fundamentals.html#SpeedoGDOS">SpeedoGDOS</a> 4.00 and from <a href="VDI_fundamentals.html#NVDI">NVDI</a> 3.00 on.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_getoutline">Binding</a> &nbsp; <a href="#v_get_outline">v_get_outline</a> &nbsp; <a href="#v_killoutline">v_killoutline</a> &nbsp; <a href="VDI_fundamentals.html#SpeedoGDOS">SpeedoGDOS</a> &nbsp; <a href="VDI_fundamentals.html#NVDI">NVDI</a> &nbsp;
<a href="00700d.html#fix31">fix31</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_getoutline"></a>7.10.16 Bindings for v_getoutline</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#v_getoutline">v_getoutline</a> ( int16_t handle, int16_t ch, int16_t
*xyarray, int8_t *bezarray, int16_t maxpts, int16_t *count );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>void <a href="#v_getoutline">v_getoutline</a> (int16_t handle, int16_t ch, int16_t *xyarray,
                   int8_t *bezarray, int16_t maxpts,
                   int16_t *count)
{
   <a href="007003.html#intin">intin</a>[0] = ch;
   <a href="007003.html#intin">intin</a>[1] = maxpts;
   <a href="007003.html#intin">intin</a>[2..3] = xyarray;
   <a href="007003.html#intin">intin</a>[4..5] = bezarray;

   <a href="007003.html#contrl">contrl</a>[0] = 243;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 6;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();

   *count = <a href="007003.html#intout">intout</a>[0];
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">243   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">6     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0]</td>
  <td align="left" valign="top">ch</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[1]</td>
  <td align="left" valign="top">maxpts</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[2..3]</td>
  <td align="left" valign="top">xyarray</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[4..5]</td>
  <td align="left" valign="top">bezarray</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a></td>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a>[0]</td>
  <td align="left" valign="top">count</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_get_outline"></a>7.10.17 v_get_outline</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Get character outline« - Calculate outline of a character
(improved version).</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">243 (Sub-Opcode 1)</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t v_get_outline ( int16_t handle, uint16_t index,
uint16_t x_offset, uint16_t y_offset, int16_t *xyarray, uint8_t
*bezarray, int16_t max_pts );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_get_outline creates the outline that belongs to a
given character. This improved version of <a href="#v_getoutline">v_getoutline</a>:<ul>
<li>Works the same way for any font format</li>
<li>Accepts offsets for X- and Y-coordinates</li>
<li>Also works with rotation</li>
<li>Respects vertical alignment</li>
<li>Respects horizontal alignment</li>
</ul>

<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top">Workstation identifier</td></tr>

<tr><td nowrap="nowrap" valign="top">index</td>
<td valign="top">Character index</td></tr>

<tr><td nowrap="nowrap" valign="top">x_offset</td>
<td valign="top">Is added to all X-coordinates in <i>xyarray</i></td></tr>

<tr><td nowrap="nowrap" valign="top">y_offset</td>
<td valign="top">Is added to all Y-coordinates in <i>xyarray</i></td></tr>

<tr><td nowrap="nowrap" valign="top">xyarray</td>
<td valign="top">Buffer for the coordinates</td></tr>

<tr><td nowrap="nowrap" valign="top">bezarray</td>
<td valign="top">Buffer for vertice information</td></tr>

<tr><td nowrap="nowrap" valign="top">max_pts</td>
<td valign="top">Maximum number of vertices to be output

</td></tr>
</table>

<br><br>

<b>Note 1:</b> The returned values can be passed directly to the
output function for Bezier splines (<a href="007005.html#v_bez">v_bez</a>, <a href="007005.html#v_bez_fill">v_bez_fill</a>).<br><br>

<b>Note 2:</b> With the previous <a href="#v_getoutline">v_getoutline</a> (old Speedo
function), rotation did not work at all, and alignment was ignored as
well. Furthermore, with Speedo fonts the Y-coordinate 0 corresponded
to the top coordinate used in the character (so, depending on the
character, was positioned somewhere within the character cell), while
with Postscript and TrueType fonts the Y-coordinate 0 always
corresponded to the top edge of the character cell.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the number of vertices output.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">As of <a href="VDI_fundamentals.html#NVDI">NVDI</a> 5.00.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_getoutline">Binding</a> &nbsp; <a href="#v_getoutline">v_getoutline</a> &nbsp; <a href="#v_killoutline">v_killoutline</a> &nbsp; <a href="VDI_fundamentals.html#SpeedoGDOS">SpeedoGDOS</a> &nbsp; <a href="VDI_fundamentals.html#NVDI">NVDI</a> &nbsp;
<a href="00700d.html#fix31">fix31</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_get_outline"></a>7.10.18 Bindings for v_get_outline</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#v_get_outline">v_get_outline</a> ( int16_t handle, uint16_t index,
uint16_t x_offset, uint16_t y_offset, int16_t *xyarray, uint8_t
*bezarray, int16_t max_pts );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#v_get_outline">v_get_outline</a> ( int16_t handle, uint16_t index,
                        uint16_t x_offset, uint16_t y_offset,
                        int16_t *xyarray, uint8_t *bezarayr,
                        int16_t max_pts )
{
   <a href="007003.html#intin">intin</a>[0] = index;
   <a href="007003.html#intin">intin</a>[1] = max_pts;
   <a href="007003.html#intin">intin</a>[2..3] = xyarray;
   <a href="007003.html#intin">intin</a>[4..5] = bezarray;
   <a href="007003.html#intin">intin</a>[6] = x_offset;
   <a href="007003.html#intin">intin</a>[7] = y_offset;

   <a href="007003.html#contrl">contrl</a>[0] = 243;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 8;
   <a href="007003.html#contrl">contrl</a>[5] = 1;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();

   return ( <a href="007003.html#intout">intout</a>[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">243   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">8     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+10</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[5]</td>
  <td align="left" valign="top">1     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0]</td>
  <td align="left" valign="top">ch</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[1]</td>
  <td align="left" valign="top">maxpts</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[2..3]</td>
  <td align="left" valign="top">xyarray</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[4..5]</td>
  <td align="left" valign="top">bezarray</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[6]</td>
  <td align="left" valign="top">x_offset</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+14</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[7]</td>
  <td align="left" valign="top">y_offset</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a></td>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_killoutline"></a>7.10.19 v_killoutline</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Kill FSM outline« - Release memory for outline generation</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">242</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void v_killoutline ( int16_t handle, fsm_component_t *component
);</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_killoutline releases the memory allocated for the
creation of font outlines. The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top">Workstation identifier</td></tr>

<tr><td nowrap="nowrap" valign="top">component</td>
<td valign="top">Address of an outline generated with <a href="#v_getoutline">v_getoutline</a>

</td></tr>
</table>

<br><br>

<b>Note:</b> The function should always be called as soon as an
outline is no longer needed. Otherwise there is a risk of running out
of memory.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function does not return a result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">In FSMGDOS; no longer needed from <a href="VDI_fundamentals.html#SpeedoGDOS">SpeedoGDOS</a> 4.00 on, so is not
documented further.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="VDI_fundamentals.html#About_20the_20GDOS">GDOS</a> &nbsp; <a href="VDI_fundamentals.html#SpeedoGDOS">SpeedoGDOS</a> &nbsp; <a href="#v_getoutline">v_getoutline</a>

</td></tr>
</table>

<h3><a name="v_loadcache"></a>7.10.20 v_loadcache</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Load outline cache« - Load vector font cache.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">250</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t v_loadcache ( int16_t handle, int8_t *filename, int16_t
mode );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_loadcache fills the vector character cache with the
contents of a previously saved file. The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top">Workstation identifier</td></tr>

<tr><td nowrap="nowrap" valign="top">filename</td>
<td valign="top">Name of the file</td></tr>

<tr><td nowrap="nowrap" valign="top">mode</td>
<td valign="top">Fill mode:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">Append file to current cache</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Flush current cache, and load file completely into the cache
</td></tr>
</table>


</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value -1 in case of error, else the
value 0.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">FSMGDOS, as of <a href="VDI_fundamentals.html#SpeedoGDOS">SpeedoGDOS</a> 4.00.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_loadcache">Binding</a> &nbsp; <a href="#v_flushcache">v_flushcache</a> &nbsp; <a href="#v_savecache">v_savecache</a> &nbsp; <a href="Inquire_functions.html#vqt_cachesize">vqt_cachesize</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_loadcache"></a>7.10.21 Bindings for v_loadcache</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#v_loadcache">v_loadcache</a> ( int16_t handle, int8_t *filename, int16_t
mode );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#v_loadcache">v_loadcache</a> ( int16_t handle, int8_t *filename,
                      int16_t mode )
{
   <a href="007003.html#intin">intin</a>[0] = mode;
   <a href="007003.html#intin">intin</a>[1..n] = filename;

   <a href="007003.html#contrl">contrl</a>[0] = 250;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 1+n;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();

   return ( <a href="007003.html#intout">intout</a>[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">250   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">1+n   # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">1     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0]</td>
  <td align="left" valign="top">mode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[1..n]</td>
  <td align="left" valign="top">filename</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a></td>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_open_bm"></a>7.10.22 v_open_bm</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Open bitmap« - Open an off-screen bitmap (modernized
version)</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">100 (Sub-Opcode 3)</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t v_open_bm ( int16_t base_handle, <a href="00700d.html#GCBITMAP">GCBITMAP</a> *bitmap,
int16_t color_flags, int16_t unit_flags, int16_t pixel_width, int16_t
pixel_height );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_open_bm serves for the creation of off-screen
bitmaps. One can either specify the size of a bitmap that it should
allocate, or pass a bitmap to it. The bitmap is managed in the same
format as that of the screen, which makes fast copying between the two
possible.<br><br>

v_open_bm is the modern variant of <a href="#v_opnbm">v_opnbm</a> and works with the same
bitmap and pixel format description as <a href="00700b.html#vr_transfer_bits">vr_transfer_bits</a>. The following
apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">base_handle</td>
<td valign="top"><a href="00800c.html#graf_handle">graf_handle</a></td></tr>

<tr><td nowrap="nowrap" valign="top">bitmap</td>
<td valign="top">Pointer to <a href="00700d.html#GCBITMAP">GCBITMAP</a>, or 0.
<br>If GCBITMAP is 0, then the <a href="00700d.html#GCBITMAP">GCBITMAP</a> of the handle
<i>base_handle</i> will be used. Entries in the bitmap are evaluated
as follows:<table>
<tr><td nowrap="nowrap" valign="top">Entry</td>
<td valign="top">Function</td></tr>

<tr><td nowrap="nowrap" valign="top">addr</td>
<td valign="top">Address of the bitmap, or 0 (VDI reserves the memory and
later enters the address here)</td></tr>

<tr><td nowrap="nowrap" valign="top">width</td>
<td valign="top">Width of a line in bytes, if <i>addr</i> is valid</td></tr>

<tr><td nowrap="nowrap" valign="top">bits</td>
<td valign="top">Bit-depth, corresponds to <i>px_format</i></td></tr>

<tr><td nowrap="nowrap" valign="top">px_format</td>
<td valign="top">Pixel format, or 0 (pixel format will be taken on by
<i>base_handle</i>) if all following coordinates are set to 0 and the
VDI reserves the memory; if <i>addr</i> is 0, the dimensions will
be taken from <i>base_handle</i></td></tr>

<tr><td nowrap="nowrap" valign="top">xmin</td>
<td valign="top">Minimum discrete X-coordinate of the bitmap (0 as a rule)</td></tr>

<tr><td nowrap="nowrap" valign="top">ymin</td>
<td valign="top">Minimum discrete Y-coordinate of the bitmap (0 as a rule)</td></tr>

<tr><td nowrap="nowrap" valign="top">xmax</td>
<td valign="top">Maximum discrete X-coordinate of the bitmap + 1 (the width as a
rule)</td></tr>

<tr><td nowrap="nowrap" valign="top">ymax</td>
<td valign="top">Maximum discrete Y-coordinate of the bitmap + 1 (the height as
a rule)</td></tr>

<tr><td nowrap="nowrap" valign="top">ctab</td>
<td valign="top">Is ignored</td></tr>

<tr><td nowrap="nowrap" valign="top">itab</td>
<td valign="top">Is ignored</td></tr>

<tr><td nowrap="nowrap" valign="top">reserved0</td>
<td valign="top">Must be 0!</td></tr>

<tr><td nowrap="nowrap" valign="top">reserved1</td>
<td valign="top">Must be 0!
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">color_flags</td>
<td valign="top">Treatment of the colour tables:
<br>If the lowest bit of <i>color_flags</i> is set then the bitmap
uses the same colour table as <i>base_handle.</i> If the bit is
cleared, the bitmap will have its own colour table and own inverse
colour table created for it (which should make the handling of screen
caches or background buffers appreciably easier for some programs);
colour changes on the screen will then not alter entries in the
bitmap. Of <i>color_flags</i> only the lowest bit is used at present;
all other bits have to be 0. <b>Note:</b> If the bitmap and screen
use the same colour table, the colours may be altered only via the
handle of the screen (i.e. <i>base_handle</i>), as otherwise the
colours will not be entered in the hardware (<a href="VDI_fundamentals.html#CLUT">CLUT</a>).</td></tr>

<tr><td nowrap="nowrap" valign="top">unit_flags</td>
<td valign="top">Measurement unit of the pixel size</td></tr>

<tr><td nowrap="nowrap" valign="top">pixel_width</td>
<td valign="top">Pixel width, or 0</td></tr>

<tr><td nowrap="nowrap" valign="top">pixel_height</td>
<td valign="top">Pixel height, or 0

</td></tr>
</table>

<br><br>

Additionally, the pixel size is passed in <i>pixel_width</i> and
<i>pixel_height</i>, so that the fonts may be scaled correctly. If
one of these two entries is 0, the task will be taken on by
<i>base_handle</i>. The size specifications will be interpreted
dependent on <i>unit_flags:</i><br><br>

-1: Specification in dpi
<br>&nbsp;0: Specification in microns (1/1000 mm)
<br>&nbsp;1: Specification in 1/10 microns (1/10000 mm)
<br>&nbsp;2: Specification in 1/100 microns (1/100000 mm)
<br>&nbsp;3: Specification in 1/1000 microns (1/1000000 mm)<br><br>

As <i>ctab</i> is ignored, a system colour table corresponding to
the colour depth will be created for the bitmap in CSPACE_RGB (RGB)
colour space. The variable <zero> is present for possible later
extensions in this area, which therefore has to be set to 0 at
present.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If the function is successful, a non-zero handle will be
returned. If the VDI has reserved memory for the bitmap and only
an empty (or only partially filled) <a href="00700d.html#GCBITMAP">GCBITMAP</a> structure has been passed
in the call, the structure is initialized completely after the call.
Programs may not alter either the colour table nor the inverse colour
table of the structure with a direct access. All changes must be made
with the colour functions under the returned handle.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">As of <a href="VDI_fundamentals.html#EdDI">EdDI</a> Version 1.20.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_open_bm">Binding</a> &nbsp; <a href="VDI_fundamentals.html#NVDI">NVDI</a> &nbsp; <a href="VDI_fundamentals.html#Off-screen_20bitmaps">Off-screen bitmaps</a> &nbsp; <a href="#v_clsbm">v_clsbm</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_open_bm"></a>7.10.23 Bindings for v_open_bm</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#v_open_bm">v_open_bm</a> ( int16_t base_handle, <a href="00700d.html#GCBITMAP">GCBITMAP</a> *bitmap,
int16_t color_flags, int16_t unit_flags, int16_t pixel_width, int16_t
pixel_height );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#v_open_bm">v_open_bm</a> ( int16_t base_handle, <a href="00700d.html#GCBITMAP">GCBITMAP</a> *bitmap,
                    int16_t color_flags, int16_t unit_flags,
                    int16_t pixel_width, int16_t pixel_height )
{
   <a href="007003.html#intin">intin</a>[0] = color_flags;
   <a href="007003.html#intin">intin</a>[1] = unit_flags;
   <a href="007003.html#intin">intin</a>[2] = pixel_width;
   <a href="007003.html#intin">intin</a>[3] = pixel_height;

   <a href="007003.html#contrl">contrl</a>[0] = 100;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 4;
   <a href="007003.html#contrl">contrl</a>[5] = 3;
   <a href="007003.html#contrl">contrl</a>[6] = base_handle;
   <a href="007003.html#contrl">contrl</a>[7..8] = bitmap;

   <a href="007003.html#vdi">vdi</a> ();

   return ( <a href="007003.html#contrl">contrl</a>[6] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">100   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">4     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">1     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+10</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[5]</td>
  <td align="left" valign="top">3     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">base_handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+14</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[7..8]</td>
  <td align="left" valign="top">bitmap</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0]</td>
  <td align="left" valign="top">color_flags</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[1]</td>
  <td align="left" valign="top">unit_flags</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[2]</td>
  <td align="left" valign="top">pixel_width</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[3]</td>
  <td align="left" valign="top">pixel_height</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a></td>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a>[0]</td>
  <td align="left" valign="top">1</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_opnbm"></a>7.10.24 v_opnbm</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Open bitmap« - Open an off-screen bitmap.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">100 (Sub-Opcode 1)</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void v_opnbm ( int16_t *work_in, <a href="00700d.html#MFDB">MFDB</a> *bitmap, int16_t *handle,
int16_t *work_out );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_opnbm serves for the creation of off-screen bitmaps.
One can either specify the size of a bitmap that it should allocate,
or pass a bitmap to it. The bitmap is managed in the same format as
that of the screen, which makes fast copying between the two
possible.The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top"><a href="00800c.html#graf_handle">graf_handle</a></td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[0..10]</td>
<td valign="top">See <a href="#v_opnwk">v_opnwk</a>/<a href="#v_opnvwk">v_opnvwk</a></td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[11]</td>
<td valign="top">Width -1 (e.g. 1279)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[12]</td>
<td valign="top">Height -1 (e.g. 959)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[13]</td>
<td valign="top">Width of a pixel in 1/1000 mm</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[14]</td>
<td valign="top">Height of a pixel in 1/1000 mm</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[15..19]</td>
<td valign="top">Reserved, should contain 0

</td></tr>
</table>

<br><br>

If the <a href="VDI_fundamentals.html#EdDI">EdDI</a> cookie has version number 1.1 or newer, v_opnbm takes
additional arguments in <i>work_in[15..19]</i> into account: An
attempt is made then to open a bitmap in the format described by these
parameters. If there is no driver for the specified format, then the
bitmap cannot be created. The following apply:<table>
<tr><td nowrap="nowrap" valign="top">work_in[15..16]</td>
<td valign="top">Number of simultaneously displayable colours</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[17]</td>
<td valign="top">Number of planes</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[18]</td>
<td valign="top">Pixel format</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[19]</td>
<td valign="top">Bit order

</td></tr>
</table>

<br><br>

Pixel format and bit order are described in greater detail in
<a href="Inquire_functions.html#vq_scrninfo">vq_scrninfo</a>. With the following parameters, for instance, one can
create an off-screen bitmap with 256 colours and interleaved planes:<pre>work_in[15..16] = 256;  /* 256 colours           */
work_in[17] = 8;        /* 8 Planes              */
work_in[18] = 0;        /* Interleaved planes    */
work_in[19] = 1;        /* Normal bit order      */
</pre>
<br><br>

<b>Attention:</b> <i>work_in[11]</i> + 1 should be divisible by
16 without remainder. Otherwise the VDI driver will round up
(<i>work_in[11]</i> + 1) to the next number which can be divided by
16 without remainder.<br><br>

If pixel width and height are 0 the pixel size of the screen
workstation is used.<br><br>

<b>Note:</b> The use of off-screen bitmaps can be useful if one
wants to avoid effects such as heavy flicker on the screen. In that
case one builds up the parts of the graphic in the bitmap and
transfers the bitmap with <a href="00700b.html#vrt_cpyfm">vrt_cpyfm</a> or <a href="00700b.html#vro_cpyfm">vro_cpyfm</a> to the screen.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Information is passed to the outside via the <i>work_out</i>
array or the Memory Form Definiton Block (<a href="00700d.html#MFDB">MFDB</a>):<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[0..1]</td>
<td valign="top">See <a href="#v_opnwk">v_opnwk</a>/<a href="#v_opnvwk">v_opnvwk</a></td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[2]</td>
<td valign="top">0</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[3..38]</td>
<td valign="top">See v_opnwk/v_opnvwk</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[39]</td>
<td valign="top">0 (no hardware <a href="VDI_fundamentals.html#CLUT">CLUT</a>)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[39..56]</td>
<td valign="top">See v_opnwk/v_opnvwk</td></tr>

<tr><td nowrap="nowrap" valign="top">bitmap</td>
<td valign="top">Pointer to <a href="00700d.html#MFDB">MFDB</a>

</td></tr>
</table>

<br><br>

If bitmap->fd_addr is zero, the VDI will allocate memory for
the bitmap and will clear it (in contrast to <a href="#v_opnvwk">v_opnvwk</a>).<br><br>

To open a bitmap in device-specific format, bitmap->fd_nplanes
should be zero, or the number of planes of the screen
(<i>work_out[4]</i> from <a href="Inquire_functions.html#vq_extnd">vq_extnd</a>). If bitmap->fd_nplanes is 1, a
monochrome bitmap will be created.<br><br>

The elements of the <a href="00700d.html#MFDB">MFDB</a> (fd_addr, fd_w, fd_h, fd_wdwidth,
fd_stand, fd_nplanes) are set by the VDI before returning from
v_opnbm. If there is not enough memory to create a bitmap the handle
will be zero and the <a href="00700d.html#MFDB">MFDB</a> will not be changed.<br><br>

If bitmap->fd_addr is not zero, it will be used as pointer to a
bitmap. If the bitmap is in standard format, it will be transformed
into device-specific format. If the number of planes of the bitmap is
not supported by the VDI, a zero handle will be returned.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is available as of <a href="VDI_fundamentals.html#EdDI">EdDI</a> Version 1.00. From EdDI
1.1 onwards, v_opnbm can be called with additional parameters.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_opnbm">Binding</a> &nbsp; <a href="VDI_fundamentals.html#NVDI">NVDI</a> &nbsp; <a href="VDI_fundamentals.html#Off-screen_20bitmaps">Off-screen bitmaps</a> &nbsp; <a href="#v_clsbm">v_clsbm</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_opnbm"></a>7.10.25 Bindings for v_opnbm</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#v_opnbm">v_opnbm</a> ( int16_t *work_in, <a href="00700d.html#MFDB">MFDB</a> *bitmap, int16_t *handle,
int16_t *work_out );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>void <a href="#v_opnbm">v_opnbm</a> (int16_t *work_in, <a href="00700d.html#MFDB">MFDB</a> *bitmap, int16_t *handle,
              int16_t *work_out)
{
   <a href="007003.html#intin">intin</a>[0..19] = work_in[0..19];

   <a href="007003.html#contrl">contrl</a>[0] = 100;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 20;
   <a href="007003.html#contrl">contrl</a>[5] = 1;
   <a href="007003.html#contrl">contrl</a>[6] = handle;
   <a href="007003.html#contrl">contrl</a>[7..8] = bitmap;

   <a href="007003.html#vdi">vdi</a> ();

   *handle = <a href="007003.html#contrl">contrl</a>[6];
   work_out[0..44]  = <a href="007003.html#intout">intout</a>[0..44];
   work_out[45..56] = <a href="007003.html#ptsout">ptsout</a>[0..11];
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">100   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">6     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">20    # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">45    # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+10</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[5]</td>
  <td align="left" valign="top">1     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+14</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[7..8]</td>
  <td align="left" valign="top">bitmap</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0..19]</td>
  <td align="left" valign="top">work_in[0..19]</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a></td>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a>[0..44]</td>
  <td align="left" valign="top">work_out[0..44]</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#ptsout">ptsout</a></td>
  <td align="left" valign="top"><a href="007003.html#ptsout">ptsout</a>[0..11]</td>
  <td align="left" valign="top">work_out[45..56]</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_opnprn"></a>7.10.26 v_opnprn</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Open printer driver«</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">1</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t v_opnprn( int16_t base_handle, <a href="008016.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings,
int16_t *work_out );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_opnprn opens a printer driver. The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">base_handle</td>
<td valign="top"><a href="00800c.html#graf_handle">graf_handle</a></td></tr>

<tr><td nowrap="nowrap" valign="top">settings</td>
<td valign="top">Pointer to a structure of the type <a href="008016.html#PRN_SETTINGS">PRN_SETTINGS</a></td></tr>

<tr><td nowrap="nowrap" valign="top">work_out</td>
<td valign="top">Pointer to an int16_t work_out[57]

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> VDI handle, or 0 (error)</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The passing of PRN_SETTINGS is possible as of <a href="VDI_fundamentals.html#NVDI">NVDI</a> 4.1x (27.11.96).
The binding appears for the first time in NVDI 5.00.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_opnprn">Binding</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_opnprn"></a>7.10.27 Bindings for v_opnprn</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#v_opnprn">v_opnprn</a>( int16_t base_handle, <a href="008016.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings,
int16_t *work_out );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#v_opnprn">v_opnprn</a>( int16_t base_handle, <a href="008016.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings,
                  int16_t *work_out )
{
  int16   work_in[16];
  int16   i;

  <a href="007003.html#vdi">vdi</a>_pb.<a href="007003.html#intin">intin</a> = (int *) work_in;
  <a href="007003.html#vdi">vdi</a>_pb.<a href="007003.html#intout">intout</a> = (int *) work_out;
  <a href="007003.html#vdi">vdi</a>_pb.<a href="007003.html#ptsout">ptsout</a> = (int *) work_out + 45;

  work_in[0] = settings->driver_id;            /* Driver number             */
  for ( i = 1; i < 10; i++ )
    work_in[i] = 1;
  work_in[10] = 2;                             /* Use raster coordinates    */
  work_in[11] = (int16) settings->size_id;     /* Use page format from settings */
  *(int8 **) &work_in[12] = settings->device;  /* Use output channel from settings */
  *(<a href="008016.html#PRN_SETTINGS">PRN_SETTINGS</a> **) &work_in[14] = settings;  /* Printer settings          */

  <a href="007003.html#contrl">contrl</a>[0] = 1;                               /* Function number           */
  <a href="007003.html#contrl">contrl</a>[1] = 0;
  <a href="007003.html#contrl">contrl</a>[3] = 16;                              /* Extended parameter number */
  <a href="007003.html#contrl">contrl</a>[6] = base_handle;

  <a href="007003.html#vdi">vdi</a>( &<a href="007003.html#vdi">vdi</a>_pb );                              /* Open driver               */

  <a href="007003.html#vdi">vdi</a>_pb.<a href="007003.html#intin">intin</a> = (int *) <a href="007003.html#intin">intin</a>;                /* Reset pointer             */
  <a href="007003.html#vdi">vdi</a>_pb.<a href="007003.html#intout">intout</a> = (int *) <a href="007003.html#intout">intout</a>;
  <a href="007003.html#vdi">vdi</a>_pb.<a href="007003.html#ptsout">ptsout</a> = (int *) <a href="007003.html#ptsout">ptsout</a>;

  return( <a href="007003.html#contrl">contrl</a>[6] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">1     # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">6     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">16    # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">45    # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+10</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[5]</td>
  <td align="left" valign="top">1     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">base_handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0..19]</td>
  <td align="left" valign="top">work_in[0..15]</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a></td>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a>[0..44]</td>
  <td align="left" valign="top">work_out[0..44]</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#ptsout">ptsout</a></td>
  <td align="left" valign="top"><a href="007003.html#ptsout">ptsout</a>[0..11]</td>
  <td align="left" valign="top">work_out[45..56]</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_opnvwk"></a>7.10.28 v_opnvwk</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Open virtual screen workstation« - Open a screen
workstation.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">100</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void v_opnvwk ( int16_t *work_in, int16_t *handle, int16_t
*work_out );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_opnvwk opens a virtual VDI workstation on an
already opened physical device. After the call the parameter
<i>handle</i> receives the ID of the virtual device, or the value 0
in case of error. The following aply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in</td>
<td valign="top">Pointer to an integer field with more exact specifications of
the device driver to be loaded:</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[0]</td>
<td valign="top">Number of the <a href="VDI_fundamentals.html#GDOS_20drivers">device driver</a> as entered in the ASSIGN.SYS file; the
following apply for the screen:<table>
<tr><td nowrap="nowrap" valign="top">x = 2 + <a href="Screen_functions.html#Getrez">Getrez</a>()</td>
<td valign="top">&nbsp;
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[1]</td>
<td valign="top">Default line type</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[2]</td>
<td valign="top">Defaut line colour index</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[3]</td>
<td valign="top">Default marker type</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[4]</td>
<td valign="top">Default marker colour index</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[5]</td>
<td valign="top">Default font ID</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[6]</td>
<td valign="top">Default text colour index</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[7]</td>
<td valign="top">Default fill interior style</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[8]</td>
<td valign="top">Default fill style index</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[9]</td>
<td valign="top">Default fill colour inde</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[10]</td>
<td valign="top">Coordinate type flag:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">NDC (Normalized Device Coordinates, only for external drivers
with GDOS)</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">RC (Raster Coordinates)
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[11]</td>
<td valign="top"><b>Page format:</b><table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">Use default setting</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top"><a href="VDI_fundamentals.html#DIN_20A3">DIN A3</a></td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top"><a href="VDI_fundamentals.html#DIN_20A4">DIN A4</a></td></tr>

<tr><td nowrap="nowrap" valign="top">3 =</td>
<td valign="top"><a href="VDI_fundamentals.html#DIN_20A5">DIN A5</a></td></tr>

<tr><td nowrap="nowrap" valign="top">4 =</td>
<td valign="top"><a href="VDI_fundamentals.html#DIN_20B5">DIN B5</a></td></tr>

<tr><td nowrap="nowrap" valign="top">16 =</td>
<td valign="top">Letter size</td></tr>

<tr><td nowrap="nowrap" valign="top">17 =</td>
<td valign="top">Half size</td></tr>

<tr><td nowrap="nowrap" valign="top">18 =</td>
<td valign="top">Legal size</td></tr>

<tr><td nowrap="nowrap" valign="top">19 =</td>
<td valign="top">Double size</td></tr>

<tr><td nowrap="nowrap" valign="top">20 =</td>
<td valign="top">Broadsheet size
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[12]</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">+</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[13]</td>
<td valign="top">Pointer to a GEMDOS file name (C string) or 0L</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[14]</td>
<td valign="top">Reserved, should be 0</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[15]</td>
<td valign="top">Reserved, should be 0</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out</td>
<td valign="top">Pointer to an integer field containing more exact
specifications of the loaded device driver:</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[0]</td>
<td valign="top">Maximum addressable width (0 - Xmax)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[1]</td>
<td valign="top">Maximum addressable height (0 - Ymax)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[2]</td>
<td valign="top"><b>Scalability flag:</b><table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">Device capable of producing a precisely scaled image (e.g. the
screen, printer)</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Device not capable of producing a precisely scaled image (e.g.
a film recorder)
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[3]</td>
<td valign="top">Pixel width in microns</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[4]</td>
<td valign="top">Pixel height in microns</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[5]</td>
<td valign="top">Number of character heights (0: continous scaling)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[6]</td>
<td valign="top">Number of line types</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[7]</td>
<td valign="top">Number of line widths (0: continous scaling)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[8]</td>
<td valign="top">Number of marker types</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[9]</td>
<td valign="top">Number of marker heights (0: continous scaling)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[10]</td>
<td valign="top">Number of accessible fonts</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[11]</td>
<td valign="top">Number of patterns</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[12]</td>
<td valign="top">Number of hatch styles</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[13]</td>
<td valign="top">Number of simultaneously depicted colours (e.g. 256 on an 8 bit
screen)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[14]</td>
<td valign="top">Number of GDPs (General Drawing Primitives) supported</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[15]</td>
<td valign="top">List of the GDPs available on the device; -1 indicates the end
of the list<table>
<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top"><a href="007005.html#v_bar">v_bar</a></td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top"><a href="007005.html#v_arc">v_arc</a></td></tr>

<tr><td nowrap="nowrap" valign="top">3 =</td>
<td valign="top"><a href="007005.html#v_pieslice">v_pieslice</a></td></tr>

<tr><td nowrap="nowrap" valign="top">4 =</td>
<td valign="top"><a href="007005.html#v_circle">v_circle</a></td></tr>

<tr><td nowrap="nowrap" valign="top">5 =</td>
<td valign="top"><a href="007005.html#v_ellipse">v_ellipse</a></td></tr>

<tr><td nowrap="nowrap" valign="top">6 =</td>
<td valign="top"><a href="007005.html#v_ellarc">v_ellarc</a></td></tr>

<tr><td nowrap="nowrap" valign="top">7 =</td>
<td valign="top"><a href="007005.html#v_ellpie">v_ellpie</a></td></tr>

<tr><td nowrap="nowrap" valign="top">8 =</td>
<td valign="top"><a href="007005.html#v_rbox">v_rbox</a></td></tr>

<tr><td nowrap="nowrap" valign="top">9 =</td>
<td valign="top"><a href="007005.html#v_rfbox">v_rfbox</a></td></tr>

<tr><td nowrap="nowrap" valign="top">10 =</td>
<td valign="top"><a href="007005.html#v_justified">v_justified</a>
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">:</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[24]</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[25]</td>
<td valign="top"><b>List of attributes associated with each GDP:</b><table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">Polyline</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Marker</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">Text</td></tr>

<tr><td nowrap="nowrap" valign="top">3 =</td>
<td valign="top">Fill area</td></tr>

<tr><td nowrap="nowrap" valign="top">4 =</td>
<td valign="top">No attributes
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">:</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[34]</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[35]</td>
<td valign="top">Colour capability flag</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[36]</td>
<td valign="top"><a href="00f00e.html#Text_20rotation">Text rotation</a> capability flag</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[37]</td>
<td valign="top">Fill area capability flag</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[38]</td>
<td valign="top">CELLARRAY capability flag</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[39]</td>
<td valign="top">Number of colour levels available, or:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">More than 32767</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">Monochrome
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[40]</td>
<td valign="top">Number of locator devices available for graphic cursor <a href="008002.html#control">control</a>:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">None</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Keyboard only</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">Keyboard and mouse (or other device)
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[41]</td>
<td valign="top">Number of valuator devices available for various inputs:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">None</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Keyboard only</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">Another device
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[42]</td>
<td valign="top">Number of choice devices available:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">None</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Function keys on keyboard</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">Function keys + extra keypad
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[43]</td>
<td valign="top">Number of string devices available for alphanumeric input:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">None</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Keyboard
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[44]</td>
<td valign="top"><b>Device type:</b><table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">Output only</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Input only</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">Input and output</td></tr>

<tr><td nowrap="nowrap" valign="top">3 =</td>
<td valign="top">Reserved</td></tr>

<tr><td nowrap="nowrap" valign="top">4 =</td>
<td valign="top">Metafile output
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[45]</td>
<td valign="top">Minimum character width (pixels)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[46]</td>
<td valign="top">Minimum character height (pixels)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[47]</td>
<td valign="top">Maximum character width (pixels)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[48]</td>
<td valign="top">Maximum character height (pixels)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[49]</td>
<td valign="top">Minimum representable line width (pixels)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[50]</td>
<td valign="top">0</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[51]</td>
<td valign="top">Maximum line width</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[52]</td>
<td valign="top">0</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[53]</td>
<td valign="top">Minimum marker width</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[54]</td>
<td valign="top">Minimum marker heigh</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[55]</td>
<td valign="top">Maximum marker width</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[56]</td>
<td valign="top">Maximum marker height

</td></tr>
</table>

<br><br>

<b>Note:</b> Unfortunately the VDI has no mechanism to manage
the input devices for multiple workstations. Therefore this has to be
taken on by the application that has opened the physical workstation
of the screen.<br><br>

<b>Important:</b> The ID of the current <i>physical</i> screen
workstation must be established from the AES with <a href="00800c.html#graf_handle">graf_handle</a>.<a name="VDIFIX_2C_20Patch-program"></a>
<a name="Patch_2C_20VDIFIX"></a>
<br><br>

<b>Warning:</b> In the TOS versions 1.00, 1.04, 1.06, 1.62
and 2.05 there is an error in the management of the virtual
workstations. This can show itseslf in the <i>multiple</i>
assignation of IDs, and hence the workstation attributes may be
misplaced in some circumstances. This error appears if there are
<i>gaps</i> in the internal workstation list of the screen driver.
Remedy: Place the patch-program <b>VDIFIX</b> in the AUTO folder.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns no direct result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">Supported by all drivers.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_opnvwk">Binding</a> &nbsp; <a href="#v_opnwk">v_opnwk</a> &nbsp; <a href="#v_clsvwk">v_clsvwk</a> &nbsp; <a href="00800c.html#graf_handle">graf_handle</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_opnvwk"></a>7.10.29 Bindings for v_opnvwk</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#v_opnvwk">v_opnvwk</a> ( int16_t *work_in, int16_t *handle, int16_t
*work_out );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>void <a href="#v_opnvwk">v_opnvwk</a> (int16_t *work_in, int16_t *handle,
               int16_t *work_out)
{
   <a href="007003.html#intin">intin</a>[0..10] = work_in[0..10]

   <a href="007003.html#contrl">contrl</a>[0] = 100;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 11;
   <a href="007003.html#contrl">contrl</a>[6] = *handle;

   <a href="007003.html#vdi">vdi</a> ();

   *handle = <a href="007003.html#contrl">contrl</a>[6];
   work_out[0..44]  = <a href="007003.html#intout">intout</a>[0..44];
   work_out[45..56] = <a href="007003.html#ptsout">ptsout</a>[0..11];
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">100   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">6     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">11    # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">45    # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0..10]</td>
  <td align="left" valign="top">work_in[0..10]</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a></td>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a>[0..44]</td>
  <td align="left" valign="top">work_out[0..44]</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#ptsout">ptsout</a></td>
  <td align="left" valign="top"><a href="007003.html#ptsout">ptsout</a>[0..11]</td>
  <td align="left" valign="top">work_out[45..56]</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_opnwk"></a>7.10.30 v_opnwk</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Open workstation« - Initialize a device driver for a
specified input/output device.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">1</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void v_opnwk ( int16_t *work_in, int16_t *handle, int16_t
*work_out );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_opnwk opens a physical workstation to load a device
driver. However, for this to work, a GDOS (or its equivalent) must be
present in memory and the device driver must be listed in the
ASSIGN.SYS file. If all went well <i>handle</i> will contain a
positive device ID, or 0 in case of error.<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in</td>
<td valign="top">Pointer to an integer field with more exact specifications of
the device driver to be loaded:</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[0]</td>
<td valign="top">Number of the <a href="VDI_fundamentals.html#GDOS_20drivers">device driver</a> as entered in the ASSIGN.SYS file; the
following apply for the screen:<table>
<tr><td nowrap="nowrap" valign="top">x = 2 + <a href="Screen_functions.html#Getrez">Getrez</a>()</td>
<td valign="top">&nbsp;
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[1]</td>
<td valign="top">Default line type</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[2]</td>
<td valign="top">Defaut line colour index</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[3]</td>
<td valign="top">Default marker type</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[4]</td>
<td valign="top">Default marker colour index</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[5]</td>
<td valign="top">Default font ID</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[6]</td>
<td valign="top">Default text colour index</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[7]</td>
<td valign="top">Default fill interior style</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[8]</td>
<td valign="top">Default fill style index</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[9]</td>
<td valign="top">Default fill colour inde</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[10]</td>
<td valign="top">Coordinate type flag:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">NDC (Normalized Device Coordinates, only for external drivers
with GDOS)</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">RC (Raster Coordinates)
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[11]</td>
<td valign="top"><b>Page format:</b><table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">Use default setting</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top"><a href="VDI_fundamentals.html#DIN_20A3">DIN A3</a></td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top"><a href="VDI_fundamentals.html#DIN_20A4">DIN A4</a></td></tr>

<tr><td nowrap="nowrap" valign="top">3 =</td>
<td valign="top"><a href="VDI_fundamentals.html#DIN_20A5">DIN A5</a></td></tr>

<tr><td nowrap="nowrap" valign="top">4 =</td>
<td valign="top"><a href="VDI_fundamentals.html#DIN_20B5">DIN B5</a></td></tr>

<tr><td nowrap="nowrap" valign="top">16 =</td>
<td valign="top">Letter size</td></tr>

<tr><td nowrap="nowrap" valign="top">17 =</td>
<td valign="top">Half size</td></tr>

<tr><td nowrap="nowrap" valign="top">18 =</td>
<td valign="top">Legal size</td></tr>

<tr><td nowrap="nowrap" valign="top">19 =</td>
<td valign="top">Double size</td></tr>

<tr><td nowrap="nowrap" valign="top">20 =</td>
<td valign="top">Broadsheet size
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[12]</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">+</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[13]</td>
<td valign="top">Pointer to a GEMDOS file name (C string) or 0L</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[14]</td>
<td valign="top">Reserved, should be 0</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[15]</td>
<td valign="top">Reserved, should be 0</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out</td>
<td valign="top">Pointer to an integer field containing more exact
specifications of the loaded device driver:</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[0]</td>
<td valign="top">Maximum addressable width (0 - Xmax)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[1]</td>
<td valign="top">Maximum addressable height (0 - Ymax)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[2]</td>
<td valign="top"><b>Scalability flag:</b><table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">Device capable of producing a precisely scaled image (e.g. the
screen, printer)</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Device not capable of producing a precisely scaled image (e.g.
a film recorder)
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[3]</td>
<td valign="top">Pixel width in microns</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[4]</td>
<td valign="top">Pixel height in microns</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[5]</td>
<td valign="top">Number of character heights (0: continous scaling)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[6]</td>
<td valign="top">Number of line types</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[7]</td>
<td valign="top">Number of line widths (0: continous scaling)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[8]</td>
<td valign="top">Number of marker types</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[9]</td>
<td valign="top">Number of marker heights (0: continous scaling)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[10]</td>
<td valign="top">Number of accessible fonts</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[11]</td>
<td valign="top">Number of patterns</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[12]</td>
<td valign="top">Number of hatch styles</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[13]</td>
<td valign="top">Number of simultaneously depicted colours (e.g. 256 on an 8 bit
screen)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[14]</td>
<td valign="top">Number of GDPs (General Drawing Primitives) supported</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[15]</td>
<td valign="top">List of the GDPs available on the device; -1 indicates the end
of the list<table>
<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top"><a href="007005.html#v_bar">v_bar</a></td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top"><a href="007005.html#v_arc">v_arc</a></td></tr>

<tr><td nowrap="nowrap" valign="top">3 =</td>
<td valign="top"><a href="007005.html#v_pieslice">v_pieslice</a></td></tr>

<tr><td nowrap="nowrap" valign="top">4 =</td>
<td valign="top"><a href="007005.html#v_circle">v_circle</a></td></tr>

<tr><td nowrap="nowrap" valign="top">5 =</td>
<td valign="top"><a href="007005.html#v_ellipse">v_ellipse</a></td></tr>

<tr><td nowrap="nowrap" valign="top">6 =</td>
<td valign="top"><a href="007005.html#v_ellarc">v_ellarc</a></td></tr>

<tr><td nowrap="nowrap" valign="top">7 =</td>
<td valign="top"><a href="007005.html#v_ellpie">v_ellpie</a></td></tr>

<tr><td nowrap="nowrap" valign="top">8 =</td>
<td valign="top"><a href="007005.html#v_rbox">v_rbox</a></td></tr>

<tr><td nowrap="nowrap" valign="top">9 =</td>
<td valign="top"><a href="007005.html#v_rfbox">v_rfbox</a></td></tr>

<tr><td nowrap="nowrap" valign="top">10 =</td>
<td valign="top"><a href="007005.html#v_justified">v_justified</a>
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">:</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[24]</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[25]</td>
<td valign="top"><b>List of attributes associated with each GDP:</b><table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">Polyline</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Marker</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">Text</td></tr>

<tr><td nowrap="nowrap" valign="top">3 =</td>
<td valign="top">Fill area</td></tr>

<tr><td nowrap="nowrap" valign="top">4 =</td>
<td valign="top">No attributes
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">:</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[34]</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[35]</td>
<td valign="top">Colour capability flag</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[36]</td>
<td valign="top"><a href="00f00e.html#Text_20rotation">Text rotation</a> capability flag</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[37]</td>
<td valign="top">Fill area capability flag</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[38]</td>
<td valign="top">CELLARRAY capability flag</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[39]</td>
<td valign="top">Number of colour levels available, or:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">More than 32767</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">Monochrome
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[40]</td>
<td valign="top">Number of locator devices available for graphic cursor <a href="008002.html#control">control</a>:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">None</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Keyboard only</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">Keyboard and mouse (or other device)
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[41]</td>
<td valign="top">Number of valuator devices available for various inputs:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">None</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Keyboard only</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">Another device
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[42]</td>
<td valign="top">Number of choice devices available:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">None</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Function keys on keyboard</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">Function keys + extra keypad
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[43]</td>
<td valign="top">Number of string devices available for alphanumeric input:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">None</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Keyboard
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[44]</td>
<td valign="top"><b>Device type:</b><table>
<tr><td nowrap="nowrap" valign="top">-1 =</td>
<td valign="top">Device can output in landscape format (as of PC-GEM/3)</td></tr>

<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">Output only</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Input only</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">Input and output</td></tr>

<tr><td nowrap="nowrap" valign="top">3 =</td>
<td valign="top">Reserved</td></tr>

<tr><td nowrap="nowrap" valign="top">4 =</td>
<td valign="top">Metafile output
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[45]</td>
<td valign="top">Minimum character width (pixels)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[46]</td>
<td valign="top">Minimum character height (pixels)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[47]</td>
<td valign="top">Maximum character width (pixels)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[48]</td>
<td valign="top">Maximum character height (pixels)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[49]</td>
<td valign="top">Minimum representable line width (pixels)</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[50]</td>
<td valign="top">0</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[51]</td>
<td valign="top">Maximum line width</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[52]</td>
<td valign="top">0</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[53]</td>
<td valign="top">Minimum marker width</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[54]</td>
<td valign="top">Minimum marker heigh</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[55]</td>
<td valign="top">Maximum marker width</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[56]</td>
<td valign="top">Maximum marker height

</td></tr>
</table>

<br><br>

<b>Notes:</b> The components <i>work_in[11]</i> to
<i>work_in[15]</i> are only useful under <a href="VDI_fundamentals.html#NVDI">NVDI</a> and allow setting the
page format for printers and bit-image drivers, as well as the output
channel. For a metafile driver the setting of the page format will
<i>not</i> take effect; only the filename will be adopted here. To
check whether the page or paper format was set successfully one should
fall back on the function <a href="Inquire_functions.html#vq_extnd">vq_extnd</a>.<br><br>

The values returned in the elements <i>work_out[0,1]</i> show the
actual printable area; the <i>non-printable</i> areas can be obtained
with vq_extnd.<br><br>

The allocation of the <i>work_in</i> and <i>work_out</i> arrays
given here is no longer fully compatible to PC-GEM, as from
GEM/3 onwards a number of considerable <a href="#Changes_20in_20PC-GEM">changes or extensions</a> were made that were
either not adopted on the Atari or were made in a different manner.<br><br>

Physical workstations should be opened only when they are needed,
and closed immediately afterwards; so, for instance, a word processor
should <i>not</i> open the printer driver when the application
launches and close it when it ends, as otherwise the user will not be
able to change printers with a printer setup CPX.<br><br>

<b>Warning:</b> With printer drivers, and specially with the
Atari SLM laser page-printers, some <a href="00700a.html#v_opnwk_2C_20Special_20features">special features</a> have to be heeded.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns no direct result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">Available only with some forms of GDOS.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_opnwk">Binding</a> &nbsp; <a href="VDI_fundamentals.html#About_20the_20GDOS">GDOS</a> &nbsp; <a href="#v_clswk">v_clswk</a> &nbsp; <a href="#v_opnvwk">v_opnvwk</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_opnwk"></a>7.10.31 Bindings for v_opnwk</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#v_opnwk">v_opnwk</a> ( int16_t *work_in, int16_t *handle, int16_t
*work_out );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>void <a href="#v_opnwk">v_opnwk</a> (int16_t *work_in, int16_t *handle,
              int16_t *work_out)
{
   <a href="007003.html#intin">intin</a>[0..15] = work_in[0..15];

   <a href="007003.html#contrl">contrl</a>[0] = 1;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 16;
   <a href="007003.html#contrl">contrl</a>[6] = 0;

   <a href="007003.html#vdi">vdi</a> ();

   *handle = <a href="007003.html#contrl">contrl</a>[6];
   work_out[0..44]  = <a href="007003.html#intout">intout</a>[0..44];
   work_out[45..56] = <a href="007003.html#ptsout">ptsout</a>[0..11];
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">1     # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">6     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">16    # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">45    # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0..15]</td>
  <td align="left" valign="top">work_in[0..15]</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a></td>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a>[0..44]</td>
  <td align="left" valign="top">work_out[0..44]</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#ptsout">ptsout</a></td>
  <td align="left" valign="top"><a href="007003.html#ptsout">ptsout</a>[0..11]</td>
  <td align="left" valign="top">work_out[45..56]</td>
</tr>
</table>
</div>

<a name="v_opnwk_2C_20Special_20features"></a>
<br><br>

<b>Note:</b> The specified binding is valid for use under <a href="VDI_fundamentals.html#NVDI">NVDI</a>.
With printer drivers some special features have to be taken into
account: First of all, with <i>matrix printers</i> the maximum
resolution can be specified, as follows:<table>
<tr><td nowrap="nowrap" valign="top">ptsin[0] =</td>
<td valign="top"> Maximum resolution in X-direction</td></tr>

<tr><td nowrap="nowrap" valign="top">ptsin[1] =</td>
<td valign="top"> Maximum resolution in Y-direction</td></tr>

<tr><td nowrap="nowrap" valign="top">contrl[1] =</td>
<td valign="top"> 1

</td></tr>
</table>

<br><br>

<b>In addition, the address of the internal buffer for the Atari
SLM laser page-printers can be obtained:</b><table>
<tr><td nowrap="nowrap" valign="top">contrl[0] =</td>
<td valign="top"> High word, and</td></tr>

<tr><td nowrap="nowrap" valign="top">contrl[1] =</td>
<td valign="top"> Low word of the buffer address

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#v_opnwk">v_opnwk</a> &nbsp; <a href="VDI_fundamentals.html#About_20the_20GDOS">GDOS</a> &nbsp; <a href="VDI_fundamentals.html#GDOS_20drivers">GDOS drivers</a>

</td></tr>
</table>

<h3><a name="Changes_20in_20PC-GEM"></a>7.10.32 Changes in PC-GEM</h3>
<p>From PC-GEM/3 onwards the work_in field of <a href="#v_opnwk">v_opnwk</a> was
extended, so that one could still undertake some driver settings at
runtime. The following information however is <i>not</i> compatible
to Atari GEM or to <a href="VDI_fundamentals.html#NVDI">NVDI</a>. The following apply:</p>

<table>
<tr><td nowrap="nowrap" valign="top">Element</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[11]</td>
<td valign="top">In the lower value byte the output is specified more exactly.
Output is to:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">File</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Serial port</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top">Parallel port</td></tr>

<tr><td nowrap="nowrap" valign="top">3 =</td>
<td valign="top">Device-specific (direct)</td></tr>

<tr><td nowrap="nowrap" valign="top">255 =</td>
<td valign="top">Default port
</td></tr>
</table>

<br>

In the higher value byte the page size is specified:<table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">Letter size ( 8.50 * 11.00 inch)</td></tr>

<tr><td nowrap="nowrap" valign="top">5 =</td>
<td valign="top">Half size ( 8.50 * 5.50 inch)</td></tr>

<tr><td nowrap="nowrap" valign="top">10 =</td>
<td valign="top">B5 size (18.20 * 25.00 cm)</td></tr>

<tr><td nowrap="nowrap" valign="top">20 =</td>
<td valign="top">Letter size ( 8.50 * 11.00 inch)</td></tr>

<tr><td nowrap="nowrap" valign="top">30 =</td>
<td valign="top">A4 size (21.00 * 29.70 cm)</td></tr>

<tr><td nowrap="nowrap" valign="top">40 =</td>
<td valign="top">Legal size ( 8.50 * 14.00 inch)</td></tr>

<tr><td nowrap="nowrap" valign="top">50 =</td>
<td valign="top">Double size (11.00 * 17.00 inch)</td></tr>

<tr><td nowrap="nowrap" valign="top">55 =</td>
<td valign="top">Broadsheet (14.00 * 11.00 inch)</td></tr>

<tr><td nowrap="nowrap" valign="top">255 =</td>
<td valign="top">Benutzerspezifiziert (<i>work_in[101,102]</i>)
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[12]</td>
<td valign="top">Output port or filename</td></tr>

<tr><td nowrap="nowrap" valign="top">...</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">...</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[100]</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[101]</td>
<td valign="top">Page width in 1/100 inch</td></tr>

<tr><td nowrap="nowrap" valign="top">work_in[102]</td>
<td valign="top">Page height in 1/100 inch</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[14]</td>
<td valign="top">Has the value 11 if escapement text is available</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[24]</td>
<td valign="top">Has the value 1 if escapement text is the only available text
on the output device, or otherwise the value 10</td></tr>

<tr><td nowrap="nowrap" valign="top">work_out[44]</td>
<td valign="top">A value of -1 means that the output device can output in
landscape format without the application having to rotate the graphic
itself. The OUTPUT program of PC-GEM however takes on the rotation
itself, as this option was not yet available in older GEM
versions.

</td></tr>
</table>

<p><b>Note:</b> If <i>work_in[11]</i> has the value 1 or 2, then
<i>work_in[12]</i> must be set to the port number (LPT1 = 0, LPT2 =
1, COM1 = 0, etc.). On the other hand if <i>work_in[11]</i> has the
value 0, then the name of the file which is to be written must be
contained in <i>work_in[12]</i> onwards; this will be written
character by character (16-bit WORDS) and must be NULL-terminated.</p>

<p>See also: <a href="#Control_20functions">Control functions</a> &nbsp; <a href="#v_opnwk">v_opnwk</a></p>

<h3><a name="v_pat_rotate"></a>7.10.33 v_pat_rotate</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Pattern rotation«</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">134</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void v_pat_rotate( int16_t handle, int16_t angle)</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_pat_rotate specifies a pattern rotation angle. It is
implemented only in printer drivers and is restricted to multiples of
90 degrees.<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top">Workstation identifier</td></tr>

<tr><td nowrap="nowrap" valign="top">angle</td>
<td valign="top">Angle in tenths of a degree

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function does not return a result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">GEM/3 Release 3.1</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_pat_rotate">Binding</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_pat_rotate"></a>7.10.34 Bindings for v_pat_rotate</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#v_pat_rotate">v_pat_rotate</a>( int16_t handle, int16_t angle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>void <a href="#v_pat_rotate">v_pat_rotate</a>( int16_t handle, int16_t angle )
{
   <a href="007003.html#intin">intin</a>[0] = angle;

   <a href="007003.html#contrl">contrl</a>[0] = 134;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 1;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">134   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">1     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0]</td>
  <td align="left" valign="top">angle</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_resize_bm"></a>7.10.35 v_resize_bm</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Resize bitmap« - Alter the size of an off-screen bitmap.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">100 (Sub-Opcode 2)</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t v_resize_bm( int16_t handle, int16_t width, int16_t
height, int32_t byte_width, uint16_t *addr );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">With the function v_resize_bm the size of an off-screen bitmap
may be changed. The function can also be passed its own block of
memory, for which then the following points must be abided by:

<ul>
<li><p>The memory block must start on a 16-byte boundary.</p></li>
<li><p>At least 16 bytes that belong to the caller must be free before
and after the memory block, as, depending on the output scope, some
graphics functions read and possibly even write a few bytes before or
after the bitmap (actually, the contents of these memory blocks is not
altered; just some masked data will be written back unchanged).</p></li>
</ul>

<br><br>

If you do not take heed of this, you may be blessed with some
nasty memory collisions! Hence we recommend leaving memory allocation
to the <a href="VDI_fundamentals.html#NVDI">NVDI</a>!<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top">Handle from <a href="#v_opnbm">v_opnbm</a> or <a href="#v_open_bm">v_open_bm</a>.</td></tr>

<tr><td nowrap="nowrap" valign="top">width</td>
<td valign="top">New width in pixels</td></tr>

<tr><td nowrap="nowrap" valign="top">height</td>
<td valign="top">New height in pixels</td></tr>

<tr><td nowrap="nowrap" valign="top">byte_width</td>
<td valign="top">Width of a line in bytes (only if <i>addr</i> is valid)</td></tr>

<tr><td nowrap="nowrap" valign="top">addr</td>
<td valign="top">Pointer to own memory block, or 0L

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If the function result is 0 then the new bitmap could not be
built up. As the old bitmap has been released already in this case,
one can attempt to create a smaller bitmap, or the bitmap must be
closed with <a href="#v_clsbm">v_clsbm</a>.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">As of <a href="VDI_fundamentals.html#EdDI">EdDI</a> Version 1.20</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_resize_bm">Binding</a> &nbsp; <a href="VDI_fundamentals.html#NVDI">NVDI</a> &nbsp; <a href="VDI_fundamentals.html#Off-screen_20bitmaps">Off-screen bitmaps</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_resize_bm"></a>7.10.36 Bindings for v_resize_bm</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#v_resize_bm">v_resize_bm</a>( int16_t handle, int16_t width, int16_t
height, int32_t byte_width, uint16_t *addr );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#v_resize_bm">v_resize_bm</a>( int16_t handle, int16_t width,
                     int16_t height, int32_t byte_width,
                     uint16_t *addr )
{
   <a href="007003.html#intin">intin</a>[0] = width;
   <a href="007003.html#intin">intin</a>[1] = height;
   <a href="007003.html#intin">intin</a>[2..3] = byte_width;
   <a href="007003.html#intin">intin</a>[4..5] = addr;

   <a href="007003.html#contrl">contrl</a>[0] = 100;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 6;
   <a href="007003.html#contrl">contrl</a>[5] = 2;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();

   return ( <a href="007003.html#intout">intout</a>[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">100   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">6     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">1     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+10</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[5]</td>
  <td align="left" valign="top">2     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0]</td>
  <td align="left" valign="top">width</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[1]</td>
  <td align="left" valign="top">height</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[2..3]</td>
  <td align="left" valign="top">byte_width</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[4..5]</td>
  <td align="left" valign="top">addr</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a></td>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_savecache"></a>7.10.37 v_savecache</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Save outline cache to disk« - Save the contents of the
vector (outline) font cache.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">249</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t v_savecache ( int16_t handle, int8_t *filename );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_savecache saves the contents of the vector font
cache to a file. The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top">Workstation identifier</td></tr>

<tr><td nowrap="nowrap" valign="top">filename</td>
<td valign="top">Name of the file

</td></tr>
</table>

<br><br>

<b>Note:</b> The file will be stored in the current directory.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value -1 in case of error, else the
value 0.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">FSMGDOS, from <a href="VDI_fundamentals.html#SpeedoGDOS">SpeedoGDOS</a> 4.00 onwards.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_savecache">Binding</a> &nbsp; <a href="#v_flushcache">v_flushcache</a> &nbsp; <a href="#v_loadcache">v_loadcache</a> &nbsp; <a href="Inquire_functions.html#vqt_cachesize">vqt_cachesize</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_savecache"></a>7.10.38 Bindings for v_savecache</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#v_savecache">v_savecache</a> ( int16_t handle, int8_t *filename );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#v_savecache">v_savecache</a> ( int16_t handle, int8_t *filename )
{
   <a href="007003.html#intin">intin</a>[0..n] = filename;      /* In 16-bit words */

   <a href="007003.html#contrl">contrl</a>[0] = 249;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = n;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();

   return ( <a href="007003.html#intout">intout</a>[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">249   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">n     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">1     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0..n]</td>
  <td align="left" valign="top">filename</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a></td>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_set_app_buff"></a>7.10.39 v_set_app_buff</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Reserve Bezier workspace« - Designate memory for generating
Bezier splines.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">-1</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void v_set_app_buff ( int16_t handle, int16_t **address,
int16_t nparagraphs );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_set_app_buff designates buffer memory for use by the
Bezier spline generation routines. The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top">Workstation identifier</td></tr>

<tr><td nowrap="nowrap" valign="top">address</td>
<td valign="top">Address of the buffer</td></tr>

<tr><td nowrap="nowrap" valign="top">nparagraphs</td>
<td valign="top">Buffer size in 16-byte blocks

</td></tr>
</table>

<br><br>

<b>Note:</b> If Bezier functions are called then the spline data
will be stored in this buffer. Before program termination one should
use this function to set a NULL pointer as a buffer of size 0. The
application is then responsible for deallocating the reserved memory.<br><br>

If this function is not called by the application then GDOS will
create its own buffer of around 8 kbyte.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function does not return a result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">FONTGDOS, FSMGDOS, as of GEM/3 Release 3.1, from <a href="VDI_fundamentals.html#SpeedoGDOS">SpeedoGDOS</a>
4.00 and from <a href="VDI_fundamentals.html#NVDI">NVDI</a> 2.10 on. The function surfaces in the (paper)
documentation for <a href="VDI_fundamentals.html#NVDI">NVDI</a> 2.10, but no longer in all remaining
descriptions.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_set_app_buff">Binding</a> &nbsp; <a href="#v_bez_on">v_bez_on</a> &nbsp; <a href="#v_bez_off">v_bez_off</a> &nbsp; <a href="007005.html#v_bez">v_bez</a> &nbsp; <a href="007005.html#v_bez_fill">v_bez_fill</a> &nbsp;
<a href="007004.html#v_bez_qual">v_bez_qual</a> &nbsp; <a href="VDI_fundamentals.html#About_20the_20GDOS">GDOS</a> &nbsp; <a href="VDI_fundamentals.html#SpeedoGDOS">SpeedoGDOS</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_set_app_buff"></a>7.10.40 Bindings for v_set_app_buff</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#v_set_app_buff">v_set_app_buff</a> ( int16_t handle, int16_t **address,
int16_t nparagraphs );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>void <a href="#v_set_app_buff">v_set_app_buff</a> ( int16_t handle, int16_t **address,
                      int16_t nparagraphs )
{
   <a href="007003.html#intin">intin</a>[0..1] = address;
   <a href="007003.html#intin">intin</a>[2] = nparagraphs;

   <a href="007003.html#contrl">contrl</a>[0] = -1;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 3;
   <a href="007003.html#contrl">contrl</a>[5] = 6;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">-1    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">3     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+10</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[5]</td>
  <td align="left" valign="top">6     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0..1]</td>
  <td align="left" valign="top">address</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[2]</td>
  <td align="left" valign="top">nparagraphs</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="v_updwk"></a>7.10.41 v_updwk</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Update workstation« - Execute buffered output commands.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">4</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void v_updwk ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call v_updwk induces the output device with the ID
<i>handle</i> to execute all buffered output commands.<br><br>

<b>Note:</b> On the screen or with off-screen bitmaps this
function is not required, as here all graphics commands are carried
out immediately. With a printer no form-feed will be performed, while
with a metafile only the opcode is written to the buffer.<br><br>

Incidentally, before print output the function should be called
once to initialize the printer. There are some <a href="00700a.html#v_updwk_2C_20Special_20features">special features</a> that have to be
heeded with printer drivers, and specially with the Atari SLM laser
page-printers.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function does not return a result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">Supported by all printer, metafile, plotter, and camera devices
when using any form of GDOS.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20v_updwk">Binding</a> &nbsp; <a href="#v_opnwk">v_opnwk</a> &nbsp; <a href="007008.html#v_output_window">v_output_window</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20v_updwk"></a>7.10.42 Bindings for v_updwk</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#v_updwk">v_updwk</a> ( int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>void <a href="#v_updwk">v_updwk</a> (int16_t handle)
{
   <a href="007003.html#contrl">contrl</a>[0] = 4;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 0;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">4     # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
</table>
</div>

<a name="v_updwk_2C_20Special_20features"></a>
<br><br>

<b>Note:</b> With printer drivers, one can output also a
<i>custom</i> buffer instead of the current page. This is done as
follows:<pre><a href="007003.html#intin">intin</a>[0]  = High word, (!U)and(!u)
<a href="007003.html#intin">intin</a>[1]  = Low word of the buffer address
<a href="007003.html#contrl">contrl</a>[0] = 4;
<a href="007003.html#contrl">contrl</a>[1] = 1; /* Do not clear buffer */
<a href="007003.html#contrl">contrl</a>[3] = 2;
<a href="007003.html#contrl">contrl</a>[6] = handle;
<a href="007003.html#vdi">vdi</a> ();
</pre>
<br><br>

<b>For laser printers of the Atari SLM series one can also obtain
the status of the output device. The following apply:</b><table>
<tr><td nowrap="nowrap" valign="top">intout[0]</td>
<td valign="top"> Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">0</td>
<td valign="top">No error</td></tr>

<tr><td nowrap="nowrap" valign="top">2</td>
<td valign="top">Printer not ready</td></tr>

<tr><td nowrap="nowrap" valign="top">3</td>
<td valign="top">Out of toner</td></tr>

<tr><td nowrap="nowrap" valign="top">5</td>
<td valign="top">Out of paper

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#v_updwk">v_updwk</a> &nbsp; <a href="#Control_20functions">Control functions</a> &nbsp; <a href="VDI_fundamentals.html#About_20the_20GDOS">GDOS</a> &nbsp; <a href="VDI_fundamentals.html#GDOS_20drivers">GDOS drivers</a>

</td></tr>
</table>

<h3><a name="vs_clip"></a>7.10.43 vs_clip</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Set clipping rectangle«</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">129</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void vs_clip ( int16_t handle, int16_t clip_flag, int16_t
*<a href="00700d.html#pxyarray">pxyarray</a> );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call vs_clip limits all graphical output to a given region.
The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top">Workstation identifier</td></tr>

<tr><td nowrap="nowrap" valign="top">clip_flag</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top"><a href="VDI_fundamentals.html#Clipping">Clipping</a> off</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top"><a href="VDI_fundamentals.html#Clipping">Clipping</a> on
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="00700d.html#pxyarray">pxyarray</a>[0]</td>
<td valign="top">X-coordinate, <u>and</u></td></tr>

<tr><td nowrap="nowrap" valign="top">pxyarray[1]</td>
<td valign="top"> Y-coordinate of a rectangle corner point</td></tr>

<tr><td nowrap="nowrap" valign="top">pxyarray[2]</td>
<td valign="top"> X-coordinate, <u>and</u></td></tr>

<tr><td nowrap="nowrap" valign="top">pxyarray[3]</td>
<td valign="top"> Y-coordinate of the diagonally opposite corner point

</td></tr>
</table>

<br><br>

<b>Note:</b> Do not switch off clipping, because a graphic object
which is drawn outside of the visible screen area will overwrite
memory or cause a bus error.<br><br>

If the working area is to include the complete screen, it is
advisable to set the screen dimensions for vs_clip obtained from
<a href="#v_opnvwk">v_opnvwk</a>.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function does not return a result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">Supported by all drivers.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20vs_clip">Binding</a> &nbsp; <a href="VDI_fundamentals.html#Clipping">Clipping</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20vs_clip"></a>7.10.44 Bindings for vs_clip</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#vs_clip">vs_clip</a> ( int16_t handle, int16_t clip_flag, int16_t
*<a href="00700d.html#pxyarray">pxyarray</a> );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>void <a href="#vs_clip">vs_clip</a> (int16_t handle, int16_t clip_flag,
              int16_t *<a href="00700d.html#pxyarray">pxyarray</a>)
{
   <a href="007003.html#intin">intin</a>[0] = clip_flag;
   <a href="007003.html#ptsin">ptsin</a>[0..3] = <a href="00700d.html#pxyarray">pxyarray</a>[0..3];

   <a href="007003.html#contrl">contrl</a>[0] = 129;
   <a href="007003.html#contrl">contrl</a>[1] = 2;
   <a href="007003.html#contrl">contrl</a>[3] = 1;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">129   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">2     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">1     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0]</td>
  <td align="left" valign="top">clip_flag</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#ptsin">ptsin</a></td>
  <td align="left" valign="top"><a href="007003.html#ptsin">ptsin</a>[0..3]</td>
  <td align="left" valign="top"><a href="00700d.html#pxyarray">pxyarray</a>[0..3]</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="vst_ex_load_fonts"></a>7.10.45 vst_ex_load_fonts</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Load fonts« - Extended version of additional font loading
routine.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">119</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t vst_ex_load_fonts ( int16_t handle, int16_t select,
int16_t font_max, int16_t font_free );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call vst_ex_load_fonts is an extension of the existing
<a href="#vst_load_fonts">vst_load_fonts</a> call, with two additional input arguments to provide
control over font paging memory. The current defaults in units of
paragraphs are:<pre>                  font_max     font_free
For screens:     5120 (80K)         0
For printers:      32767       640 (10K)
</pre>
<br><br>

The GDOS attempts to allocate <i>font_max</i> paragraphs or all
of available menory (whichever is smaller) less <i>font_free</i>
paragraphs, and use this amount for font paging.<br><br>

Depending on your needs, you can use either version of this call.
Note that both version use the same opcode.<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top">Workstation identifier</td></tr>

<tr><td nowrap="nowrap" valign="top">select</td>
<td valign="top">Reserved, should be 0</td></tr>

<tr><td nowrap="nowrap" valign="top">font_max</td>
<td valign="top">Maximum number of paragraphs to allocate</td></tr>

<tr><td nowrap="nowrap" valign="top">font_free</td>
<td valign="top">Minimum number of paragraphs to leave free

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The number of loaded fonts.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">GEM/3 Release 3.1</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20vst_ex_load_fonts">Binding</a> &nbsp; <a href="#vst_unload_fonts">vst_unload_fonts</a> &nbsp; <a href="007004.html#vst_font">vst_font</a> &nbsp; <a href="Inquire_functions.html#vqt_name">vqt_name</a> &nbsp; <a href="VDI_fundamentals.html#The_20make-up_20of_20the_20ASSIGN.SYS_20file">ASSIGN.SYS file</a> &nbsp;
<a href="VDI_fundamentals.html#About_20the_20GDOS">GDOS</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20vst_ex_load_fonts"></a>7.10.46 Bindings for vst_ex_load_fonts</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#vst_ex_load_fonts">vst_ex_load_fonts</a> ( int16_t handle, int16_t select,
int16_t font_max, int16_t font_free );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#vst_ex_load_fonts">vst_ex_load_fonts</a> ( int16_t handle, int16_t select,
                            int16_t font_max, int16_t font_free )
{
   <a href="007003.html#intin">intin</a>[0] = select;
   <a href="007003.html#intin">intin</a>[1] = font_max;
   <a href="007003.html#intin">intin</a>[2] = font_free;

   <a href="007003.html#contrl">contrl</a>[0] = 119;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 3;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();

   return ( <a href="007003.html#intout">intout</a>[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">119   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">3     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">1     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0]</td>
  <td align="left" valign="top">select</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[1]</td>
  <td align="left" valign="top">font_max</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[2]</td>
  <td align="left" valign="top">font_free</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a></td>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="vst_load_fonts"></a>7.10.47 vst_load_fonts</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Load fonts«</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">119</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t vst_load_fonts ( int16_t handle, int16_t select );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call vst_load_fonts loads further font information from
disk into memory for the workstation with the ID <i>handle</i>; the
fonts have to be listed in the ASSIGN.SYS file.<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top">Workstation identifier</td></tr>

<tr><td nowrap="nowrap" valign="top">select</td>
<td valign="top">Reserved for future use = 0

</td></tr>
</table>

<br><br>

<b>Note:</b> Before you call vst_load_fonts, call <a href="VDI_fundamentals.html#vq_gdos">vq_gdos</a> and
make sure that the VDI can load additional fonts.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> This will be the number of additional fonts loaded. If the
function is called more than once before using <a href="#vst_unload_fonts">vst_unload_fonts</a>, the
return will be 0.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">Available with any form of GDOS.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20vst_load_fonts">Binding</a> &nbsp; <a href="#vst_unload_fonts">vst_unload_fonts</a> &nbsp; <a href="007004.html#vst_font">vst_font</a> &nbsp; <a href="Inquire_functions.html#vqt_name">vqt_name</a> &nbsp; <a href="VDI_fundamentals.html#The_20make-up_20of_20the_20ASSIGN.SYS_20file">ASSIGN.SYS file</a> &nbsp;
<a href="VDI_fundamentals.html#About_20the_20GDOS">GDOS</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20vst_load_fonts"></a>7.10.48 Bindings for vst_load_fonts</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#vst_load_fonts">vst_load_fonts</a> ( int16_t handle, int16_t select );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#vst_load_fonts">vst_load_fonts</a> (int16_t handle, int16_t select)
{
   <a href="007003.html#intin">intin</a>[0] = select;

   <a href="007003.html#contrl">contrl</a>[0] = 119;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 1;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();

   return ( <a href="007003.html#intout">intout</a>[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">119   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">1     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">1     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0]</td>
  <td align="left" valign="top">select</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a></td>
  <td align="left" valign="top"><a href="007003.html#intout">intout</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="vst_unload_fonts"></a>7.10.49 vst_unload_fonts</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Unload fonts« - Remove loaded fonts.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">120</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">void vst_unload_fonts ( int16_t handle, int16_t select );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call vst_unload_fonts removes all fonts that were loaded
previously by a <a href="#vst_load_fonts">vst_load_fonts</a> call, and frees the associated memory.
The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top">Workstation identifier</td></tr>

<tr><td nowrap="nowrap" valign="top">select</td>
<td valign="top">Reserved, should be 0

</td></tr>
</table>

<br><br>

<b>Note:</b> System and vector fonts are not affected by this
function.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function does not return a result.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">Available with any form of GDOS.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Control_20functions">Control functions</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20vst_unload_fonts">Binding</a> &nbsp; <a href="VDI_fundamentals.html#About_20the_20GDOS">GDOS</a> &nbsp; <a href="#vst_load_fonts">vst_load_fonts</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20vst_unload_fonts"></a>7.10.50 Bindings for vst_unload_fonts</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">void <a href="#vst_unload_fonts">vst_unload_fonts</a> ( int16_t handle, int16_t select );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>void <a href="#vst_unload_fonts">vst_unload_fonts</a> (int16_t handle, int16_t select)
{
   <a href="007003.html#intin">intin</a>[0] = select;

   <a href="007003.html#contrl">contrl</a>[0] = 120;
   <a href="007003.html#contrl">contrl</a>[1] = 0;
   <a href="007003.html#contrl">contrl</a>[3] = 1;
   <a href="007003.html#contrl">contrl</a>[6] = handle;

   <a href="007003.html#vdi">vdi</a> ();
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a></td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[0]</td>
  <td align="left" valign="top">120   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+2</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[1]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsin">ptsin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+4</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[2]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#ptsout">ptsout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+6</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[3]</td>
  <td align="left" valign="top">1     # Entry in <a href="007003.html#intin">intin</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+8</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="007003.html#intout">intout</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>+12</td>
  <td align="left" valign="top"><a href="007003.html#contrl">contrl</a>[6]</td>
  <td align="left" valign="top">handle</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a></td>
  <td align="left" valign="top"><a href="007003.html#intin">intin</a>[0]</td>
  <td align="left" valign="top">select</td>
</tr>
</table>
</div>



</td></tr>
</table>

<hr>

<a id="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a><a id="UDO_nav_up_FOOT" href="007.html"><img src="udo_up.gif" alt="VDI" title="VDI" border="0" width="24" height="24"></a><a id="UDO_nav_lf_FOOT" href="007009.html"><img src="udo_lf.gif" alt="Colour table functions" title="Colour table functions" border="0" width="24" height="24"></a><a id="UDO_nav_rg_FOOT" href="00700b.html"><img src="udo_rg.gif" alt="Raster functions" title="Raster functions" border="0" width="24" height="24"></a></body>
</html>
