<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title>
The documentation for TOS: Make-up of the MAGX.INF file
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO 7.04 (1296) for Linux">
</head>
<body>
<? include "/var/www/banner.php"; ?>

<a id="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a><a id="UDO_nav_up_HEAD" href="00b.html"><img src="udo_up.gif" alt="MagiC" title="MagiC" border="0" width="24" height="24"></a><a id="UDO_nav_lf_HEAD" href="00b00b.html"><img src="udo_lf.gif" alt="The drive U: in MagiC" title="The drive U: in MagiC" border="0" width="24" height="24"></a><a id="UDO_nav_rg_HEAD" href="00b00d.html"><img src="udo_rg.gif" alt="Semaphores in MagiC" title="Semaphores in MagiC" border="0" width="24" height="24"></a>
<hr>

<h1><a name="Make-up_20of_20the_20MAGX.INF_20file"></a>11.12 Make-up of the MAGX.INF file</h1>
<a name="MAGX.INF_20file_20of_20MagiC"></a>
<p>With the MAGX.INF file one can make settings that influence
<a href="00b.html">MagiC</a>'s behaviour. The following apply:</p>

<table>
<tr><td nowrap="nowrap" valign="top">Entry</td>
<td valign="top">Meaning<a name="_23_ACC"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_ACC</td>
<td valign="top">Desk accessories are loaded from the path specified in this
line; if the line is missing, they will be loaded from the current
directory of the boot drive, i.e. generally from the root directory.<a name="_23_APP"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_APP</td>
<td valign="top">The directory for launching the 'AUTO applications' can be
specified with this line. The programs present here are then loaded
before the launch of the shell and are available more-or-less
immediately; the programs are launched in the graphics mode.
<b>Warning:</b> One should only place programs here that are moderate
in their memory usage; if one loads, say, WORDPLUS in this manner then
no other program can be loaded any more unless one had limited its
memory hunger by using LIMITMEM.TTP (a utility supplied with MagiC).<a name="_23_AUT"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_AUT</td>
<td valign="top">Specifies the program that is to be loaded and launched (in
graphics mode) automatically in place of the desktop or the default
shell at system startup. Only when the application specified here
terminates itself and has not specified a successor with <a href="008012.html#shel_write">shel_write</a>,
will the desktop or the default shell be launched; the entry is thus
practical particularly for a 'login program' in networks.<a name="_23_BKG"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_BKG</td>
<td valign="top">With this entry one can specify the colour and fill-pattern of
the default desktop background by entering a number <i>num.</i> For
instance <i>num</i> = 120 (== 0x78) results in light grey; here 0x70
is the fill-pattern (7=fully filled) and 8 is the colour. Thus the
code corresponds to the value that sets the appearance of a filled
rectangle in the AES object <a href="008002.html#G_BOX">G_BOX</a>.<br><br>

From MagiC 5.20 onwards.<a name="_23_BUF"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_BUF</td>
<td valign="top">Sets the size of the shell-buffer; this has to be variable so
that <i>any</i> shell can accommodate its data. The size may not
exceed 65535; at least 4192 bytes are reserved in all cases. A program
can obtain the size of this buffer with <a href="008012.html#shel_get">shel_get</a>. A value that is too
small means that not all of the data can be saved.<a name="_23_CTR"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_CTR</td>
<td valign="top">This entry marks the end of the MagiC variables, and serves
as an identifier that the following data (of the control field or
desktop) are adopted directly in the shell buffer.<a name="_23_DEV"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_DEV</td>
<td valign="top">Determines the device number for the VDI; the device number
is not evaluated if the system has just been restarted for a
resolution change. If the VDI returns an error-code on opening of
the workstation, then a re-start will be made with device number 1
(current resolution). The usual resolutions of ST/TT are:<br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">2 = ST-Low,</td>
  <td align="left" valign="top">3 = ST-Medium,</td>
  <td align="left" valign="top">4 = ST-High</td>
</tr>
<tr>
  <td align="left" valign="top">6 = TT-Medium,</td>
  <td align="left" valign="top">8 = TT-High,</td>
  <td align="left" valign="top">9 = TT-Low</td>
</tr>
</table>
</div>

<br><br>

Further ones depend on the device drivers that were declared in
the ASSIGN.SYS file. As of MagiC 4, the above-mentioned number must
be followed by a further one that describes the Falcon030 resolution
modes. This second number <i>must</i> be included, as otherwise the
MAGX.INF file will not be read.<a name="_23_DRV"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_DRV</td>
<td valign="top">No longer present from Mag!X 2.0 onwards.<a name="_23_ENV"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_ENV</td>
<td valign="top">With this entry one can define the environmental variables. As
the character strings are adopted up to the end of the line, there may
be no comments at the end of an #_ENV line (this is necessary to allow
semicolons or spaces in the environment string, for instance). The
environment passed by the BIOS will be used by the AES, and
passed on, when no #_ENV line has been entered.<a name="_23_FLG"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_FLG</td>
<td valign="top">Determines various MagiC settings. The value included here is
taken to be a bit-vector, and interpreted as follows:<table>
<tr><td nowrap="nowrap" valign="top">Bit-0 =</td>
<td valign="top">Position of the MagiC logo (set ==> left);
<br>from Mag!x 2.0 onwards</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit-1 =</td>
<td valign="top">Activation of the 3D-look (set ==> 3D off);
<br>from MagiC 3.0 onwards</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit-2 =</td>
<td valign="top">Display Backdrop button? (set ==> no);
<br>from MagiC 3.0 onwards</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit-3 =</td>
<td valign="top">Window name in 3D-look? (set ==> no);
<br>from MagiC 4.0 onwards</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit-4 =</td>
<td valign="top">3D font in window title? (set ==> no);
<br>from MagiC 4.0 onwards</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit-5 =</td>
<td valign="top">Use realtime scrolling? (set ==> no);
<br>from MagiC 4.02 onwards</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit-6 =</td>
<td valign="top">Use realtime sizing and moving? (set ==> no);
<br>from MagiC 5.10 onwards</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit-7 =</td>
<td valign="top">Use 3D menus? (set ==> yes);
<br>from MagiC 6.00 onwards

</td></tr>
</table>

<br><br>

<b>Note:</b> If this entry is missing then all flags will be
taken to be 0. If bit 2 is set, then a backdrop can be performed by a
short click on the name field of an <i>active</i> window.<a name="_23_FSL"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_FSL</td>
<td valign="top">This entry allows settings for MagiC's file-selector. First
comes a flag which is ignored at present and so should be 0. Next
follows a character string of possible file-type masks, separated by
';'. Double masks are separated from each other by ',' (e.g.
'*.PRG,*.APP' or '*.JPG,*.JPEG').<br><br>

From MagiC 5.10 onwards.<a name="_23_HDV"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_HDV</td>
<td valign="top">No longer present from Mag!x 2.0 onwards.<a name="_23_INW"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_INW</td>
<td valign="top">This entry permits changing the appearance of the <a href="008009.html#INFO">INFO</a> line in
all windows. There are 4 parameters on the line, which represent in
turn:<table>
<tr><td nowrap="nowrap" valign="top">lineh</td>
<td valign="top">Line height; a height of 0 means standard height</td></tr>

<tr><td nowrap="nowrap" valign="top">fontID</td>
<td valign="top">Font ID for the <a href="008009.html#INFO">INFO</a> line; a 0 here means the same font as that
for the large AES text</td></tr>

<tr><td nowrap="nowrap" valign="top">monoFlag</td>
<td valign="top"> 1 (equidistant) or 0 (proportional)</td></tr>

<tr><td nowrap="nowrap" valign="top">fontH</td>
<td valign="top"> Font height for <a href="007004.html#vst_height">vst_height</a>

</td></tr>
</table>

<br><br>

From MagiC 6.00 onwards.<a name="_23_MAG"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_MAG</td>
<td valign="top">This entry is reserved, and currently serves as a pure comment.<a name="_23_OBS"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_OBS</td>
<td valign="top">The height of a resource unit of measure can be set as of
MagiC 5.20 independently of the large AES font. Specially with
vector fonts one should enter a fixed 8*16 raster here so as not to
confuse user programs.
<br>Syntax: #_OBS <horizontal raster> <vertical raster> 0 0<br><br>

From MagiC 5.20 onwards.<a name="_23_SCP"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_SCP</td>
<td valign="top">Sets the full path for the GEM clipboard (e.g.
C:\CLIPBRD\); here one should always specify an existing directory,
since it will be undefined otherwise.<a name="_23_SHL"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_SHL</td>
<td valign="top">Contains the full path of the default shell, which will be
launched after processing the #_AUT entry, if appropriate. The shell
is always launched in graphics mode. If this entry is missing, then
MAGXDESK will be launched.<a name="_23_SLB"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_SLB</td>
<td valign="top">Here one can load any number of shared libraries, with each
listed on a separate line starting with '#_SLB'. These are loaded when
the AES starts, and freed again at termination or a <a href="008012.html#Resolution_20change">resolution change</a>.
<br>Some of these (WINFRAME) alter the properties of the AES (as a
sort of system extension), others (PDLG, EDITOBJC) can be 'reserved',
so if a program calls <a href="00500e.html#Slbopen">Slbopen</a>, for instance, the libraries do not have
to be specially loaded in; this is sensible if one has sufficient
memory or a slow storage medium (loading in of an SLB costs time).<br><br>

From MagiC 6.00 onwards.<a name="_23_TRM"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_TRM</td>
<td valign="top">Contains the program name and complete path for the program
that performs redirection of TOS programs to windows. When
launching the first TOS program, the program specified here is
automatically loaded into memory beforehand (if it has not been loaded
previously).<br><br>

From Mag!x 2.0 onwards.<a name="_23_TSL"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_TSL</td>
<td valign="top">Controls the distribution of CPU time between foreground and
background processes. The fist value yields the length of a timeslice
in multiples of 5 ms, the second the background priority: '32' means a
priority of 1:32 for background processes. If any statement is
missing, the preemptive multitasking is deactivated and cooperative
multitasking is activated. The value defined here can also be set with
the bundled configuration ACC/CPX.
<br><b>Tip:</b> In case of boot problems, it is recommended that this
command is removed from the MAGX.INF file and the settings performed
with the CPX module; in that case the boot phase runs in cooperative
mode (so task-switching only takes place when the currently running
program makes a system call), which usually avoids any timing
problems.<br><br>

From Mag!x 2.0 onwards.<a name="_23_TXB"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_TXB</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">#_TXS</td>
<td valign="top">From MagiC 5.20 onwards, the font and its height may be set
separately for the small and large AES font. One <i>has to</i>
specify here whether the font is proportional or monospaced.
Proportional fonts work as of MagiC 6. Syntax for the large(!nl)
font is: #_TXB <fontID> <monoFlag> <pixelHeight>, and for the small
font: #_TXS <fontID> <monoFlag> <pixelHeight>.<br><br>

As of MagiC 5.20.<a name="_23_TXT"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_TXT</td>
<td valign="top">Sets the font and text height of the AES font; the format
is: <Height of large font> <height of small font> <font ID>. The font
height is set by the AES with <a href="007004.html#vst_height">vst_height</a>; a height of 0 denotes
standard settings; font ID 1 is the system font.<br><br>

As of Mag!X 2.0, additional parameter; no longer present from
MagiC 6.00 onwards.<a name="_23_WND"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">#_WND</td>
<td valign="top">Sets the maximum number of windows that may be managed. Valid
values are between 0 and 64; however, you shouldn't use a value < 16.
If this entry is missing, then a value will be taken as 16.
<b>Hint:</b> When using MGNOTICE, enter at least 30.<br><br>

From Mag!X 2.0 onwards.</td></tr>

<tr><td nowrap="nowrap" valign="top">#[<a href="008002.html#aes">aes</a>]</td>
<td valign="top">The information for the AES begins with the line following
this command; the lines relevant to the AES all start with '#_???'
and come before the line #[shelbuf]. If this section identifier is not
found, then one will be assumed implicitly before the first line.<br><br>

From MagiC 5.01 onwards.</td></tr>

<tr><td nowrap="nowrap" valign="top">#[boot]</td>
<td valign="top">From this section identifier onwards, the following values are
evaluated before the start of the AES. The section includes the
number of cookies, the log-file, and tiles plus logo image to be used
for the background during booting (see below).<br><br>

From MagiC 6.00 onwards.</td></tr>

<tr><td nowrap="nowrap" valign="top">#[shelbuf]</td>
<td valign="top">With this section identifier, the AES section ends.<br><br>

From MagiC 6.00 onwards.</td></tr>

<tr><td nowrap="nowrap" valign="top">#[vfat]</td>
<td valign="top">With this entry one can specify the drives that are to support
long filenames in Windows95 format; the entry can be seen as an
alternative to the program <a href="00b013.html#VFATCONF">VFATCONF</a>. The line following this entry
must start with the keyword <i>drives=</i>, and contains a listing of
the drive partitions that are to support long filenames.
<b>Example:</b> drives=cdef. For each drive specified in this way an
unmount is perfomed first, so that it is possible to use long
filenames on boot drives as well.<br><br>

From MagiC 5.01 onwards.</td></tr>

<tr><td nowrap="nowrap" valign="top">aux</td>
<td valign="top">The GEMDOS standard files can now be redirected also to
BIOS devices that lie in u:\dev: <b>Example:</b> aux=u:\dev\modem<br><br>

As of MagiC 6.20.</td></tr>

<tr><td nowrap="nowrap" valign="top">biosdev</td>
<td valign="top">Definition of the BIOS devices. As without changes to the
MAGX.INF a few filenames in u:/dev will be missing from MagiC 6.20
onwards, herewith a few examples for various computer types that are
to be inserted:<pre>Atari ST:
biosdev=3,u:\dev\midi
biosdev=6,u:\dev\modem1

Atari Mega-STE:
biosdev=3,u:\dev\midi
biosdev=6,u:\dev\modem1
biosdev=7,u:\dev\modem2
biosdev=8,u:\dev\serial2

Atari TT:
biosdev=3,u:\dev\midi
biosdev=6,u:\dev\modem1
biosdev=7,u:\dev\modem2
biosdev=8,u:\dev\serial1
biosdev=9,u:\dev\serial2

Atari Falcon:
biosdev=3,u:\dev\midi
biosdev=6,u:\dev\modem1
biosdev=7,u:\dev\lan

Mac:
(None)
</pre>
<br><br>

As of MagiC 6.20.</td></tr>

<tr><td nowrap="nowrap" valign="top">cookie</td>
<td valign="top">Determines the number of cookies in the cookie jar. By default
at least 20 cookies are always installed.<br><br>

From MagiC 6.00 onwards.</td></tr>

<tr><td nowrap="nowrap" valign="top">con</td>
<td valign="top">The GEMDOS standard files can now be redirected also to
BIOS devices that lie in u:\dev: <b>Example:</b>
con=u:\dev\console<br><br>

As of MagiC 6.20.</td></tr>

<tr><td nowrap="nowrap" valign="top">image</td>
<td valign="top">Draws a logo in the centre of the screen.<br><br>

From MagiC 6.00 onwards.</td></tr>

<tr><td nowrap="nowrap" valign="top">log</td>
<td valign="top">The BIOS outputs of the AUTO folder are intercepted and
written to the specified log-file. You can also put u:\dev\null here
in order to suppress the output completely.<br><br>

From MagiC 6.00 onwards.</td></tr>

<tr><td nowrap="nowrap" valign="top">prn</td>
<td valign="top">The GEMDOS standard files can now be redirected also to
BIOS devices that lie in u:\dev: <b>Example:</b> prn=u:\dev\prn<br><br>

As of MagiC 6.20.</td></tr>

<tr><td nowrap="nowrap" valign="top">titel</td>
<td valign="top">Before executing the AUTO folder, the screen can be tiled
first.<br><br>

From MagiC 6.00 onwards.

</td></tr>
</table>

<p><b>Note:</b> Lines starting with a semicolon are ignored, and so
can be used for <i>comments.</i> From MagiC 5 onwards, a faulty
line found when evaluating the MAGX.INF file will be displayed on the
screen; but as the AES has not yet been initialized at this point
in time, the output cannot be made to a dialog box.</p>

<p>See also:: <a href="#Example_20of_20a_20MAGX.INF_20file">Example of a MAGX.INF file</a> &nbsp; <a href="00b.html">MagiC</a> &nbsp; <a href="00a002.html">Style guidelines</a></p>

<h3><a name="Example_20of_20a_20MAGX.INF_20file"></a>11.12.1 Example of a MAGX.INF file</h3>
<pre><a href="00b00c.html#_23_MAG">#_MAG</a> MAG!X V6.20
#[boot]

cookies=50
log=c:\log\magic.log

tiles=C:\GEMSYS\GEMDESK\PAT\16\PAT27.IMG
image=C:\GEMSYS\GEMDESK\PAT\256\MAGIC.IMG

;Atari TT:
biosdev=3,u:\dev\midi
biosdev=6,u:\dev\modem1
biosdev=7,u:\dev\modem2
biosdev=8,u:\dev\serial1
biosdev=9,u:\dev\serial2

con=u:\dev\console
aux=u:\dev\modem
prn=u:\dev\prn

#[vfat]
drives=ag
#[<a href="008002.html#aes">aes</a>]

<a href="00b00c.html#_23_DEV">#_DEV</a> 1 0
<a href="00b00c.html#_23_FLG">#_FLG</a> 0
<a href="00b00c.html#_23_WND">#_WND</a> 40

<a href="00b00c.html#_23_SCP">#_SCP</a> C:\CLIPBRD\
<a href="00b00c.html#_23_TRM">#_TRM</a> c:\gemsys\gemdesk\vt52.prg
<a href="00b00c.html#_23_ACC">#_ACC</a> c:\acc\
<a href="00b00c.html#_23_APP">#_APP</a> C:\APPS\

<a href="00b00c.html#_23_ENV">#_ENV</a> AVSERVER=JINNEE
<a href="00b00c.html#_23_ENV">#_ENV</a> SHELL=d:\desktop\gemini\mupfel.ttp

<a href="00b00c.html#_23_SLB">#_SLB</a> 0 WINFRAME.SLB
<a href="00b00c.html#_23_SLB">#_SLB</a> 0 PDLG.SLB

<a href="00b00c.html#_23_SHL">#_SHL</a> d:\desktop\jinnee\jinnee.app

#[shelbuf]
<a href="00b00c.html#_23_CTR">#_CTR</a>
#a000000
#b000000
#c7770007000600070055200505552220770557075055507703111103
#d                                            ;
#_DSK MAGXDESK V5.02 1
</pre>
<p>See also: <a href="00b.html">MagiC</a> &nbsp; <a href="#Make-up_20of_20the_20MAGX.INF_20file">MAGX.INF file</a></p>

<hr>

<a id="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a><a id="UDO_nav_up_FOOT" href="00b.html"><img src="udo_up.gif" alt="MagiC" title="MagiC" border="0" width="24" height="24"></a><a id="UDO_nav_lf_FOOT" href="00b00b.html"><img src="udo_lf.gif" alt="The drive U: in MagiC" title="The drive U: in MagiC" border="0" width="24" height="24"></a><a id="UDO_nav_rg_FOOT" href="00b00d.html"><img src="udo_rg.gif" alt="Semaphores in MagiC" title="Semaphores in MagiC" border="0" width="24" height="24"></a></body>
</html>
