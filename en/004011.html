<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title>
The documentation for TOS: Sound routines
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO 7.04 (1296) for Linux">
</head>
<body>
<? include "/var/www/banner.php"; ?>

<a id="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a><a id="UDO_nav_up_HEAD" href="004.html"><img src="udo_up.gif" alt="XBIOS" title="XBIOS" border="0" width="24" height="24"></a><a id="UDO_nav_lf_HEAD" href="004010.html"><img src="udo_lf.gif" alt="Interface programming" title="Interface programming" border="0" width="24" height="24"></a><a id="UDO_nav_rg_HEAD" href="004012.html"><img src="udo_rg.gif" alt="Special commands" title="Special commands" border="0" width="24" height="24"></a>
<hr>

<h1><a name="Sound_20routines"></a>4.17 Sound routines</h1>
<p>The following routines for sound programming are available on the
Falcon030:</p>

<table>
<tr><td nowrap="nowrap" valign="top">• <a href="#buffoper">buffoper</a></td>
<td valign="top">Sets record/playback mode.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#buffptr">buffptr</a></td>
<td valign="top">Gets record/playback mode.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#devconnect">devconnect</a></td>
<td valign="top">Connects audio subsystem components.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#dsptristate">dsptristate</a></td>
<td valign="top">Coordinates external DSP hardware.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#gpio">gpio</a></td>
<td valign="top">Communication via the external DSP port.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#locksnd">locksnd</a></td>
<td valign="top">Locks sound system for other applications.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#setbuffer">setbuffer</a></td>
<td valign="top">Sets record/playback buffer addresses.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#setinterrupt">setinterrupt</a></td>
<td valign="top">Sets interrupt at the end of recording/playback.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#setmode">setmode</a></td>
<td valign="top">Selects record/playback mode.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#setmontracks">setmontracks</a></td>
<td valign="top">Sets playback track for internal loudspeaker.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#settracks">settracks</a></td>
<td valign="top">Sets number of record and playback tracks.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#sndstatus">sndstatus</a></td>
<td valign="top">Gets status of the A/D and D/A converter.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#soundcmd">soundcmd</a></td>
<td valign="top">Sets/gets the parameters of the A/D and D/A converter.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#StarTrack">StarTrack</a></td>
<td valign="top"> XBIOS extension for the <a href="#StarTrack">StarTrack</a> card.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#unlocksnd">unlocksnd</a></td>
<td valign="top"> Frees sound system for other applications.</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#WavePlay">WavePlay</a></td>
<td valign="top"> Replays a sample.

</td></tr>
</table>

<p><b>Note:</b> The availability of these routines on other computer
systems can be ascertained via the <a href="003007.html#Cookie_2C_20McSn">McSn-Cookie</a> or the <a href="003007.html#Cookie_2C_20_SND">_SND</a> cookie.</p>

<h3><a name="buffoper"></a>4.17.1 buffoper</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»buffoper« - Set or read record/playback mode</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">136</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t buffoper( int16_t mode );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine buffoper sets or reads the record and
playback mode of the harware sound system.<br><br>

If the value -1 is passed for <i>mode</i>, then the current
setting will be established. Otherwise <i>mode</i> is coded as
follows:<br><br>


<div align="left">
<table border="0">
<tr>
  <td align="center" valign="top">Bit</td>
  <td align="left" valign="top">Operation</td>
</tr>
<tr>
  <td align="center" valign="top">0</td>
  <td align="left" valign="top">DMA sound playback</td>
</tr>
<tr>
  <td align="center" valign="top">1</td>
  <td align="left" valign="top">Loop playback of sound currently playing</td>
</tr>
<tr>
  <td align="center" valign="top">2</td>
  <td align="left" valign="top">DMA sound recording</td>
</tr>
<tr>
  <td align="center" valign="top">1</td>
  <td align="left" valign="top">Loop recording within the currently set record</td>
</tr>
<tr>
  <td align="center" valign="top">&nbsp;</td>
  <td align="left" valign="top">buffer (as set by Buffptr)</td>
</tr>
</table>
</div>

<br><br>

Set bits switch an operation on, cleared bits off.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If successfull the function returns the value 0. If -1 was
passed for <i>mode</i>, the return will show the current state of the
sound system, whose coding corresponds to the parameter <i>mode.</i></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers of the Falcon
series, or with extended XBIOS routines (<a href="003007.html#Cookie_2C_20_SND">_SND</a>).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20buffoper">Binding</a> &nbsp; <a href="#buffptr">buffptr</a> &nbsp; <a href="#devconnect">devconnect</a> &nbsp; <a href="#dsptristate">dsptristate</a> &nbsp; <a href="#gpio">gpio</a> &nbsp; <a href="#locksnd">locksnd</a> &nbsp;
<a href="#setbuffer">setbuffer</a> &nbsp; <a href="#setinterrupt">setinterrupt</a> &nbsp; <a href="#setmontracks">setmontracks</a> &nbsp; <a href="#setmode">setmode</a> &nbsp; <a href="#settracks">settracks</a> &nbsp;
<a href="#sndstatus">sndstatus</a> &nbsp; <a href="#soundcmd">soundcmd</a> &nbsp; <a href="#unlocksnd">unlocksnd</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20buffoper"></a>4.17.1.1 Bindings for buffoper</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">#include <tos.h><br><br>

int32_t <a href="#buffoper">buffoper</a>( int16_t mode );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    mode,-(sp)   ; Offset 2
move.w    #136,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="buffptr"></a>4.17.2 buffptr</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»buffptr« - Get current record/playback mode</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">141</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t buffptr( int32_t *ptr );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine buffptr ascertains the current playback and
record positions in the corresponding buffers.<br><br>

<i>ptr</i> points to a buffer at least 4 longwords in size. The
position pointers will be stored in that. The first int32_t of the
buffer contains a pointer to the current playback position and the
second int32_t a pointer to the current record position.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If successful the function returns the value 0, or non-zero
otherwise.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers of the Falcon
series, or with extended XBIOS routines (<a href="003007.html#Cookie_2C_20_SND">_SND</a>).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20buffptr">Binding</a> &nbsp; <a href="#buffoper">buffoper</a> &nbsp; <a href="#devconnect">devconnect</a> &nbsp; <a href="#dsptristate">dsptristate</a> &nbsp; <a href="#gpio">gpio</a> &nbsp; <a href="#locksnd">locksnd</a>
&nbsp; <a href="#setbuffer">setbuffer</a> &nbsp; <a href="#setinterrupt">setinterrupt</a> &nbsp; <a href="#setmontracks">setmontracks</a> &nbsp; <a href="#setmode">setmode</a> &nbsp; <a href="#settracks">settracks</a> &nbsp;
<a href="#sndstatus">sndstatus</a> &nbsp; <a href="#soundcmd">soundcmd</a> &nbsp; <a href="#unlocksnd">unlocksnd</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20buffptr"></a>4.17.2.1 Bindings for buffptr</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">#include <tos.h><br><br>

int32_t <a href="#buffptr">buffptr</a>( int32_t *ptr );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>pea       ptr          ; Offset 2
move.w    #141,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="devconnect"></a>4.17.3 devconnect</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»devconnect« - Connect audio subsystem components</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">139</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t devconnect( int16_t src, int16_t dst, int16_t srcclk,
int16_t prescale, int16_t protocol );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine devconnect connects a source component in
the audio subsystem to one or more destination components using the
connection matrix.<br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top">src</td>
  <td align="left" valign="top">Source component:</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">0   DMA output</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">1   DSP output</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">2   External input channel</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">3   A/D converter - microphone</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">&nbsp;</td>
</tr>
<tr>
  <td align="left" valign="top">dst</td>
  <td align="left" valign="top">Bit vector of the destination component:</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">Bit 0  DMA input (for recording)</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">Bit 1  DSP input receiving</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">Bit 2  External output channel</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">Bit 3  D/A converter/loudspeaker or phones</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">&nbsp;</td>
</tr>
<tr>
  <td align="left" valign="top">srcclk</td>
  <td align="left" valign="top">Clock for the source components:</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">0  Internal 25.175 MHz clock</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">1  External clock</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">&nbsp;&nbsp;&nbsp;For MilanBlaster the external clock is</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">&nbsp;&nbsp;&nbsp;24.576 MHz when <a href="#gpio">gpio</a>(1,0) & 0x1l == 1l</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">&nbsp;&nbsp;&nbsp;and 22.5792 MHz when <a href="#gpio">gpio</a>(1,0) &</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">&nbsp;&nbsp;&nbsp;0x1l == 0l</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">2  Internal 32 MHz clock</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">&nbsp;</td>
</tr>
<tr>
  <td align="left" valign="top">prescale</td>
  <td align="left" valign="top">Clock prescaler. The sample rate is the</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">result of the clock divided by 256 and</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">divided by prescaler + 1. The values for</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">the prescaler range from 0 to 11.</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">If 0 is passed to the prescaler, then the</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">mode will be switched to STE compatibility</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">&nbsp;</td>
</tr>
<tr>
  <td align="left" valign="top">protocol</td>
  <td align="left" valign="top">If 0 is passed, transmission will be</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">with handshaking, with 1 there is no</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">handshaking.</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value 0 if the operation was
successfull, or non-zero otherwise.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers of the Falcon
series, or with extended XBIOS routines (<a href="003007.html#Cookie_2C_20_SND">_SND</a>).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20devconnect">Binding</a> &nbsp; <a href="#buffoper">buffoper</a> &nbsp; <a href="#buffptr">buffptr</a> &nbsp; <a href="#dsptristate">dsptristate</a> &nbsp; <a href="#gpio">gpio</a> &nbsp; <a href="#locksnd">locksnd</a> &nbsp;
<a href="#setbuffer">setbuffer</a> &nbsp; <a href="#setinterrupt">setinterrupt</a> &nbsp; <a href="#setmontracks">setmontracks</a> &nbsp; <a href="#setmode">setmode</a> &nbsp; <a href="#settracks">settracks</a> &nbsp;
<a href="#sndstatus">sndstatus</a> &nbsp; <a href="#soundcmd">soundcmd</a> &nbsp; <a href="#unlocksnd">unlocksnd</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20devconnect"></a>4.17.3.1 Bindings for devconnect</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">#include <tos.h><br><br>

int32_t <a href="#devconnect">devconnect</a>( int16_t src, int16_t dst, int16_t srcclk,
int16_t prescale, int16_t protocol );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    protocol,-(sp)  ; Offset 10
move.w    prescale,-(sp)  ; Offset  8
move.w    srcclk,-(sp)    ; Offset  6
move.w    dst,-(sp)       ; Offset  4
move.w    src,-(sp)       ; Offset  2
move.w    #139,-(sp)      ; Offset  0
trap      #14             ; Call <a href="004.html">XBIOS</a>
lea       $C(sp),sp       ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="dsptristate"></a>4.17.4 dsptristate</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»dsptristate« - Coordinate external DSP hardware</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">137</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t dsptristate( int16_t dspxmit, int16_t dsprec );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine dsptristate uncouples connections from the
multiplexer connection matrix when external hardware is connected to
the SSI port of the DSP.<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">dspxmit</td>
<td valign="top">The value 0 disconnects the multiplexer from the corresponding
connection, while 1 permits the connection.</td></tr>

<tr><td nowrap="nowrap" valign="top">dsprec</td>
<td valign="top">The value 0 disconnects the multiplexer from the corresponding
connection, while 1 permits the connection.

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value 0 if the operation was
successfull, or non-zero otherwise.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers of the Falcon
series.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20dsptristate">Binding</a> &nbsp; <a href="#buffoper">buffoper</a> &nbsp; <a href="#buffptr">buffptr</a> &nbsp; <a href="#devconnect">devconnect</a> &nbsp; <a href="#gpio">gpio</a> &nbsp; <a href="#locksnd">locksnd</a> &nbsp;
<a href="#setbuffer">setbuffer</a> &nbsp; <a href="#setinterrupt">setinterrupt</a> &nbsp; <a href="#setmontracks">setmontracks</a> &nbsp; <a href="#setmode">setmode</a> &nbsp; <a href="#settracks">settracks</a> &nbsp;
<a href="#sndstatus">sndstatus</a> &nbsp; <a href="#soundcmd">soundcmd</a> &nbsp; <a href="#unlocksnd">unlocksnd</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20dsptristate"></a>4.17.4.1 Bindings for dsptristate</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">#include <tos.h><br><br>

int32_t <a href="#dsptristate">dsptristate</a>( int16_t dspxmit, int16_t dsprec );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    dsprec,-(sp)   ; Offset 4
move.w    dspxmit,-(sp)  ; Offset 2
move.w    #137,-(sp)     ; Offset 0
trap      #14            ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp          ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="gpio"></a>4.17.5 gpio</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»gpio« - Communication via the external DSP port</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">138</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t gpio( int16_t mode, int16_t data );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine gpio serves for communication via the
general purpose pins of the external DSP connector.<table>
<tr><td nowrap="nowrap" valign="top">mode</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">0</td>
<td valign="top">Setting the input/output direction. The lower three bits of
<i>data</i> represent the general purpose pins. A set bit represents
an output pin and a cleared bit an input pin.</td></tr>

<tr><td nowrap="nowrap" valign="top">1</td>
<td valign="top">Read the three general purpose pins. Their state will be
returned in the lower three bits of the returned value. <i>data</i>
is ignored.</td></tr>

<tr><td nowrap="nowrap" valign="top">2</td>
<td valign="top">Write the lower three bits of <i>data</i> to the corresponding
general purpose pins. Afterwards the parameter <i>data</i> holds the
new state of the general purpose pins.

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If successful, the function returns the value 0. If the
parameter <i>data</i> had the value 1, one obtains the state of the
general purpose pins.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers of the Falcon
series, or with extended XBIOS routines (<a href="003007.html#Cookie_2C_20_SND">_SND</a>).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20gpio">Binding</a> &nbsp; <a href="#buffoper">buffoper</a> &nbsp; <a href="#buffptr">buffptr</a> &nbsp; <a href="#devconnect">devconnect</a> &nbsp; <a href="#dsptristate">dsptristate</a> &nbsp;
<a href="#locksnd">locksnd</a> &nbsp; <a href="#setbuffer">setbuffer</a> &nbsp; <a href="#setinterrupt">setinterrupt</a> &nbsp; <a href="#setmontracks">setmontracks</a> &nbsp; <a href="#setmode">setmode</a> &nbsp;
<a href="#settracks">settracks</a> &nbsp; <a href="#sndstatus">sndstatus</a> &nbsp; <a href="#soundcmd">soundcmd</a> &nbsp; <a href="#unlocksnd">unlocksnd</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20gpio"></a>4.17.5.1 Bindings for gpio</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">#include <tos.h><br><br>

int32_t <a href="#gpio">gpio</a>( int16_t mode, int16_t data );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    data,-(sp)   ; Offset 4
move.w    mode,-(sp)   ; Offset 2
move.w    #138,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="locksnd"></a>4.17.6 locksnd</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»locksnd« - Lock sound system for other applications</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">128</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t locksnd( void );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine locksnd locks the sound system to prevent
it being used by other applications at the same time.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If successful, the function returns the value 1. If the sound
system is already assigned then a negative value will be returned.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers of the Falcon
series, or with extended XBIOS routines (<a href="003007.html#Cookie_2C_20_SND">_SND</a>).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20locksnd">Binding</a> &nbsp; <a href="#buffoper">buffoper</a> &nbsp; <a href="#buffptr">buffptr</a> &nbsp; <a href="#devconnect">devconnect</a> &nbsp; <a href="#dsptristate">dsptristate</a> &nbsp; <a href="#gpio">gpio</a>
&nbsp; <a href="#setbuffer">setbuffer</a> &nbsp; <a href="#setinterrupt">setinterrupt</a> &nbsp; <a href="#setmontracks">setmontracks</a> &nbsp; <a href="#setmode">setmode</a> &nbsp; <a href="#settracks">settracks</a> &nbsp;
<a href="#sndstatus">sndstatus</a> &nbsp; <a href="#soundcmd">soundcmd</a> &nbsp; <a href="#unlocksnd">unlocksnd</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20locksnd"></a>4.17.6.1 Bindings for locksnd</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">#include <tos.h><br><br>

int32_t <a href="#locksnd">locksnd</a>( void );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #128,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #2,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="setbuffer"></a>4.17.7 setbuffer</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»setbuffer« - Set record/playback buffer addresses</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">131</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t setbuffer( int16_t reg, void *begaddr, void *endaddr );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine setbuffer sets the buffer address for the
playback (<i>reg</i> = 0) or record data (<i>reg</i> = 1). The
parameter <i>begaddr</i> points to the start of the buffer and
<i>endaddr</i> to the last byte + 1 of the buffer.<br><br>

<b>Note:</b> The memory has to be reserved with the Gemdos
function <a href="00500c.html#Mxalloc">Mxalloc</a>(size, 0).</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> DIf successful the function returns the value 0, or non-zero
otherwise.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers of the Falcon
series, or with extended XBIOS routines (<a href="003007.html#Cookie_2C_20_SND">_SND</a>).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20setbuffer">Binding</a> &nbsp; <a href="#buffoper">buffoper</a> &nbsp; <a href="#buffptr">buffptr</a> &nbsp; <a href="#devconnect">devconnect</a> &nbsp; <a href="#dsptristate">dsptristate</a> &nbsp; <a href="#gpio">gpio</a>
&nbsp; <a href="#locksnd">locksnd</a> &nbsp; <a href="#setinterrupt">setinterrupt</a> &nbsp; <a href="#setmontracks">setmontracks</a> &nbsp; <a href="#setmode">setmode</a> &nbsp; <a href="#settracks">settracks</a> &nbsp;
<a href="#sndstatus">sndstatus</a> &nbsp; <a href="#soundcmd">soundcmd</a> &nbsp; <a href="#unlocksnd">unlocksnd</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20setbuffer"></a>4.17.7.1 Bindings for setbuffer</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">#include <tos.h><br><br>

int32_t <a href="#setbuffer">setbuffer</a>( int16_t reg, void *begaddr, void *endaddr );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>pea       endaddr      ; Offset 8
pea       begaddr      ; Offset 4
move.w    reg,-(sp)    ; Offset 2
move.w    #131,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
lea       $C(sp),sp    ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="setinterrupt"></a>4.17.8 setinterrupt</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»setinterrupt« - Set interrupt at the end of
recording/playback</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">135</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t setinterrupt( int16_t src_inter, int16_t cause );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine setinterrupt determines which interrupt is
to be generated by the sound system when the end of a recording or
playback buffer is reached.<table>
<tr><td nowrap="nowrap" valign="top">src_inter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">0</td>
<td valign="top">Timer A interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">1</td>
<td valign="top">MFP interrupt 7

</td></tr>
</table>

<table>
<tr><td nowrap="nowrap" valign="top">cause</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">0</td>
<td valign="top">No interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">1</td>
<td valign="top">Interrupt at end of playback buffer</td></tr>

<tr><td nowrap="nowrap" valign="top">2</td>
<td valign="top">Interrupt at end of record buffer</td></tr>

<tr><td nowrap="nowrap" valign="top">3</td>
<td valign="top">Interrupt at end of both buffers

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If successful the function returns the value 0, or non-zero
otherwise.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers of the Falcon
series, or with extended XBIOS routines (<a href="003007.html#Cookie_2C_20_SND">_SND</a>).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20setinterrupt">Binding</a> &nbsp; <a href="#buffoper">buffoper</a> &nbsp; <a href="#buffptr">buffptr</a> &nbsp; <a href="#devconnect">devconnect</a> &nbsp; <a href="#dsptristate">dsptristate</a> &nbsp; <a href="#gpio">gpio</a>
&nbsp; <a href="#locksnd">locksnd</a> &nbsp; <a href="#setbuffer">setbuffer</a> &nbsp; <a href="#setmontracks">setmontracks</a> &nbsp; <a href="#setmode">setmode</a> &nbsp; <a href="#settracks">settracks</a> &nbsp; <a href="#sndstatus">sndstatus</a>
&nbsp; <a href="#soundcmd">soundcmd</a> &nbsp; <a href="#unlocksnd">unlocksnd</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20setinterrupt"></a>4.17.8.1 Bindings for setinterrupt</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">#include <tos.h><br><br>

int32_t <a href="#setinterrupt">setinterrupt</a>( int16_t src_inter, int16_t cause );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    cause,-(sp)      ; Offset 4
move.w    src_inter,-(sp)  ; Offset 2
move.w    #135,-(sp)       ; Offset 0
trap      #14              ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp            ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="setmode"></a>4.17.9 setmode</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»setmode« - Select record/playback mode</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">132</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t setmode( int16_t mode );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine setmode sets the mode of operation of the
record and playback registers.<br><br>


<div align="left">
<table border="0">
<tr>
  <td align="center" valign="top">mode</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="center" valign="top">0</td>
  <td align="left" valign="top">&nbsp;8 Bit stereo</td>
</tr>
<tr>
  <td align="center" valign="top">1</td>
  <td align="left" valign="top">16 Bit stereo</td>
</tr>
<tr>
  <td align="center" valign="top">2</td>
  <td align="left" valign="top">&nbsp;8 Bit mono</td>
</tr>
</table>
</div>

<br><br>

If bit 5 of the '<a href="003007.html#Cookie_2C_20_SND">_SND</a>' cookie is set, there may be further
modes available that set playback and record modes separately in the
low and high byte of <i>mode.</i> If the value of -1 is passed for
<i>mode</i>, then the current setting will be returned without
change.<br><br>

0x0003 16 Bit mono playback
<br>0x0004 24 Bit stereo playback
<br>0x0005 32 Bit stereo playback
<br>0x0006 24 Bit mono playback
<br>0x0007 32 Bit mono playback
<br><br><br>

0x0000 16 Bit stereo record
<br>0x0100 &nbsp;8 Bit stereo record
<br>0x0200 &nbsp;8 Bit mono record
<br>0x0300 16 Bit mono record
<br>0x0400 24 Bit stereo record
<br>0x0500 32 Bit stereo record
<br>0x0600 24 Bit mono record
<br>0x0700 32 Bit mono record
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If successful the function returns the value 0, or non-zero
otherwise.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers of the Falcon
series, or with extended XBIOS routines (<a href="003007.html#Cookie_2C_20_SND">_SND</a>).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20setmode">Binding</a> &nbsp; <a href="#buffoper">buffoper</a> &nbsp; <a href="#buffptr">buffptr</a> &nbsp; <a href="#devconnect">devconnect</a> &nbsp; <a href="#dsptristate">dsptristate</a> &nbsp; <a href="#gpio">gpio</a>
&nbsp; <a href="#locksnd">locksnd</a> &nbsp; <a href="#setbuffer">setbuffer</a> &nbsp; <a href="#setinterrupt">setinterrupt</a> &nbsp; <a href="#setmontracks">setmontracks</a> &nbsp; <a href="#settracks">settracks</a> &nbsp;
<a href="#sndstatus">sndstatus</a> &nbsp; <a href="#soundcmd">soundcmd</a> &nbsp; <a href="#unlocksnd">unlocksnd</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20setmode"></a>4.17.9.1 Bindings for setmode</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">#include <tos.h><br><br>

int32_t <a href="#setmode">setmode</a>( int16_t mode );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    mode,-(sp)   ; Offset 2
move.w    #132,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="setmontracks"></a>4.17.10 setmontracks</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»setmontracks« - Set playback track for internal loudspeaker</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">134</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t setmontracks( int16_t montrack );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine setmontracks specifies which track should
be output via the internal loudspeaker. This can only play back one
track at a time.<br><br>

<i>montrack</i> determines one of the four available tracks to
monitor, which are numbered from 0 to 3.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If successful the function returns the value 0, or non-zero
otherwise.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers of the Falcon
series, or with extended XBIOS routines (<a href="003007.html#Cookie_2C_20_SND">_SND</a>).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20setmontracks">Binding</a> &nbsp; <a href="#buffoper">buffoper</a> &nbsp; <a href="#buffptr">buffptr</a> &nbsp; <a href="#devconnect">devconnect</a> &nbsp; <a href="#dsptristate">dsptristate</a> &nbsp; <a href="#gpio">gpio</a>
&nbsp; <a href="#locksnd">locksnd</a> &nbsp; <a href="#setbuffer">setbuffer</a> &nbsp; <a href="#setinterrupt">setinterrupt</a> &nbsp; <a href="#setmode">setmode</a> &nbsp; <a href="#settracks">settracks</a> &nbsp; <a href="#sndstatus">sndstatus</a>
&nbsp; <a href="#soundcmd">soundcmd</a> &nbsp; <a href="#unlocksnd">unlocksnd</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20setmontracks"></a>4.17.10.1 Bindings for setmontracks</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">#include <tos.h><br><br>

int32_t <a href="#setmontracks">setmontracks</a>( int16_t montrack );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    montrack,-(sp)  ; Offset 2
move.w    #134,-(sp)      ; Offset 0
trap      #14             ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp           ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="settracks"></a>4.17.11 settracks</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»settracks« - Set number of record and playback tracks</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">133</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t settracks( int16_t playtracks, int16_t rectracks );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine settracks sets the number of the recording
(<i>rectracks</i>) and playback tracks (<i>playtracks</i>). A
maximum of 4 stereo tracks is available at a time. The value -1 is
passed as the argument!</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If successful the function returns the value 0, or non-zero
otherwise.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers of the Falcon
series.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20settracks">Binding</a> &nbsp; <a href="#buffoper">buffoper</a> &nbsp; <a href="#buffptr">buffptr</a> &nbsp; <a href="#devconnect">devconnect</a> &nbsp; <a href="#dsptristate">dsptristate</a> &nbsp; <a href="#gpio">gpio</a>
&nbsp; <a href="#locksnd">locksnd</a> &nbsp; <a href="#setbuffer">setbuffer</a> &nbsp; <a href="#setinterrupt">setinterrupt</a> &nbsp; <a href="#setmontracks">setmontracks</a> &nbsp; <a href="#setmode">setmode</a> &nbsp;
<a href="#sndstatus">sndstatus</a> &nbsp; <a href="#soundcmd">soundcmd</a> &nbsp; <a href="#unlocksnd">unlocksnd</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20settracks"></a>4.17.11.1 Bindings for settracks</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">#include <tos.h><br><br>

int32_t <a href="#settracks">settracks</a>( int16_t playtracks, int16_t rectracks );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    rectracks,-(sp)   ; Offset 4
move.w    playtracks,-(sp)  ; Offset 2
move.w    #133,-(sp)        ; Offset 0
trap      #14               ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp             ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="sndstatus"></a>4.17.12 sndstatus</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»sndstatus« - Get status of the A/D and D/A converter</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">140</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t sndstatus( int16_t reset );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine sndstatus obtains the current status of the
A/D and D/A converter. It can also reinitialize it.<br><br>

If <i>reset</i> has the value 1, the A/D and D/A converter will
be reinitialized (among others, the overflow bits will be cleared).
Otherwise the current status will be obtained.<br><br>

If bit 5 in the '<a href="003007.html#Cookie_2C_20_SND">_SND</a>' cookie is set, some other status queries
are available:<pre>reset  Function
       return value

 2     Inquire bit-depth
        Bit  0 set: 8Bit
        Bit  1 set: 16Bit
        Bit  2 set: 24Bit
        Bit  3 set: 32Bit

 3     Inquire available inputs for MasterMix output
        Bit  0 set: A/D converter (ADC-InMix <a href="#bypass">bypass</a>)
        Bit  1 set: D/A converter (DAC/Multiplexer)
        Bit  2 set: Mic
        Bit  3 set: FM generator
        Bit  4 set: Line
        Bit  5 set: <a href="00f00d.html#CD">CD</a>
        Bit  6 set: TV
        Bit  7 set: Aux1

 4     Inquire available inputs for A/D converter
        Bit  0 set: Mic right
        Bit  1 set: Mic left
        Bit  2 set: FM generator right
        Bit  3 set: FM generator left
        Bit  4 set: Line right
        Bit  5 set: Line left
        Bit  6 set: <a href="00f00d.html#CD">CD</a> right
        Bit  7 set: <a href="00f00d.html#CD">CD</a> left
        Bit  8 set: TV right
        Bit  9 set: TV left
        Bit 10 set: Aux1 right
        Bit 11 set: Aux1 left
        Bit 12 set: Mixer right (MasterMix)
        Bit 13 set: Mixer left (MasterMix)

        Bit 16 set: D/A converter rechts
        Bit 17 set: D/A converter left

 5     Inquire duplex operation
        Bit  0 set: Simultaneous record/playback
                    possible

 8     Inquire 8-bit sample formats
 9     Inquire 16-bit sample formats
10     Inquire 24-bit sample formats
11     Inquire 32-bit sample formats
        Bit  0 set: Signed
        Bit  1 set: Unsigned
        Bit  2 set: Motorola big-endian if > 8-bit
        Bit  3 set: Intel little-endian of > 8-bit

0x8900 Inquire value of Falcon030 registers 0xff8900
       and 0xff8901
        %0000 xxxx 00xx 00xx
              ||||   ||   ||
              ||||   ||   ||>Playback enable
              ||||   ||   |>Playback repeat
              ||||   ||>Record enable
              ||||   |>Record repeat
              ||||>MFP-15 Int. at Playback end
              |||>MFP-15 Int. at Record end
              ||>Timer A Int. at Playback end
              |>Timer A Int. at Record end

0x8902 Inquire value of Falcon030 registers 0xff8902,
       0xff8904 and 0xff8906
        ret = Frame Base Address

0x890e Inquire value of Falcon030 registers 0xff890e,
       0xff8910 and 0xff8912
        ret = Frame End Address

0x8920 Inquire value of Falcon030 registers 0xff8920
       and 0xff8921
        %00xx 00xx xx00 00xx
           ||   || ||     ||
           ||   || ||     ||>00 = 6258 Hz
           ||   || ||     ||>01 = 12517 Hz
           ||   || ||     ||>10 = 25033 Hz
           ||   || ||     ||>11 = 50066 Hz
           ||   || ||>00 = 8-bit stereo
           ||   || ||>01 = 16-bit stereo
           ||   || ||>10 = 8-bit mono
           ||   || ||>11 = 16-bit mono
           ||   ||>Play tracks
           ||>Monitor track
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If no error occurs, the return will have the value 0.
Otherwise the return represents a LONG bit-vector array showing the
current error status of the sound system, which can be decoded as
follows:<br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Bits</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top">0-3</td>
  <td align="left" valign="top">1 &nbsp;Invalid control field</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;&nbsp;</td>
  <td align="left" valign="top">2 &nbsp;Invalid sync format</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;&nbsp;</td>
  <td align="left" valign="top">3 &nbsp;Invalid clock (out of range)</td>
</tr>
<tr>
  <td align="left" valign="top">4</td>
  <td align="left" valign="top">Left channel clipping has occurred</td>
</tr>
<tr>
  <td align="left" valign="top">5</td>
  <td align="left" valign="top">Right channel clipping has occurred</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers of the Falcon
series, or with extended XBIOS routines (<a href="003007.html#Cookie_2C_20_SND">_SND</a>).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20sndstatus">Binding</a> &nbsp; <a href="#buffoper">buffoper</a> &nbsp; <a href="#buffptr">buffptr</a> &nbsp; <a href="#devconnect">devconnect</a> &nbsp; <a href="#dsptristate">dsptristate</a> &nbsp; <a href="#gpio">gpio</a>
&nbsp; <a href="#locksnd">locksnd</a> &nbsp; <a href="#setbuffer">setbuffer</a> &nbsp; <a href="#setinterrupt">setinterrupt</a> &nbsp; <a href="#setmontracks">setmontracks</a> &nbsp; <a href="#setmode">setmode</a> &nbsp;
<a href="#settracks">settracks</a> &nbsp; <a href="#soundcmd">soundcmd</a> &nbsp; <a href="#unlocksnd">unlocksnd</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20sndstatus"></a>4.17.12.1 Bindings for sndstatus</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">#include <tos.h><br><br>

int32_t <a href="#sndstatus">sndstatus</a>( int16_t reset );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    reset,-(sp)  ; Offset 2
move.w    #140,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="soundcmd"></a>4.17.13 soundcmd</h3>
<a name="NSoundcmd"></a>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»soundcmd« - Set/get the parameters of the A/D and D/A
converter</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">130</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t soundcmd( int16_t mode, int16_t data );
<br>int32_t NSoundcmd( int16_t mode, int16_t data, int32_t data2);</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine soundcmd sets or obtains various parameters
of the A/D and D/A converter. The parameter <i>mode</i> determines
the command and <i>data</i> the setting to be performed.<table>
<tr><td nowrap="nowrap" valign="top">mode</td>
<td valign="top">Bedeutung</td></tr>

<tr><td nowrap="nowrap" valign="top">0</td>
<td valign="top">Set attenuation of the left output channel in 1.5 dB
increments:
<br>data = Increments << 4;</td></tr>

<tr><td nowrap="nowrap" valign="top">1</td>
<td valign="top">Set attenuation of the right output channel in 1.5 dB
increments:
<br>data = Increments << 4;</td></tr>

<tr><td nowrap="nowrap" valign="top">2</td>
<td valign="top">Set gain of the left input channel in 1.5 dB increments:
<br>data = Increments << 4;</td></tr>

<tr><td nowrap="nowrap" valign="top">3</td>
<td valign="top">Set gain of the right input channel in 1.5 dB increments:
<br>data = Increments << 4;</td></tr>

<tr><td nowrap="nowrap" valign="top">4</td>
<td valign="top">Set the input source for the 16-bit hardware adder. Bit 0 of
<i>data</i> represents the A/D converter and bit 1 the multiplexer
matrix.<br><br>

Ist Bit 5 im <a href="003007.html#Cookie_2C_20_SND">_SND</a> Cookie gesetzt stehen noch weitere (Master)
Eingänge zur Verfügung. Die Eingänge werden eingeschaltet sowie das
entsprechende Bit auf 1 gesetzt und Bit 14 in <i>data</i> gesetzt
ist.
<br><br><br>

Bit 2 of <i>data</i> represents the microphone input
<br>Bit 3 of <i>data</i> represents the FM generator
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (frequency modulator, OPLx/Wavetable)
<br>Bit 4 of <i>data</i> represents the Line input
<br>Bit 5 of <i>data</i> represents the CD input
<br>Bit 6 of <i>data</i> represents the TV input
<br>Bit 7 of <i>data</i> represents the Aux1 input
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">5</td>
<td valign="top">Eingabequellen des A/D-Wandlers. Bit 0 steht für den rechten
und Bit 1 für den linken Kanal. Ist ein Bit gesetzt, wird werden die
Daten dem Soundchip entnommen, sonst dem Mikrophon.<br><br>

Ist Bit 5 im '<a href="003007.html#Cookie_2C_20_SND">_SND</a>' Cookie gesetzt stehen evtl. noch weitere
(A/D-Wandler) Eingänge zur Verfügung. Die Eingänge werden
eingeschaltet sowie das entsprechende Bit auf 0 gesetzt und Bit 14 von
<i>data</i> auf 1 gesetzt ist.<br><br>

Bit &nbsp;2 is the right FM generator
<br>Bit &nbsp;3 is the left FM generator
<br>Bit &nbsp;4 is the right Line input
<br>Bit &nbsp;5 is the left Line input
<br>Bit &nbsp;6 is the right CD input
<br>Bit &nbsp;7 is the left CD input
<br>Bit &nbsp;8 is the right TV input
<br>Bit &nbsp;9 is the left TV input
<br>Bit 10 is the right Aux1 input
<br>Bit 11 is the left Aux1 input
<br>Bit 12 is the right Mixer output
<br>Bit 13 is the left Mixer output
<br><br><br>

If bit 14 of <i>data</i> is set to 1, further inputs of the A/D
converter are expected in <i>data2</i>.<br><br>

Bit 16 is the right D/A converter output
<br>Bit 17 is the left D/A converter output</td></tr>

<tr><td nowrap="nowrap" valign="top">6</td>
<td valign="top">Compatibility to the STE sound system. <i>data</i> is taken as
a prescaler if the prescaler set via <a href="#devconnect">devconnect</a> has the value zero:<br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">Prescaler divides by 1280 (6.25 MHz)</td>
</tr>
<tr>
  <td align="left" valign="top">1</td>
  <td align="left" valign="top">Prescaler divides by 640 (12.5 MHz)</td>
</tr>
<tr>
  <td align="left" valign="top">2</td>
  <td align="left" valign="top">Prescaler divides by 320 (25 MHz)</td>
</tr>
<tr>
  <td align="left" valign="top">3</td>
  <td align="left" valign="top">Prescaler divides by 160 (50 MHz)</td>
</tr>
</table>
</div>



</td></tr>
</table>

<br><br>

Additional <i>mode</i> commands when bit 5 in the '<a href="003007.html#Cookie_2C_20_SND">_SND</a>'
cookie is set:<table>
<tr><td nowrap="nowrap" valign="top">&nbsp;7</td>
<td valign="top">Direct input of the sample frequency. <i>data</i> is
interpreted as an unsigned short and can take a value from 0 to 65534
Hz.
<br>Is also present if the cookie <a href="003007.html#Cookie_2C_20McSn">McSn</a> is set.</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;8</td>
<td valign="top"> Setting of the 8-bit sample format</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;9</td>
<td valign="top"> Setting of the 16-bit sample format</td></tr>

<tr><td nowrap="nowrap" valign="top">10</td>
<td valign="top"> Setting of the 24-bit sample format</td></tr>

<tr><td nowrap="nowrap" valign="top">11</td>
<td valign="top"> Setting of the 32-bit sample format<br><br>

The following bits are available at present:
<br>Bit 0 = Signed
<br>Bit 1 = Unsigned
<br>Bit 2 = Motorola big-endian if > 8 bit
<br>Bit 3 = Intel little-endian if > 8-bit</td></tr>

<tr><td nowrap="nowrap" valign="top">12</td>
<td valign="top">Gain of the left master output channel.
<br>data = 0 - 255;</td></tr>

<tr><td nowrap="nowrap" valign="top">13</td>
<td valign="top">Gain of the right master output channel.
<br>data = 0 - 255;</td></tr>

<tr><td nowrap="nowrap" valign="top">14</td>
<td valign="top">Gain of the left Mic input channel.
<br>data = 0 - 255;</td></tr>

<tr><td nowrap="nowrap" valign="top">15</td>
<td valign="top">Gain of the right Mic input channel.
<br>data = 0 - 255;</td></tr>

<tr><td nowrap="nowrap" valign="top">16</td>
<td valign="top">Gain of the left FM generator input channel.
<br>data = 0 - 255;</td></tr>

<tr><td nowrap="nowrap" valign="top">17</td>
<td valign="top">Gain of the right FM generator input channel.
<br>data = 0 - 255;</td></tr>

<tr><td nowrap="nowrap" valign="top">18</td>
<td valign="top">Gain of the left Line input channel.
<br>data = 0 - 255;</td></tr>

<tr><td nowrap="nowrap" valign="top">19</td>
<td valign="top">Gain of the right Line input channel.
<br>data = 0 - 255;</td></tr>

<tr><td nowrap="nowrap" valign="top">20</td>
<td valign="top">Gain of the left CD input channel.
<br>data = 0 - 255;</td></tr>

<tr><td nowrap="nowrap" valign="top">21</td>
<td valign="top">Gain of the right CD input channel.
<br>data = 0 - 255;</td></tr>

<tr><td nowrap="nowrap" valign="top">22</td>
<td valign="top">Gain of the left TV input channel.
<br>data = 0 - 255;</td></tr>

<tr><td nowrap="nowrap" valign="top">23</td>
<td valign="top">Gain of the right TV input channel.
<br>data = 0 - 255;</td></tr>

<tr><td nowrap="nowrap" valign="top">24</td>
<td valign="top">Gain of the left Aux1 input channel.
<br>data = 0 - 255;</td></tr>

<tr><td nowrap="nowrap" valign="top">25</td>
<td valign="top">Gain of the right Aux1 input channel.
<br>data = 0 - 255;

</td></tr>
</table>

<br><br>

If the parameter <i>data</i> is passed the value -1, then the
setting remains unchanged.<br><br>

NSoundcmd is an extended version of soundcmd.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the current setting.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers of the Falcon
series, or with extended XBIOS routines (<a href="003007.html#Cookie_2C_20_SND">_SND</a>).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20soundcmd">Binding</a> &nbsp; <a href="#buffoper">buffoper</a> &nbsp; <a href="#buffptr">buffptr</a> &nbsp; <a href="#devconnect">devconnect</a> &nbsp; <a href="#dsptristate">dsptristate</a> &nbsp; <a href="#gpio">gpio</a>
&nbsp; <a href="#setbuffer">setbuffer</a> &nbsp; <a href="#setinterrupt">setinterrupt</a> &nbsp; <a href="#setmontracks">setmontracks</a> &nbsp; <a href="#setmode">setmode</a> &nbsp; <a href="#settracks">settracks</a> &nbsp;
<a href="#sndstatus">sndstatus</a> &nbsp; <a href="#unlocksnd">unlocksnd</a> &nbsp; <a href="#locksnd">locksnd</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20soundcmd"></a>4.17.13.1 Bindings for soundcmd</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">#include <tos.h><br><br>

int32_t <a href="#soundcmd">soundcmd</a>( int16_t mode, int16_t data );
<br>int32_t <a href="004011.html#NSoundcmd">NSoundcmd</a>( int16_t mode, int16_t data, int32_t data2);</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    data,-(sp)   ; Offset 4
move.w    mode,-(sp)   ; Offset 2
move.w    #130,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="StarTrack"></a>4.17.14 StarTrack</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»StarTrack« - XBIOS extension of the StarTrack card</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">See the individual subfunctions.</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">New XBIOS calls for the StarTrack sound card.<br><br>

All functions go via the XBIOS call 500 (xbs=500) and then split
into the various subfunctions.<table>
<tr><td nowrap="nowrap" valign="top">play-mode:</td>
<td valign="top">Comparable with DMA-play on a Falcon</td></tr>

<tr><td nowrap="nowrap" valign="top">rec-mode:</td>
<td valign="top">Comparable with DMA-rec on a Falcon</td></tr>

<tr><td nowrap="nowrap" valign="top">bypass-mode:</td>
<td valign="top"> The outputs are connected to the inputs

</td></tr>
</table>

<table>
<tr><td nowrap="nowrap" valign="top">&nbsp;&nbsp;1 <a href="#installed">installed</a></td>
<td valign="top"> Cookie XBIOS driver</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;10 <a href="#cardslot">cardslot</a></td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;11 <a href="#cardsel">cardsel</a></td>
<td valign="top">Select sound card</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;12 <a href="#cardmagic">cardmagic</a></td>
<td valign="top">Read sound card magic</td></tr>

<tr><td nowrap="nowrap" valign="top"> 13 <a href="#cardadr">cardadr</a></td>
<td valign="top">Sound card addresses</td></tr>

<tr><td nowrap="nowrap" valign="top"> 20 <a href="#digana">digana</a></td>
<td valign="top">Digital/Analog input</td></tr>

<tr><td nowrap="nowrap" valign="top"> 21 <a href="#digcom">digcom</a></td>
<td valign="top">Digital source</td></tr>

<tr><td nowrap="nowrap" valign="top"> 22 <a href="#dspmode">dspmode</a></td>
<td valign="top">DSP routing No/Input/Output</td></tr>

<tr><td nowrap="nowrap" valign="top"> 23 <a href="#sclock">sclock</a></td>
<td valign="top">Sample rate</td></tr>

<tr><td nowrap="nowrap" valign="top"> 24 <a href="#highsrate">highsrate</a></td>
<td valign="top">High sampling</td></tr>

<tr><td nowrap="nowrap" valign="top"> 25 <a href="#bypass">bypass</a></td>
<td valign="top">Bypass/sample playback</td></tr>

<tr><td nowrap="nowrap" valign="top"> 26 <a href="#recmode">recmode</a></td>
<td valign="top">Recording mode</td></tr>

<tr><td nowrap="nowrap" valign="top"> 27 <a href="#playmode">playmode</a></td>
<td valign="top">Playback mode</td></tr>

<tr><td nowrap="nowrap" valign="top"> 28 <a href="#mode24">mode24</a></td>
<td valign="top">Matrix data size (16/24-bit)</td></tr>

<tr><td nowrap="nowrap" valign="top"> 30 <a href="#digmode">digmode</a></td>
<td valign="top">Digital output Consumer/Professional</td></tr>

<tr><td nowrap="nowrap" valign="top"> 31 <a href="#scmsmode">scmsmode</a></td>
<td valign="top">Clear SCMS</td></tr>

<tr><td nowrap="nowrap" valign="top"> 32 <a href="#mycopybit">mycopybit</a></td>
<td valign="top">Own SCMS copy protection No/One/All</td></tr>

<tr><td nowrap="nowrap" valign="top"> 33 <a href="#emphasis">emphasis</a></td>
<td valign="top">De-<a href="#emphasis">emphasis</a></td></tr>

<tr><td nowrap="nowrap" valign="top"> 40 <a href="#digsrate">digsrate</a></td>
<td valign="top">Sample rate recognition from digital input</td></tr>

<tr><td nowrap="nowrap" valign="top"> 41 <a href="#digcode">digcode</a></td>
<td valign="top">Digital input record-type code</td></tr>

<tr><td nowrap="nowrap" valign="top"> 42 <a href="#errorcode">errorcode</a></td>
<td valign="top">Digital input error code</td></tr>

<tr><td nowrap="nowrap" valign="top"> 43 <a href="#cblmode">cblmode</a></td>
<td valign="top">Reset matrix to CBL mode</td></tr>

<tr><td nowrap="nowrap" valign="top"> 44 <a href="#cblread">cblread</a></td>
<td valign="top">Read out the channel status bytes</td></tr>

<tr><td nowrap="nowrap" valign="top"> 45 <a href="#recstat">recstat</a></td>
<td valign="top">Recfifo status</td></tr>

<tr><td nowrap="nowrap" valign="top"> 46 <a href="#playstat">playstat</a></td>
<td valign="top">Playfifo status</td></tr>

<tr><td nowrap="nowrap" valign="top"> 50 <a href="#volad">volad</a></td>
<td valign="top">Volume controller for input</td></tr>

<tr><td nowrap="nowrap" valign="top"> 51 <a href="#volda">volda</a></td>
<td valign="top">Volume controller for output</td></tr>

<tr><td nowrap="nowrap" valign="top"> 52 <a href="#readsmp">readsmp</a></td>
<td valign="top">Read a sample</td></tr>

<tr><td nowrap="nowrap" valign="top"> 53 <a href="#writesmp">writesmp</a></td>
<td valign="top">Write a sample</td></tr>

<tr><td nowrap="nowrap" valign="top"> 54 <a href="#intact">intact</a></td>
<td valign="top">Interrupt release for FIFO</td></tr>

<tr><td nowrap="nowrap" valign="top"> 55 <a href="#dspintact">dspintact</a></td>
<td valign="top">Interrupt release for DSP</td></tr>

<tr><td nowrap="nowrap" valign="top"> 60 <a href="#sysreset">sysreset</a></td>
<td valign="top">Clear record FIFO, offset equalisation & kickstart for D/A
Reset for A/D, D/A, volume</td></tr>

<tr><td nowrap="nowrap" valign="top"> 61 <a href="#dspreset">dspreset</a></td>
<td valign="top">Reset for DSP</td></tr>

<tr><td nowrap="nowrap" valign="top"> 70 <a href="#dspmemory">dspmemory</a></td>
<td valign="top">DSP memory mode</td></tr>

<tr><td nowrap="nowrap" valign="top"> 71 <a href="#clkdivide">clkdivide</a></td>
<td valign="top">DSP clock divider</td></tr>

<tr><td nowrap="nowrap" valign="top"> 72 <a href="#pathset">pathset</a></td>
<td valign="top">DSP connections</td></tr>

<tr><td nowrap="nowrap" valign="top"> 73 <a href="#dsp_hostcommand">dsp_hostcommand</a></td>
<td valign="top">Start DSP host command</td></tr>

<tr><td nowrap="nowrap" valign="top"> 74 <a href="#dspclear">dspclear</a></td>
<td valign="top">Read out DSP receive buffer</td></tr>

<tr><td nowrap="nowrap" valign="top">100 <a href="#mix">mix</a></td>
<td valign="top">Mixes 2,4,6 or 8 stereo channels (= 4,8,12 or 16 tracks) to one
stereo channel</td></tr>

<tr><td nowrap="nowrap" valign="top">101 <a href="#dspmix">dspmix</a></td>
<td valign="top">Mixes or interleaves stereo channels (4,8 or 16 tracks) to
Falcon-compatible 128 bit words</td></tr>

<tr><td nowrap="nowrap" valign="top">110 <a href="#monitor">monitor</a></td>
<td valign="top"> Record & playback bypass</td></tr>

<tr><td nowrap="nowrap" valign="top">111 <a href="#recwait">recwait</a></td>
<td valign="top"> Wait for auto-record threshold</td></tr>

<tr><td nowrap="nowrap" valign="top">112 <a href="#memrec">memrec</a></td>
<td valign="top"> Memory record without interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">113 <a href="#memplay">memplay</a></td>
<td valign="top"> Memory playback without interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">114 <a href="#recplay">recplay</a></td>
<td valign="top"> Memory record & playback without interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">115 <a href="#hardrec">hardrec</a></td>
<td valign="top"> HD record without interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">116 <a href="#hardplay">hardplay</a></td>
<td valign="top"> HD playback without interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">117 <a href="#hrecplay">hrecplay</a></td>
<td valign="top"> HD record & playback without interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">120 <a href="#init_peak">init_peak</a></td>
<td valign="top"> Peak value output in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">121 <a href="#init_imemrec">init_imemrec</a></td>
<td valign="top"> Memory record in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">122 <a href="#init_imemplay">init_imemplay</a></td>
<td valign="top"> Memory playback in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">123 <a href="#init_implaymix">init_implaymix</a></td>
<td valign="top"> Memory playback & record-mix in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">124 <a href="#init_hrec">init_hrec</a></td>
<td valign="top"> HD record in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">125 <a href="#init_hplay">init_hplay</a></td>
<td valign="top"> HD playback in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">126 <a href="#init_ihplaymix">init_ihplaymix</a></td>
<td valign="top"> HD playback & record-mix in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">130 <a href="#init_mrecpeak">init_mrecpeak</a></td>
<td valign="top"> Memory rec & peak output in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">131 <a href="#init_mplaypeak">init_mplaypeak</a></td>
<td valign="top"> Memory playback & peak output in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">132 <a href="#init_mrppeak">init_mrppeak</a></td>
<td valign="top"> Memory playback & record-mix & peak output in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">133 <a href="#init_hrecpeak">init_hrecpeak</a></td>
<td valign="top"> HD rec & peak output in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">134 <a href="#init_hplaypeak">init_hplaypeak</a></td>
<td valign="top"> HD playback & peak output in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">135 <a href="#init_hrppeak">init_hrppeak</a></td>
<td valign="top"> HD playback & record-mix & peak output in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">140 <a href="#init_xmemrec">init_xmemrec</a></td>
<td valign="top"> Memory record in half-buffer system</td></tr>

<tr><td nowrap="nowrap" valign="top">141 <a href="#init_xmemplay">init_xmemplay</a></td>
<td valign="top"> Memory playback in half-buffer system</td></tr>

<tr><td nowrap="nowrap" valign="top">142 <a href="#init_xmixplay">init_xmixplay</a></td>
<td valign="top"> Memory playback & mixing with record in half-buffer system</td></tr>

<tr><td nowrap="nowrap" valign="top">143 <a href="#init_xmemrec4">init_xmemrec4</a></td>
<td valign="top"> Memory record in half-buffer system of 4 channels
(analog/digital)</td></tr>

<tr><td nowrap="nowrap" valign="top">144 <a href="#init_xmemplay4">init_xmemplay4</a></td>
<td valign="top"> Memory playback in half-buffer system of 4 channels
(analog/digital)</td></tr>

<tr><td nowrap="nowrap" valign="top">150 <a href="#peakshake">peakshake</a></td>
<td valign="top"> Peak value handshake (= generate new value)</td></tr>

<tr><td nowrap="nowrap" valign="top">200 <a href="#read_rlow">read_rlow</a></td>
<td valign="top"> Read low register</td></tr>

<tr><td nowrap="nowrap" valign="top">201 <a href="#read_rhi">read_rhi</a></td>
<td valign="top"> Read high register</td></tr>

<tr><td nowrap="nowrap" valign="top">202 <a href="#read_rdsp">read_rdsp</a></td>
<td valign="top"> Read dsp register</td></tr>

<tr><td nowrap="nowrap" valign="top">203 <a href="#read_raes">read_raes</a></td>
<td valign="top"> Read <a href="008002.html#aes">aes</a> register</td></tr>

<tr><td nowrap="nowrap" valign="top">204 <a href="#read_rint">read_rint</a></td>
<td valign="top"> Read interrupt register</td></tr>

<tr><td nowrap="nowrap" valign="top">210 <a href="#wr_rlow">wr_rlow</a></td>
<td valign="top"> Write low register</td></tr>

<tr><td nowrap="nowrap" valign="top">211 <a href="#wr_rhi">wr_rhi</a></td>
<td valign="top"> Write high register</td></tr>

<tr><td nowrap="nowrap" valign="top">212 <a href="#wr_rdsp">wr_rdsp</a></td>
<td valign="top"> Write dsp register</td></tr>

<tr><td nowrap="nowrap" valign="top">213 <a href="#wr_raes">wr_raes</a></td>
<td valign="top"> Write <a href="008002.html#aes">aes</a> register</td></tr>

<tr><td nowrap="nowrap" valign="top">214 <a href="#wr_rint">wr_rint</a></td>
<td valign="top"> Write interrupt register</td></tr>

<tr><td nowrap="nowrap" valign="top">220 <a href="#read_dpath1">read_dpath1</a></td>
<td valign="top"> Read dsp dpath1 register</td></tr>

<tr><td nowrap="nowrap" valign="top">221 <a href="#read_dpath2">read_dpath2</a></td>
<td valign="top"> Read dsp dpath2 register</td></tr>

<tr><td nowrap="nowrap" valign="top">222 <a href="#read_dport">read_dport</a></td>
<td valign="top"> Read dsp dport register</td></tr>

<tr><td nowrap="nowrap" valign="top">223 <a href="#read_dconv">read_dconv</a></td>
<td valign="top"> Read dsp dconv register</td></tr>

<tr><td nowrap="nowrap" valign="top">224 <a href="#read_dpdat">read_dpdat</a></td>
<td valign="top"> Read dsp dpdat register</td></tr>

<tr><td nowrap="nowrap" valign="top">225 <a href="#read_dclk">read_dclk</a></td>
<td valign="top"> Read dsp dclk register</td></tr>

<tr><td nowrap="nowrap" valign="top">230 <a href="#wr_dpath1">wr_dpath1</a></td>
<td valign="top"> Write dsp dpath1 register</td></tr>

<tr><td nowrap="nowrap" valign="top">231 <a href="#wr_dpath2">wr_dpath2</a></td>
<td valign="top"> Write dsp dpath2 register</td></tr>

<tr><td nowrap="nowrap" valign="top">232 <a href="#wr_dport">wr_dport</a></td>
<td valign="top"> Write dsp dport register</td></tr>

<tr><td nowrap="nowrap" valign="top">233 <a href="#wr_dconv">wr_dconv</a></td>
<td valign="top"> Write dsp dconv register</td></tr>

<tr><td nowrap="nowrap" valign="top">234 <a href="#wr_dpdat">wr_dpdat</a></td>
<td valign="top"> Write dsp dpdat register</td></tr>

<tr><td nowrap="nowrap" valign="top">235 <a href="#wr_dclk">wr_dclk</a></td>
<td valign="top"> Write dsp dclk register</td></tr>

<tr><td nowrap="nowrap" valign="top">300 <a href="#fastcut">fastcut</a></td>
<td valign="top"> Clear memory segment in samplemem</td></tr>

<tr><td nowrap="nowrap" valign="top">301 <a href="#peaksuch">peaksuch</a></td>
<td valign="top"> Peak value search in samplemem</td></tr>

<tr><td nowrap="nowrap" valign="top">302 <a href="#zerono">zerono</a></td>
<td valign="top"> Zero value search in samplemem</td></tr>

<tr><td nowrap="nowrap" valign="top">303 <a href="#fading">fading</a></td>
<td valign="top"> Sample <a href="#fading">fading</a> in samplemem

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> See the individual subfunctions.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers with the
corresponding cards and their drivers.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a>

</td></tr>
</table>

<h3><a name="installed"></a>4.17.15 installed</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»installed« - Cookie XBIOS</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 1</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 1 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If the value is 0x71273800, then the XBIOS driver is
installed.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the
<a href="#StarTrack">StarTrack</a> sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20installed">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20installed"></a>4.17.15.1 Bindings for installed</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 1 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #1,-(sp)     ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="cardslot"></a>4.17.16 cardslot</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»cardslot« -</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 10</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 10 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Number of installed sound cards (1-8).</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20cardslot">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20cardslot"></a>4.17.16.1 Bindings for cardslot</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 10 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #10,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="cardsel"></a>4.17.17 cardsel</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»cardsel« - Select sound card</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 11</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 11, int16_t csel );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>csel</i> selected sound card (1-8).<br><br>

<b>Important:</b>
<br>All further function calls refer to the sound card selected here!</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20cardsel">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20cardsel"></a>4.17.17.1 Bindings for cardsel</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 11, int16_t csel );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    csel,-(sp)   ; Offset 4
move.w    #11,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="cardmagic"></a>4.17.18 cardmagic</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»cardmagic« - Read sound card magic</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 12</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 12);</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top">bit 0 = 1</td>
<td valign="top">Second volume controller for output present</td></tr>

<tr><td nowrap="nowrap" valign="top">bit 1 = 1</td>
<td valign="top">XLR extension present</td></tr>

<tr><td nowrap="nowrap" valign="top">bit 2 = 1</td>
<td valign="top">Digital ports (SP/DIF) present</td></tr>

<tr><td nowrap="nowrap" valign="top">bit 3 = 1</td>
<td valign="top">96kHz high sampling possible</td></tr>

<tr><td nowrap="nowrap" valign="top">bit 4 = 1</td>
<td valign="top">A/D and D/A converters present</td></tr>

<tr><td nowrap="nowrap" valign="top">bit 5 = 1</td>
<td valign="top">DSP56002 present

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20cardmagic">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20cardmagic"></a>4.17.18.1 Bindings for cardmagic</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 12);</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #12,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="cardadr"></a>4.17.19 cardadr</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»cardadr« - Sound card addresses</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 13</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 13 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Points to the start address showing where the various sound
card addresses are stored (see also register description):<table>
<tr><td nowrap="nowrap" valign="top">int32_t sample</td>
<td valign="top">Address sample read/write</td></tr>

<tr><td nowrap="nowrap" valign="top">int32_t recstat</td>
<td valign="top"> Address recordfifo status</td></tr>

<tr><td nowrap="nowrap" valign="top">int32_t playstat</td>
<td valign="top"> Address playfifo status</td></tr>

<tr><td nowrap="nowrap" valign="top">int32_t dsp</td>
<td valign="top"> Address dsp host

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20cardadr">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20cardadr"></a>4.17.19.1 Bindings for cardadr</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 13 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #13,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="digana"></a>4.17.20 digana</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»digana« - Digital/Analog input</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 20</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 20, int16_t input );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>input</i>: Select the input
<br>0 - Digital input
<br>1 - Analog input
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20digana">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20digana"></a>4.17.20.1 Bindings for digana</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 20, int16_t input );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    input,-(sp)  ; Offset 4
move.w    #20,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="digcom"></a>4.17.21 digcom</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»digcom« - Digitalquelle</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 21</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 21, int16_t dq );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>dq</i>: Select the digital source
<br>0 - opto (TOSLINK)
<br>1 - Cinch (phono socket)
<br>2 - XLR (<a href="008.html">AES</a>/EBU)
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20digcom">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20digcom"></a>4.17.21.1 Bindings for digcom</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 21, int16_t dq );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    dq,-(sp)     ; Offset 4
move.w    #21,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="dspmode"></a>4.17.22 dspmode</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»dspmode« - Dsp routing No/Input/Output</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 22</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 22, int16_t dspmode );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>dspmode</i>: Selection of the DSP output path
<br>0 - dspoff - DSP output not in signal path
<br>1 - dsp_to_rec - DSP output in record signal path
<br>2 - dsp_to_play - DSP output in playback signal path
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20dspmode">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20dspmode"></a>4.17.22.1 Bindings for dspmode</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 22, int16_t dspmode );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    <a href="#playstat">playstat</a>,-(sp) ; Offset 4
move.w    #22,-(sp)      ; Offset 2
move.w    #500,-(sp)     ; Offset 0
trap      #14            ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp          ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="sclock"></a>4.17.23 sclock</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»sclock« - Sample rate</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 23</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 23, int16_t srate );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>srate</i>: Selection of the DSP output clock
<br>0 - digital_pll - Use clock input at digital input
<br>1 - 32kHz
<br>2 - 44.1kHz
<br>3 - 48kHz
<br>4 - 8kHz
<br>5 - 11kHz
<br>6 - 16kHz
<br>7 - 16.5kHz
<br>8 - 22kHz
<br>9 - 22kHz
<br>10 - 24kHz
<br>11 - 33kHz
<br>12 - Ext/768
<br>13 - Ext/512
<br>14 - Ext/384
<br>15 - Ext/256
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20sclock">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20sclock"></a>4.17.23.1 Bindings for sclock</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 23, int16_t srate );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    srate,-(sp)  ; Offset 4
move.w    #23,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="highsrate"></a>4.17.24 highsrate</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»highsrate« - High sampling</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 24</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 24, int16_t hs );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>hs</i>: High sampling with 96kHz
<br>0 - No high sampling
<br>1 - Select high sampling
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20highsrate">Binding</a> &nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20highsrate"></a>4.17.24.1 Bindings for highsrate</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 24, int16_t hs );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    hs,-(sp)     ; Offset 4
move.w    #24,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="bypass"></a>4.17.25 bypass</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»bypass« - Bypass/sample playback</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 25</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 25, int16_t bypass );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>bypass</i>: Output source
<br>0 - Bypass - Outputs are connected to the input
<br>1 - Play - Outputs obtain their data from the playback hardware
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20bypass">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20bypass"></a>4.17.25.1 Bindings for bypass</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 25, int16_t bypass );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    <a href="#bypass">bypass</a>,-(sp) ; Offset 4
move.w    #25,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="recmode"></a>4.17.26 recmode</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»recmode« - Recording mode</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 26</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 26, int16_t mrec );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>mrec</i>: Recording type
<br>0 - Normal - 2-channel recording in 64-bit mode
<br>1 - Four - 4-channel recording in 64-bit mode via A/D and
digital-in
<br>2 - Eight - 8-channel recording in 128-bit mode
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20recmode">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20recmode"></a>4.17.26.1 Bindings for recmode</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 26, int16_t mrec );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    mrec,-(sp)   ; Offset 4
move.w    #26,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="playmode"></a>4.17.27 playmode</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»playmode« - Playback mode</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 27</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 27, int16_t mplay );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>mplay</i>: Playback type
<br>0 - Normal - 2-channel playback in 64-bit mode
<br>1 - Four - 4-channel playback in 64-bit mode via D/A and
digital-out
<br>2 - Eight - 8-channel playback in 128-bit mode
<br>3 - Sixteen - 16-channel playback in 128-bit mode
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20playmode">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20playmode"></a>4.17.27.1 Bindings for playmode</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 27, int16_t mplay );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    mplay,-(sp)  ; Offset 4
move.w    #27,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="mode24"></a>4.17.28 mode24</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»mode24« - Matrix data size (16/24-bit)</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 28</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 28, int16_t mode24 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>mode24</i>: Matrix data type
<br>0 - Normal - 16-bit data transfer
<br>1 - Extended - 24-bit data transfer
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20mode24">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20mode24"></a>4.17.28.1 Bindings for mode24</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 28, int16_t <a href="#mode24">mode24</a> );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    <a href="#mode24">mode24</a>,-(sp) ; Offset 4
move.w    #28,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #8,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="digmode"></a>4.17.29 digmode</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»digmode« - Digital output consumer/professional</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 30</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 30, int16_t digmode );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>digmode</i>: Select the SP/DIF output format
<br>0 - consumer - Output in consumer format (HIFI-devices)
<br>1 - professional - Output in professional format (studio
equipment)
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20digmode">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20digmode"></a>4.17.29.1 Bindings for digmode</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 30, int16_t <a href="#digmode">digmode</a> );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    <a href="#digmode">digmode</a>,-(sp) ; Offset 4
move.w    #30,-(sp)     ; Offset 2
move.w    #500,-(sp)    ; Offset 0
trap      #14           ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp         ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="scmsmode"></a>4.17.30 scmsmode</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»scmsmode« - Clear SCMS</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 31</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 31, int16_t scmsmode );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>scmsmode</i>: Copy protection
<br>0 - Bypass - Route digital input data unchanged to the output
<br>1 - Clear - Completely remove SCMS copy protection
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20scmsmode">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20scmsmode"></a>4.17.30.1 Bindings for scmsmode</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 31, int16_t scmsmode );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    <a href="#scmsmode">scmsmode</a>,-(sp) ; Offset 4
move.w    #31,-(sp)      ; Offset 2
move.w    #500,-(sp)     ; Offset 0
trap      #14            ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp          ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="mycopybit"></a>4.17.31 mycopybit</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»mycopybit« - Own SCMS copy protection No/One/All</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 32</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 32, int16_t myscms );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>myscms</i>: Copy protection for digit output in playback
<br>0 - No - No copying possible
<br>1 - One - One-time copying possible
<br>2 - All - No copy protection, free copying possible
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20mycopybit">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20mycopybit"></a>4.17.31.1 Bindings for mycopybit</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 32, int16_t myscms );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    myscms,-(sp) ; Offset 4
move.w    #32,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="emphasis"></a>4.17.32 emphasis</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»emphasis« - De-emphasis</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 33</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 33, int16_t emph );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>emph</i>: De-emphasis (top cut), works on digital output
(in playback mode) and analog output
<br>0 - Normal - No top cut
<br>1 - De-emphasis - Top cut
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20emphasis">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20emphasis"></a>4.17.32.1 Bindings for emphasis</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 33, int16_t emph );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    emph,-(sp)   ; Offset 4
move.w    #33,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="digsrate"></a>4.17.33 digsrate</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»digsrate« - Sample rate recognition from digital input</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 40</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 40 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 -> Invalid
<br>1 -> 32kHz
<br>2 -> 44.1kHz
<br>3 -> 48kHz
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20digsrate">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20digsrate"></a>4.17.33.1 Bindings for digsrate</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 40 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #40,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="digcode"></a>4.17.34 digcode</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»digcode« - Digital input record-type code</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 41</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 41 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top">bit 0</td>
<td valign="top">0 = Professional
<br>1 = Consumer</td></tr>

<tr><td nowrap="nowrap" valign="top">bit 1</td>
<td valign="top">0 = Data
<br>1 = Audio</td></tr>

<tr><td nowrap="nowrap" valign="top">bit 2</td>
<td valign="top">0 = No copy-prohibit = SCMS not active
<br>1 = Copy prohibit=SCMS active</td></tr>

<tr><td nowrap="nowrap" valign="top">bit 3</td>
<td valign="top"> 0 = No emphasis
<br>1 = Emphasis active

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20digcode">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20digcode"></a>4.17.34.1 Bindings for digcode</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 41 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #41,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="errorcode"></a>4.17.35 errorcode</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»errorcode« - Digital input error code</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 42</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 42 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 -> No error
<br>1 -> Validity bit high
<br>2 -> Confidence flag
<br>3 -> Slipped sample
<br>4 -> CRC-error
<br>5 -> Parity error
<br>6 -> Biphase coding error
<br>7 -> No lock
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20errorcode">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20errorcode"></a>4.17.35.1 Bindings for errorcode</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 42 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #42,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="cblmode"></a>4.17.36 cblmode</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»cblmode« - Reset matrix to CBL mode</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 43</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 43, int16_t cblmode );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>cblmode</i>: Channel status-block read mode
<br>0 - normal - No cbl mode, matrix transports sound data
<br>1 - <a href="#cblread">cblread</a> - Cbl mode, matrix transports status bits from digital
input
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20cblmode">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20cblmode"></a>4.17.36.1 Bindings for cblmode</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 43, int16_t <a href="#cblmode">cblmode</a> );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    <a href="#cblmode">cblmode</a>,-(sp) ; Offset 4
move.w    #43,-(sp)     ; Offset 2
move.w    #500,-(sp)    ; Offset 0
trap      #14           ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp         ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="cblread"></a>4.17.37 cblread</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»cblread« - Read out the channel status bytes</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 44</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 44 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Points to the start address where the 24 status bytes are
stored:<br><br>

int8_t cbl0 : Channel status byte 0 : Bit 7 -> Channel status bit
0
<br>int8_t cbl0 : Channel status byte 0 : Bit 6 -> Channel status bit
1
<br>int8_t cbl0 : Channel status byte 0 : Bit 5 -> Channel status bit
2
<br>int8_t cbl0 : Channel status byte 0 : Bit 4 -> Channel status bit
3
<br>int8_t cbl0 : Channel status byte 0 : Bit 3 -> Channel status bit
4
<br>int8_t cbl0 : Channel status byte 0 : Bit 2 -> Channel status bit
5
<br>int8_t cbl0 : Channel status byte 0 : Bit 1 -> Channel status bit
6
<br>int8_t cbl0 : Channel status byte 0 : Bit 0 -> Channel status bit
7
<br>... int8_t cbl23 : Channel status byte 23
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20cblread">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20cblread"></a>4.17.37.1 Bindings for cblread</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 44 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #44,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="recstat"></a>4.17.38 recstat</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»recstat« - Recfifo status</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 45</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 45 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top">bit 0</td>
<td valign="top">0 = FIFO empty
<br>1 = FIFO not empty</td></tr>

<tr><td nowrap="nowrap" valign="top">bit 1</td>
<td valign="top">0 = FIFO more than half-full, triggers interrupt
<br>1 = FIFO less than/up to half-full</td></tr>

<tr><td nowrap="nowrap" valign="top">bit 2</td>
<td valign="top">0 = FIFO full
<br>1 = FIFO not full

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20recstat">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20recstat"></a>4.17.38.1 Bindings for recstat</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 45 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #45,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="playstat"></a>4.17.39 playstat</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»playstat« - Playfifo status</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 46</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 46 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top">bit 0</td>
<td valign="top">0 = FIFO empty
<br>1 = FIFO not empty</td></tr>

<tr><td nowrap="nowrap" valign="top">bit 1</td>
<td valign="top">0 = FIFO more than half-full
<br>1 = FIFO less than/up to half-full, triggers interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">bit 2</td>
<td valign="top">0 = FIFO full
<br>1 = FIFO not full

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20playstat">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20playstat"></a>4.17.39.1 Bindings for playstat</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 46 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #46,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="volad"></a>4.17.40 volad</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»volad« - Volume controller for input</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 50</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 50, int16_t lvol, int16_t rvol );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>lvol</i>: Volume of left channel in 0.5db steps (0-255)
<br><i>rvol</i>: Volume of right channel in 0.5db steps (0-255)<br><br>

The volume controller can operate in the region of -96dB to +32dB:<br><br>


<div align="left">
<table border="0">
<tr>
  <td align="right" valign="top">Value</td>
  <td align="left" valign="top">dB</td>
</tr>
<tr>
  <td align="right" valign="top">0</td>
  <td align="left" valign="top">-96</td>
</tr>
<tr>
  <td align="right" valign="top">192</td>
  <td align="left" valign="top">0</td>
</tr>
<tr>
  <td align="right" valign="top">255</td>
  <td align="left" valign="top">+31.5</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20volad">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20volad"></a>4.17.40.1 Bindings for volad</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 50, int16_t lvol, int16_t rvol );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    rvol,-(sp)   ; Offset 6
move.w    lvol,-(sp)   ; Offset 4
move.w    #50,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #8,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="volda"></a>4.17.41 volda</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»volda« - Volume controller for output</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 51</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 51, int16_t lvol, int16_t rvol );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>lvol</i>: Volume of left channel in 0.5db steps (0-255)
<br><i>rvol</i>: Volume of right channel in 0.5db steps (0-255)<br><br>

The volume controller can operate in the region of -96dB to
+31.5dB:<br><br>


<div align="left">
<table border="0">
<tr>
  <td align="right" valign="top">Value</td>
  <td align="left" valign="top">dB</td>
</tr>
<tr>
  <td align="right" valign="top">0</td>
  <td align="left" valign="top">-96</td>
</tr>
<tr>
  <td align="right" valign="top">192</td>
  <td align="left" valign="top">0</td>
</tr>
<tr>
  <td align="right" valign="top">255</td>
  <td align="left" valign="top">+31.5</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20volda">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20volda"></a>4.17.41.1 Bindings for volda</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 51, int16_t lvol, int16_t rvol );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    rvol,-(sp)   ; Offset 6
move.w    lvol,-(sp)   ; Offset 4
move.w    #51,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #8,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="readsmp"></a>4.17.42 readsmp</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»readsmp« - Read a sample</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 52</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 52 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return value, -1 = Error
<br>int16_t 0 left
<br>int16_t 2 right
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20readsmp">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20readsmp"></a>4.17.42.1 Bindings for readsmp</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 52 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #52,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="writesmp"></a>4.17.43 writesmp</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»writesmp« - Write a sample</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 53</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 53, int16_t left, int16_t right );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>left</i> : Sample value left
<br><i>right</i>: Sample value right</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See Also:</td>
<td valign="top"><a href="#Bindings_20for_20writesmp">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20writesmp"></a>4.17.43.1 Bindings for writesmp</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 53, int16_t left, int16_t right );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    right,-(sp)  ; Offset 6
move.w    left,-(sp)   ; Offset 4
move.w    #53,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #8,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="intact"></a>4.17.44 intact</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»intact« - Interrupt release for FIFO</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 54</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 54, int16_t int );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>int</i>:<table>
<tr><td nowrap="nowrap" valign="top">bit 0</td>
<td valign="top">0 = Stop playback
<br>1 = Start playback</td></tr>

<tr><td nowrap="nowrap" valign="top">bit 1</td>
<td valign="top">0 = Stop recording
<br>1 = Start recording

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20intact">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20intact"></a>4.17.44.1 Bindings for intact</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 54, int16_t int );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    int,-(sp)    ; Offset 4
move.w    #54,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="dspintact"></a>4.17.45 dspintact</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»dspintact« - Interrupt release for DSP</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 55</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 55, int16_t dint );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>dint</i>:<table>
<tr><td nowrap="nowrap" valign="top">bit 0</td>
<td valign="top">0 = Stop dsp-receive
<br>1 = Start dsp-receive</td></tr>

<tr><td nowrap="nowrap" valign="top">bit 1</td>
<td valign="top">0 = Stop dsp-transmit
<br>1 = Start dsp-transmit

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20dspintact">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20dspintact"></a>4.17.45.1 Bindings for dspintact</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 55, int16_t dint );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    dint,-(sp)   ; Offset 4
move.w    #55,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="sysreset"></a>4.17.46 sysreset</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»sysreset« - Clear record FIFO</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 60</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 60 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">Clear record FIFO, offset equalisation & kickstart for D/A,
reset for A/D, D/A, volume controller, digital SP/DIF chips</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20sysreset">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20sysreset"></a>4.17.46.1 Bindings for sysreset</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 60 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #60,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="dspreset"></a>4.17.47 dspreset</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»dspreset« - Reset for DSP</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 61</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 61 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">Resets the DSP</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20dspreset">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20dspreset"></a>4.17.47.1 Bindings for dspreset</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 61 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #61,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="dspmemory"></a>4.17.48 dspmemory</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»dspmemory« - DSP memory mode</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 70</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 70, int16_t dspmem );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>dspmem</i>: DSP memory mode
<br>0 - Normal - 32Kx24-bit Falcon-compatible mode
<br>1 - Big - 128Kx24-bit extended mode
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20dspmemory">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20dspmemory"></a>4.17.48.1 Bindings for dspmemory</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 70, int16_t dspmem );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    dspmem,-(sp) ; Offset 4
move.w    #70,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="clkdivide"></a>4.17.49 clkdivide</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»clkdivide« - DSP clock divider</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 71</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 71, int16_t clkdiv );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>clkdiv</i>: DSP clock division factor
<br><pre>Clock of CKOUT of the DSP (at 25.175 MHz DSP clock)
Input -> ICLK_output/Converter_prescaler -> Sample rate
clkdiv        -> Output        -> Sample rate
------------------------------------------------
0000=CKOUT/1  -> 25.175MHz/512 -> 49170 Hz
0001=CKOUT/2  -> 12.587MHz/256 -> 49170 Hz
0010=CKOUT/2  -> 12.587MHz/256 -> 49170 Hz
0011=CKOUT/3  ->  8.392MHz/256 -> 32780 Hz
0100=CKOUT/4  ->  6.294MHz/256 -> 24585 Hz
0101=CKOUT/5  ->  5.035MHz/256 -> 19668 Hz
0110=CKOUT/6  ->  4.196MHz/256 -> 16390 Hz
0111=CKOUT/7  ->  3.596MHz/256 -> 14049 Hz
1000=CKOUT/8  ->  3.147MHz/256 -> 12292 Hz
1001=CKOUT/9  ->  2.797MHz/256 -> 10927 Hz
1010=CKOUT/10 ->  2.518MHz/256 ->  9833 Hz
1011=CKOUT/11 ->  2.289MHz/256 ->  8940 Hz
1100=CKOUT/12 ->  2.098MHz/256 ->  8195 Hz
1101=CKOUT/13 ->  1.937MHz/256 ->  7565 Hz
1110=CKOUT/14 ->  1.798MHz/256 ->  7024 Hz
1111=CKOUT/15 ->  1.678MHz/256 ->  6556 Hz

Clock of CKOUT of the DSP (at 66.00 MHz DSP clock)
Input -> ICLK_output/Converter_prescaler -> Sample rate
clkdiv        -> Output        -> Sample rate
----------------------------------------------------
0000=CKOUT/1  -> 66.000MHz/768 ->  85938 Hz
0001=CKOUT/2  -> 33.000MHz/512 ->  64453 Hz
0010=CKOUT/2  -> 33.000MHz/512 ->  64453 Hz
0011=CKOUT/3  -> 22.000MHz/512 ->  42969 Hz
0100=CKOUT/4  -> 16.500MHz/512 ->  32227 Hz
0101=CKOUT/5  -> 13.200MHz/512 ->  25781 Hz
0110=CKOUT/6  -> 11.000MHz/512 ->  21484 Hz
0111=CKOUT/7  ->  9.428MHz/512 ->  18415 Hz
1000=CKOUT/8  ->  8.250MHz/512 ->  16113 Hz
1001=CKOUT/9  ->  7.333MHz/512 ->  14323 Hz
1010=CKOUT/10 ->  6.600MHz/512 ->  12891 Hz
1011=CKOUT/11 ->  6.000MHz/512 ->  11719 Hz
1100=CKOUT/12 ->  5.500MHz/512 ->  10742 Hz
1101=CKOUT/13 ->  5.077MHz/512 ->   9916 Hz
1110=CKOUT/14 ->  4.714MHz/512 ->   9208 Hz
1111=CKOUT/15 ->  4.400MHz/512 ->   8594 Hz
</pre>
<br><br>

Further clock rates are possible (Converter_prescaler /256, /384,
/512 and /768 are usable, so in total 64 new clock rates with CLKDIV!)</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="clkdivide.html#Bindings_20for_20clkdivide">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20clkdivide"></a>4.17.49.1 Bindings for clkdivide</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 71, int16_t clkdiv );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    clkdiv,-(sp) ; Offset 4
move.w    #71,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="pathset"></a>4.17.50 pathset</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»pathset« - DSP connections</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 72</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 72, int16_t path );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>path</i>: DSP connections
<br>Bit 0 - Connection of matrix to SC0 of the DSP (0 = disconnected,
1 = connected)
<br>Bit 1 - Connection of matrix to SC1 of the DSP (0 = disconnected,
1 = connected)
<br>Bit 2 - Connection of matrix to SC2 of the DSP (0 = disconnected,
1 = connected)
<br>Bit 3 - Connection of matrix to SRD of the DSP (0 = disconnected,
1 = connected)
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20pathset">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20pathset"></a>4.17.50.1 Bindings for pathset</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 72, int16_t path );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    path,-(sp)   ; Offset 4
move.w    #72,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="dsp_hostcommand"></a>4.17.51 dsp_hostcommand</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»dsp_hostcommand« - Start DSP host command</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 73</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 73, int16_t command );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>command</i>: DSP command number
<br>&nbsp;0 - DSP host command (DSP address $0024, default)
<br>...
<br>11 - DSP host command (DSP address $003A)
<br>14 - DSP host command (DSP address $0040)
<br>...
<br>45 - DSP host command (DSP address $007E)
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="dsp_hostcommand.html#Bindings_20for_20dsp_hostcommand">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20dsp_hostcommand"></a>4.17.51.1 Bindings for dsp_hostcommand</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 73, int16_t command );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    command,-(sp) ; Offset 4
move.w    #73,-(sp)     ; Offset 2
move.w    #500,-(sp)    ; Offset 0
trap      #14           ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp         ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="dspclear"></a>4.17.52 dspclear</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»dspclear« - Read out DSP receive buffer</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 74</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 74 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20dspclear">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20dspclear"></a>4.17.52.1 Bindings for dspclear</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 74 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #74,-(sp)    ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="mix"></a>4.17.53 mix</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»mix« - Mixes 2, 4, 6 or 8 stereo channels</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 100</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 100, int16_t channels, int32_t startadr,
int32_t len, int32_t zieladr, int32_t voltab );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">Mixes 2, 4, 6 or 8 stereo channels (= 4, 8, 12 or 16 tracks) to
one stereo channel<table>
<tr><td nowrap="nowrap" valign="top"><i>channels</i></td>
<td valign="top">Number of tracks (4, 8, 12 or 16)</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>startradr</i></td>
<td valign="top">Start address of tracks to be mixed</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>len</i></td>
<td valign="top">Length of a stereo track</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>zieladr</i></td>
<td valign="top">Start address for the mixed stereo track</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>voltab</i></td>
<td valign="top">Pointer to track volume value table
<br>int8_t VOL-STEREOTRACK1
<br>int8_t VOL-STEREOTRACK2 etc.
<br>...
<br>int8_t VOL-STEREOTRACK8
<br>

</td></tr>
</table>

<br><br>

The tracks to be mixed lie in memory as stereo tracks following
each other. The volume value table contains the sound volume for the
individual channels in the region 0-200:
<br>&nbsp;&nbsp;0 = Mute
<br>&nbsp;50 = Half volume
<br>100 = Original volume
<br>200 = Double volume
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20mix">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20mix"></a>4.17.53.1 Bindings for mix</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 100, int16_t channels, int32_t startadr,
int32_t len, int32_t zieladr, int32_t voltab );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.l    voltab,-(sp)     ; Offset 18
move.l    zieladr,-(sp)    ; Offset 14
move.l    len,-(sp)        ; Offset 10
move.l    startdar,-(sp)   ; Offset 6
move.w    channels,-(sp)   ; Offset 4
move.w    #100,-(sp)       ; Offset 2
move.w    #500,-(sp)       ; Offset 0
trap      #14              ; Call <a href="004.html">XBIOS</a>
addq.l    #22,sp           ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="dspmix"></a>4.17.54 dspmix</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»dspmix« - Mix or interleave stereo channels</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 101</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 101, int16_t channels, int32_t startadr,
int32_t len, int32_t zieladr );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">Mixes or interleaves stereo channels (4, 8 or 16 tracks) to
Falcon-compatible 128-bit words<table>
<tr><td nowrap="nowrap" valign="top"><i>channels</i></td>
<td valign="top">4, 8 or 16 tracks</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>startradr</i></td>
<td valign="top">Start address of tracks to be mixed</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>len</i></td>
<td valign="top">Length of a stereo track</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>zieladr</i></td>
<td valign="top">Start address for the mixed stereo track

</td></tr>
</table>

<br><br>

The tracks to be mixed lie in memory as stereo tracks following
each other. The volume value table contains the sound volume for the
individual channels in the region 0-200:
<br>&nbsp;&nbsp;0 = Mute
<br>&nbsp;50 = Half volume
<br>100 = Original volume
<br>200 = Double volume
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20dspmix">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20dspmix"></a>4.17.54.1 Bindings for dspmix</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 101, int16_t channels, int32_t startadr,
int32_t len, int32_t zieladr );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.l    zieladr,-(sp)    ; Offset 14
move.l    len,-(sp)        ; Offset 10
move.l    startdar,-(sp)   ; Offset 6
move.w    channels,-(sp)   ; Offset 4
move.w    #101,-(sp)       ; Offset 2
move.w    #500,-(sp)       ; Offset 0
trap      #14              ; Call <a href="004.html">XBIOS</a>
addq.l    #18,sp           ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="monitor"></a>4.17.55 monitor</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»monitor« - Record & playback bypass</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 110</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 110 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20monitor">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20monitor"></a>4.17.55.1 Bindings for monitor</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 110 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #110,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="recwait"></a>4.17.56 recwait</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»recwait« - Wait for auto-record threshold</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 111</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 111, int16_t treshold );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>treshold</i>: Threshold (0-32767)</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20recwait">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20recwait"></a>4.17.56.1 Bindings for recwait</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 111, int16_t treshold );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    treshold,-(sp)  ; Offset 4
move.w    #111,-(sp)      ; Offset 2
move.w    #500,-(sp)      ; Offset 0
trap      #14             ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp           ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="memrec"></a>4.17.57 memrec</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»memrec« - Memory record without interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 112</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 112, int32_t startadr, int32_t endadr );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>startradr</i>: Recording start address
<br><i>endadr</i>: Recording end address<br><br>

<b>Warning:</b> Sound disappears, faulty!</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Last recording memory position</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20memrec">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20memrec"></a>4.17.57.1 Bindings for memrec</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 112, int32_t startadr, int32_t endadr );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.l    endadr,-(sp)    ; Offset 8
move.l    startadr,-(sp)  ; Offset 4
move.w    #112,-(sp)      ; Offset 2
move.w    #500,-(sp)      ; Offset 0
trap      #14             ; Call <a href="004.html">XBIOS</a>
addq.l    #12,sp          ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="memplay"></a>4.17.58 memplay</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»memplay« - Memory playback without interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 113</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 113, int32_t startadr, int32_t endadr,
int16_t step, int16_t mode, int16_t midi );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>startradr</i></td>
<td valign="top">Playback start address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>endadr</i></td>
<td valign="top">Playback end address (plays backwards if endadr<startadr)</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>step</i></td>
<td valign="top">Playback speed (0..x)
<br>0 = Normal
<br>1 = Double
<br>2 = Triple etc...</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>mode</i></td>
<td valign="top">bit 0 -> Loop
<br>bit 1 -> Crossplay
<br>bit 2 -> MIDI</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>midi</i></td>
<td valign="top">MIDI note, at which playback is to start, is only specified
when mode bit 2 is set!

</td></tr>
</table>

<br><br>

<b>Warning:</b> MIDI not tested!</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return values, -1 = Error
<br>int32_t 0 Memposition
<br>int32_t 4 Loops (1 = played once, 2 = twice etc.)
<br>Each crossplay = two loops (for forwards & backwards)</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20memplay">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20memplay"></a>4.17.58.1 Bindings for memplay</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 113, int32_t startadr, int32_t endadr,
int16_t step, int16_t mode, int16_t midi );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    midi,-(sp)      ; Offset 16
move.w    mode,-(sp)      ; Offset 14
move.w    step,-(sp)      ; Offset 12
move.l    endadr,-(sp)    ; Offset 8
move.l    startadr,-(sp)  ; Offset 4
move.w    #113,-(sp)      ; Offset 2
move.w    #500,-(sp)      ; Offset 0
trap      #14             ; Call <a href="004.html">XBIOS</a>
addq.l    #18,sp          ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="recplay"></a>4.17.59 recplay</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»recplay« - Memory record & playback without interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 114</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 114 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">No information available!</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20recplay">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20recplay"></a>4.17.59.1 Bindings for recplay</h4>
<p>Unbekannt!</p>

<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 114 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #114,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="hardrec"></a>4.17.60 hardrec</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»hardrec« - HD record without interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 115</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 115, int32_t startadr, int32_t len,
int32_t sectors, int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>startadr</i></td>
<td valign="top">Record buffer start address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>len</i></td>
<td valign="top">Record buffer length or sectors</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>sectors</i></td>
<td valign="top">Number of record sectors (determined by <i>len</i>)</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>handle</i></td>
<td valign="top">Handle of record file

</td></tr>
</table>

<br><br>

<b>Warning:</b> Dropout due to too small FIFO!</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Number of completely written sectors, -1 = Error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20hardrec">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20hardrec"></a>4.17.60.1 Bindings for hardrec</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 115, int32_t startadr, int32_t len,
int32_t sectors, int16_t handle );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    handle,-(sp)    ; Offset 18
move.l    sectors,-(sp)   ; Offset 14
move.l    len,-(sp)       ; Offset 10
move.l    startadr,-(sp)  ; Offset 6
move.w    #115,-(sp)      ; Offset 4
move.w    #500,-(sp)      ; Offset 0
trap      #14             ; Call <a href="004.html">XBIOS</a>
addq.l    #20,sp          ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="hardplay"></a>4.17.61 hardplay</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»hardplay« - HD-play ohne Interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 116</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 116, int32_t startadr, int32_t len,
int32_t sectors, int32_t seek, int16_t handle, int16_t step, int16_t
mode, int16_t midi );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top">startadr</td>
<td valign="top">Playback buffer start address</td></tr>

<tr><td nowrap="nowrap" valign="top">len</td>
<td valign="top">Playback buffer length (plays backwards if negative)</td></tr>

<tr><td nowrap="nowrap" valign="top">sectors</td>
<td valign="top">Number of sectors</td></tr>

<tr><td nowrap="nowrap" valign="top">seek</td>
<td valign="top">File start position</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top">Handle of playback file</td></tr>

<tr><td nowrap="nowrap" valign="top">step</td>
<td valign="top">Speed of playback (0..x)
<br>0 = Normal
<br>1 = Double
<br>2 = Triple etc...</td></tr>

<tr><td nowrap="nowrap" valign="top">mode</td>
<td valign="top">bit 0 -> Loop
<br>bit 1 -> Crossplay
<br>bit 2 -> MIDI
<br>bit 3 -> Break</td></tr>

<tr><td nowrap="nowrap" valign="top">midi</td>
<td valign="top">MIDI note, at which playback is to start, is only specified
when <i>mode)</i> bit 2 is set!

</td></tr>
</table>

<br><br>

<b>Warning:</b> Dropout due to too small FIFO!
<br>No reverse playback at present!</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return values, -1 = Error
<br>int32_t 0 Number of sectors played back
<br>int32_t 4 Loops (1 = played once, 2 = twice etc.)
<br>Each crossplay = two loops (for forwards & backwards)</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20hardplay">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20hardplay"></a>4.17.61.1 Bindings for hardplay</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 116, int32_t startadr, int32_t len,
int32_t sectors, int32_t seek, int16_t handle, int16_t step, int16_t
mode, int16_t midi );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    midi,-(sp)      ; Offset 26
move.w    mode,-(sp)      ; Offset 24
move.w    step,-(sp)      ; Offset 22
move.w    handle,-(sp)    ; Offset 20
move.l    seek,-(sp)      ; Offset 16
move.l    sectors,-(sp)   ; Offset 12
move.l    len,-(sp)       ; Offset 8
move.l    startadr,-(sp)  ; Offset 4
move.w    #116,-(sp)      ; Offset 2
move.w    #500,-(sp)      ; Offset 0
trap      #14             ; Call <a href="004.html">XBIOS</a>
addq.l    #28,sp          ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="hrecplay"></a>4.17.62 hrecplay</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»hrecplay« - HD record & playback without interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 117</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"><a href="#Bindings_20for_20hrecplay">Bindings for hrecplay</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20hrecplay">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20hrecplay"></a>4.17.62.1 Bindings for hrecplay</h4>
<p>Binding unbekannt!</p>

<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 117 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #117,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_peak"></a>4.17.63 init_peak</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_peak « - Peak value output in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 120</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 120 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return values, -1 = Error
<br>int32_t 0 Peak value
<br>int32_t 8 Break (1 = new value ready for readout. After the
readout peak value and break must be cleared!)</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_peak">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_peak"></a>4.17.63.1 Bindings for init_peak</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 120 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #120,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_imemrec"></a>4.17.64 init_imemrec</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_imemrec« - Memory record in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 121</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 121, int16_t select, int32_t startadr,
int32_t endadr );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>select</i></td>
<td valign="top">Recording type
<br>0 = Record with 16 bits via FIFO
<br>2 = Record with 24 bits via FIFO</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>startadr</i></td>
<td valign="top">Recording start address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>endadr</i></td>
<td valign="top">Recording end address

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return values, -1 = Error
<br>int32_t 0 Memposition
<br>int32_t 8 Break
<br>int32_t 12 Error
<br>int32_t 24 Counter position
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_imemrec">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_imemrec"></a>4.17.64.1 Bindings for init_imemrec</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 121, int16_t select, int32_t startadr,
int32_t endadr );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.l    endadr,-(sp)   ; Offset 10
move.l    startadr,-(sp) ; Offset 6
move.w    select,-(sp)   ; Offset 4
move.w    #121,-(sp)     ; Offset 2
move.w    #500,-(sp)     ; Offset 0
trap      #14            ; Call <a href="004.html">XBIOS</a>
addq.l    #14,sp         ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_imemplay"></a>4.17.65 init_imemplay</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_imemplay« - Memory playback in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 122</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 122, int16_t select, int32_t startadr,
int32_t endadr, int32_t counter, int16_t step, int16_t mode, int16_t
midi );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>select</i></td>
<td valign="top">Playback type
<br>0 = Playback with 16 bits via FIFO
<br>1 = Playback with 16 bits via DSP
<br>2 = Playback with 24 bits via FIFO</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>startadr</i></td>
<td valign="top">Playback start address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>endadr</i></td>
<td valign="top">Playback end address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>counter</i></td>
<td valign="top">Counter start value</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>step</i></td>
<td valign="top">Playback speed
<br>0 = Normal
<br>1 = Double
<br>2 = Triple etc...</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>mode</i></td>
<td valign="top">bit 0 -> Loop
<br>bit 1 -> Crossplay (not for select = 2)
<br>bit 2 -> MIDI</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>midi</i></td>
<td valign="top">MIDI note, at which playback is to start, is only specified
when mode bit 2 is set!

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return values, -1 = Error
<br>int32_t 0 Memposition
<br>int32_t 8 Break
<br>int32_t 12 Error
<br>int32_t 24 Counter position
<br>int32_t 28 Loops</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_imemplay">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_imemplay"></a>4.17.65.1 Bindings for init_imemplay</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 122, int16_t select, int32_t startadr,
int32_t endadr, int32_t counter, int16_t step, int16_t mode, int16_t
midi );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    midi,-(sp)      ; Offset 22
move.w    mode,-(sp)      ; Offset 20
move.w    step,-(sp)      ; Offset 18
move.l    counter,-(sp)   ; Offset 14
move.l    endadr,-(sp)    ; Offset 10
move.l    startadr,-(sp)  ; Offset 6
move.w    select,-(sp)    ; Offset 4
move.w    #122,-(sp)      ; Offset 2
move.w    #500,-(sp)      ; Offset 0
trap      #14             ; Call <a href="004.html">XBIOS</a>
addq.l    #24,sp          ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_implaymix"></a>4.17.66 init_implaymix</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_implaymix« - Memory playback & record-mix in
interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 123</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 123, int16_t select, int32_t startadr,
int32_t endadr, int32_t counter, int16_t step, int16_t mode, int16_t
midi );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>select</i></td>
<td valign="top">Playback type
<br>0 = Playback with 16 bits via FIFO</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>startadr</i></td>
<td valign="top">Playback start address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>endadr</i></td>
<td valign="top">Playback end address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>counter</i></td>
<td valign="top">Counter start value</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>step</i></td>
<td valign="top">Playback speed
<br>0 = Normal
<br>1 = Double
<br>2 = Triple etc...</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>mode</i></td>
<td valign="top">bit 0 -> Loop
<br>bit 1 -> Crossplay (Not for select = 2)
<br>bit 2 -> MIDI</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>midi</i></td>
<td valign="top">MIDI note, at which playback is to start, is only specified
when <i>mode</i> bit 2 is set!

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return values, -1 = Error
<br>int32_t 0 Memposition
<br>int32_t 8 Break
<br>int32_t 12 Error
<br>int32_t 24 Counter position
<br>int32_t 28 Loops</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_implaymix">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_implaymix"></a>4.17.66.1 Bindings for init_implaymix</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 123, int16_t select, int32_t startadr,
int32_t endadr, int32_t counter, int16_t step, int16_t mode, int16_t
midi );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    midi,-(sp)      ; Offset 22
move.w    mode,-(sp)      ; Offset 20
move.w    step,-(sp)      ; Offset 18
move.l    counter,-(sp)   ; Offset 14
move.l    endadr,-(sp)    ; Offset 10
move.l    startadr,-(sp)  ; Offset 6
move.w    select,-(sp)    ; Offset 4
move.w    #122,-(sp)      ; Offset 2
move.w    #500,-(sp)      ; Offset 0
trap      #14             ; Call <a href="004.html">XBIOS</a>
addq.l    #24,sp          ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_hrec"></a>4.17.67 init_hrec</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_hrec« - HD record in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 124</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 124, int32_t startadr, int32_t len,
int32_t sectors, int16_t handle, int16_t fileart );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>startadr</i></td>
<td valign="top">Record buffer start address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>len</i></td>
<td valign="top">Record buffer length</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>sectors</i></td>
<td valign="top">Number of recorded sectors</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>handle</i></td>
<td valign="top">Handle of record file</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>fileart</i></td>
<td valign="top">3 = Create WAV file

</td></tr>
</table>

<br><br>

Doesn't work!</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return values
<br>int32_t 0 Memposition
<br>int32_t 4 Number of recorded sectors
<br>int32_t 8 Break
<br>int32_t 12 Error
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_hrec">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_hrec"></a>4.17.67.1 Bindings for init_hrec</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 124, int32_t startadr, int32_t len,
int32_t sectors, int16_t handle, int16_t fileart );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    fileart,-(sp)   ; Offset 18
move.w    handle,-(sp)    ; Offset 16
move.l    sectors,-(sp)   ; Offset 12
move.l    len,-(sp)       ; Offset 8
move.l    startadr,-(sp)  ; Offset 4
move.w    #124,-(sp)      ; Offset 2
move.w    #500,-(sp)      ; Offset 0
trap      #14             ; Call <a href="004.html">XBIOS</a>
addq.l    #20,sp          ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_hplay"></a>4.17.68 init_hplay</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_hplay« - HD playback in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 125</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 125, int32_t startadr, int32_t len,
int32_t sectors, int32_t seek, int16_t handle, int16_t fileart,
int16_t step, int16_t mode, int16_t midi );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>startadr</i></td>
<td valign="top">Playback buffer start address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>len</i></td>
<td valign="top">Playback buffer length</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>sectors</i></td>
<td valign="top">Number of sectors</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>seek</i></td>
<td valign="top">File start position</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>handle</i></td>
<td valign="top">Handle of playback file</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>fileart</i></td>
<td valign="top">3 = WAV file</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>step</i></td>
<td valign="top">Playback speed</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>mode</i></td>
<td valign="top">bit 0 -> Loop
<br>bit 1 -> Crossplay
<br>bit 2 -> MIDI
<br>bit 3 -> Break</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>midi</i></td>
<td valign="top">MIDI note, at which playback is to start, is only specified
when mode bit 2 is set!

</td></tr>
</table>

<br><br>

Crashes!</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return values
<br>int32_t 0 Memposition
<br>int32_t 4 Number of sectors played back int32_t 8 Break
<br>int32_t 12 Error
<br>int32_t 28 Number of loops</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_hplay">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_hplay"></a>4.17.68.1 Bindings for init_hplay</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 125, int32_t startadr, int32_t len,
int32_t sectors, int32_t seek, int16_t handle, int16_t fileart,
int16_t step, int16_t mode, int16_t midi );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    midi,-(sp)      ; Offset 28
move.w    mode,-(sp)      ; Offset 26
move.w    step,-(sp)      ; Offset 24
move.w    fileart,-(sp)   ; Offset 22
move.w    handle,-(sp)    ; Offset 20
move.l    seek,-(sp)      ; Offset 16
move.l    sectors,-(sp)   ; Offset 12
move.l    len,-(sp)       ; Offset 8
move.l    startadr,-(sp)  ; Offset 4
move.w    #125,-(sp)      ; Offset 2
move.w    #500,-(sp)      ; Offset 0
trap      #14             ; Call <a href="004.html">XBIOS</a>
addq.l    #30,sp          ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_ihplaymix"></a>4.17.69 init_ihplaymix</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_ihplaymix« - HD playback & record-<a href="#mix">mix</a> in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 126</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"><a href="#Bindings_20for_20init_ihplaymix">Bindings for init_ihplaymix</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_ihplaymix">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_ihplaymix"></a>4.17.69.1 Bindings for init_ihplaymix</h4>
<p>Unbekannt!</p>

<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 126 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #126,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_mrecpeak"></a>4.17.70 init_mrecpeak</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_mrecpeak« - Memory rec & peak output in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 130</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 130, int16_t select, int32_t startadr,
int32_t endadr );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>select</i></td>
<td valign="top">Recording type
<br>0 = Record with 16 bits via FIFO
<br>1 = Record with 16 bits via DSP
<br></td></tr>

<tr><td nowrap="nowrap" valign="top"><i>startadr</i></td>
<td valign="top">Record start address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>endadr</i></td>
<td valign="top">Record end address

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return values
<br>int32_t 0 Memposition
<br>int32_t 8 Break
<br>int32_t 12 Error
<br>int32_t 16 Peak value
<br>int32_t 24 Counter position</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_mrecpeak">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_mrecpeak"></a>4.17.70.1 Bindings for init_mrecpeak</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 130, int16_t select, int32_t startadr,
int32_t endadr );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.l    enddadr,-(sp)   ; Offset 10
move.l    startadr,-(sp)  ; Offset 6
move.w    select,-(sp)    ; Offset 4
move.w    #130,-(sp)      ; Offset 2
move.w    #500,-(sp)      ; Offset 0
trap      #14             ; Call <a href="004.html">XBIOS</a>
addq.l    #14,sp          ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_mplaypeak"></a>4.17.71 init_mplaypeak</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">init_mplaypeak»« - Memory playback & peak output in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 131</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 131 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_mplaypeak">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_mplaypeak"></a>4.17.71.1 Bindings for init_mplaypeak</h4>
<p>Unknown!</p>

<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 131 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #131,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_mrppeak"></a>4.17.72 init_mrppeak</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_mrppeak« - Memory playback & record-<a href="#mix">mix</a> & peak output
in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 132</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"><a href="#Bindings_20for_20init_mrppeak">Bindings for init_mrppeak</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_mrppeak">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_mrppeak"></a>4.17.72.1 Bindings for init_mrppeak</h4>
<p>Unknown!</p>

<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 132 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #132,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_hrecpeak"></a>4.17.73 init_hrecpeak</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_hrecpeak« - HD rec & peak output in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 133</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_tG <a href="004004.html#xbios">xbios</a> ( 500, 133, int32_t startadr, int32_t len,
int32_t sectors, int16_t handle, int16_t fileart );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>startadr</i></td>
<td valign="top">Record buffer start address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>len</i></td>
<td valign="top">Record buffer length</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>sectors</i></td>
<td valign="top">Number of recorded sectors</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>handle</i></td>
<td valign="top">Handle of record file</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>fileart</i></td>
<td valign="top">3 = Create WAV file

</td></tr>
</table>

<br><br>

Dropout due to too small FIFO!</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return values
<br>int32_t 0 Memposition
<br>int32_t 4 Number of recorded sectors
<br>int32_t 8 Break
<br>int32_t 12 Error
<br>int32_t 16 Peak value
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_hrecpeak">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_hrecpeak"></a>4.17.73.1 Bindings for init_hrecpeak</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_tG <a href="004004.html#xbios">xbios</a> ( 500, 133, int32_t startadr, int32_t len,
int32_t sectors, int16_t handle, int16_t fileart );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    fileart,-(sp)   ; Offset 18
move.w    handle,-(sp)    ; Offset 16
move.l    sectors,-(sp)   ; Offset 12
move.l    len,-(sp)       ; Offset 8
move.l    startadr,-(sp)  ; Offset 4
move.w    #133,-(sp)      ; Offset 2
move.w    #500,-(sp)      ; Offset 0
trap      #14             ; Call <a href="004.html">XBIOS</a>
addq.l    #20,sp          ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_hplaypeak"></a>4.17.74 init_hplaypeak</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_hplaypeak« - HD playback & peak output in interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 134</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"><a href="#Bindings_20for_20init_hplaypeak">Bindings for init_hplaypeak</a></td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_hplaypeak">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_hplaypeak"></a>4.17.74.1 Bindings for init_hplaypeak</h4>
<p>Unknown!</p>

<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 134 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #134,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_hrppeak"></a>4.17.75 init_hrppeak</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_hrppeak« - HD playback & record-<a href="#mix">mix</a> & peak output in
interrupt</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 135</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 135 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_hrppeak">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_hrppeak"></a>4.17.75.1 Bindings for init_hrppeak</h4>
<p>Unknown!</p>

<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 135 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #135,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_xmemrec"></a>4.17.76 init_xmemrec</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_xmemrec« - Memory record in half-buffer system</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 140</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 140, int16_t select, int32_t startadr1,
int32_t startadr2, int32_t len, int32_t endcount, int16_t fileart,
int32_t peakbuf );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>select</i></td>
<td valign="top">Recording type
<br>0 = Record with 16 bits via FIFO
<br>1 = Record with 16 bits via DSP
<br>2 = 8-channel record with 16 bits via FIFO</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>startadr1</i></td>
<td valign="top">Record start address buffer1</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>startadr2</i></td>
<td valign="top">Record start address buffer2</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>len</i></td>
<td valign="top">Block length of the buffers</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>endcount</i></td>
<td valign="top">Recorded length or counter end (in bytes)</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>fileart</i></td>
<td valign="top">3 = Create WAV file</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>peakbuf</i></td>
<td valign="top">Address of temporary store for peak values

</td></tr>
</table>

<br><br>

mAt present, with select = 2 only 1 stereo channel is stored!</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return values
<br>int32_t 0 Memposition
<br>int32_t 4 Memflag
<br>int32_t 8 Break
<br>int32_t 12 Error (not for select = 1)
<br>int32_t 16 Peak value (only for select = 0)
<br>int32_t 20 Peak buffer position (only for select = 0)
<br>int32_t 24 Counter position</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_xmemrec">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_xmemrec"></a>4.17.76.1 Bindings for init_xmemrec</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 140, int16_t select, int32_t startadr1,
int32_t startadr2, int32_t len, int32_t endcount, int16_t fileart,
int32_t peakbuf );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.l    peakbuf,-(sp)    ; Offset 24
move.w    fileart,-(sp)    ; Offset 22
move.l    endcount,-(sp)   ; Offset 18
move.l    len,-(sp)        ; Offset 14
move.l    startadr2,-(sp)  ; Offset 10
move.l    startadr1,-(sp)  ; Offset 6
move.w    select,-(sp)     ; Offset 4
move.w    #140,-(sp)       ; Offset 2
move.w    #500,-(sp)       ; Offset 0
trap      #14              ; Call <a href="004.html">XBIOS</a>
addq.l    #28,sp           ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_xmemplay"></a>4.17.77 init_xmemplay</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_xmemplay« - Memory playback in half-buffer system</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 141</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 141, int16_t select, int32_t startadr1,
int32_t startadr2, int32_t len, int32_t counter, int32_t endcount,
int16_t fileart, int16_t step, int16_t mode, int16_t midi );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>select</i></td>
<td valign="top">Abspielart
<br>0 = Playback with 16 bits via FIFO
<br>1 = Playback with 16 bits via DSP
<br>2 = 8-channel playback with 16 bits via FIFO
<br>3 = 16-channel playback with 16 bits via FIFO</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>startadr1</i></td>
<td valign="top">Playback start address buffer 1</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>startadr2</i></td>
<td valign="top">Playback start address buffer 2</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>len</i></td>
<td valign="top">Block length of the buffers</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>counter</i></td>
<td valign="top">Counter start value</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>endcount</i></td>
<td valign="top">Playback length or counter end (in bytes)</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>fileart</i></td>
<td valign="top">3 = Create WAV file</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>step</i></td>
<td valign="top">Playback speed</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>mode</i></td>
<td valign="top">bit 0 -> Loop
<br>bit 1 -> Crossplay
<br>bit 2 -> MIDI
<br>bit 3 -> Break</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>midi</i></td>
<td valign="top">MIDI note, at which playback is to start, is only specified
when <i>mode</i> bit 2 is set!

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return values
<br>int32_t 0 Memposition
<br>int32_t 4 Memflag
<br>int32_t 8 Break
<br>int32_t 12 Error (not for select = 1))
<br>int32_t 16 Peak value (only for select = 0)
<br>int32_t 24 Counter position
<br>int32_t 40 Last block</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_xmemplay">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_xmemplay"></a>4.17.77.1 Bindings for init_xmemplay</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 141, int16_t select, int32_t startadr1,
int32_t startadr2, int32_t len, int32_t counter, int32_t endcount,
int16_t fileart, int16_t step, int16_t mode, int16_t midi );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    midi,-(sp)       ; Offset 32
move.w    mode,-(sp)       ; Offset 30
move.w    step,-(sp)       ; Offset 28
move.w    fileart,-(sp)    ; Offset 26
move.l    endcount,-(sp)   ; Offset 22
move.l    counter,-(sp)    ; Offset 18
move.l    len,-(sp)        ; Offset 14
move.l    startadr2,-(sp)  ; Offset 10
move.l    startadr1,-(sp)  ; Offset 6
move.w    select,-(sp)     ; Offset 4
move.w    #141,-(sp)       ; Offset 2
move.w    #500,-(sp)       ; Offset 0
trap      #14              ; Call <a href="004.html">XBIOS</a>
addq.l    #34,sp           ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_xmixplay"></a>4.17.78 init_xmixplay</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_xmixplay« - Memory playback & mixing with record in
half-buffer system</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 142</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 142 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_xmixplay">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_xmixplay"></a>4.17.78.1 Bindings for init_xmixplay</h4>
<p>Unknown!</p>

<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 142 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #142,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_xmemrec4"></a>4.17.79 init_xmemrec4</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_xmemrec4« - Memory record in half-buffer system of 4
channels (analog/digital)</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 143</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 143, int32_t startadr1, int32_t startadr2,
int32_t dstartadr1, int32_t dstartadr2, int32_t len, int32_t endcount,
int16_t fileart, int32_t peakbuf, int32_t dpeakbuf );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>startadr1</i></td>
<td valign="top">FIFO record start address buffer 1</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>startadr2</i></td>
<td valign="top">FIFO record start address buffer 2</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>dstartadr1</i></td>
<td valign="top">DSP record start address buffer 1</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>dstartadr2</i></td>
<td valign="top">DSP record start address buffer 2</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>len</i></td>
<td valign="top">Length of the buffers</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>endcount</i></td>
<td valign="top">Recorded length or counter end (in bytes)</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>fileart</i></td>
<td valign="top">3 = Create WAV file</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>peakbuf</i></td>
<td valign="top">FIFO address of temporary memory for peak values</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>dpeakbuf</i></td>
<td valign="top">DSP address of temporary memory for peak values

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return values
<br>int32_t 0 Memposition FIFO
<br>int32_t 4 Memflag FIFO
<br>int32_t 8 Break FIFO
<br>int32_t 12 Error FIFO
<br>int32_t 16 Peak value FIFO
<br>int32_t 24 Counter position FIFO<br><br>

int32_t 32 Memposition DSP
<br>int32_t 36 Memflag DSP
<br>int32_t 40 Break DSP
<br>int32_t 44 Error DSP
<br>int32_t 48 Peak value DSP
<br>int32_t 56 Counter position DSP</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_xmemrec4">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_xmemrec4"></a>4.17.79.1 Bindings for init_xmemrec4</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 143, int32_t startadr1, int32_t startadr2,
int32_t dstartadr1, int32_t dstartadr2, int32_t len, int32_t endcount,
int16_t fileart, int32_t peakbuf, int32_t dpeakbuf );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.l    dpeakpuf,-(sp)    ; Offset 34
move.l    peakpuf,-(sp)     ; Offset 30
move.w    fileart,-(sp)     ; Offset 28
move.l    endcount,-(sp)    ; Offset 24
move.l    len,-(sp)         ; Offset 20
move.l    dstartadr2,-(sp)  ; Offset 16
move.l    dstartadr1,-(sp)  ; Offset 12
move.l    startadr2,-(sp)   ; Offset 8
move.l    startadr1,-(sp)   ; Offset 4
move.w    #143,-(sp)        ; Offset 2
move.w    #500,-(sp)        ; Offset 0
trap      #14               ; Call <a href="004.html">XBIOS</a>
addq.l    #38,sp            ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="init_xmemplay4"></a>4.17.80 init_xmemplay4</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»init_xmemplay4« - Memory playback in half-buffer system of 4
channels (analog/digital)</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 144</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 144, int32_t startadr1, int32_t startadr2,
int32_t dstartadr1, int32_t dstartadr2, int32_t len, int32_t counter,
int32_t endcount, int16_t fileart, int16_t step, int16_t mode, int16_t
midi );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>startadr1</i></td>
<td valign="top">FIFO playback start address buffer 1</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>startadr2</i></td>
<td valign="top">FIFO playback start address buffer 2</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>dstartadr1</i></td>
<td valign="top">DSP playback start address buffer 1</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>dstartadr2</i></td>
<td valign="top">DSP playback start address buffer 2</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>dendadr2</i></td>
<td valign="top">Length of the buffers</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>counter</i></td>
<td valign="top">Counter start value</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>endcount</i></td>
<td valign="top">Playback length or counter end (in bytes)</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>fileart</i></td>
<td valign="top">3 = Creat WAV file</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>step</i></td>
<td valign="top">Playback speed</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>mode</i></td>
<td valign="top">bit 0 -> Loop
<br>bit 1 -> Crossplay
<br>bit 2 -> MIDI
<br>bit 3 -> Break</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>midi</i></td>
<td valign="top">MIDI note, at which playback is to start, is only specified
when <i>mode</i> bit 2 is set!

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address return values
<br>int32_t 0 Memposition
<br>int32_t 4 Memflag
<br>int32_t 8 Break
<br>int32_t 12 Error
<br>int32_t 16 Peak value
<br>int32_t 24 Counter position
<br><br><br>

int32_t 32 Memposition DSP
<br>int32_t 36 Memflag DSP
<br>int32_t 40 Break DSP
<br>int32_t 44 Error DSP
<br>int32_t 48 Peak value DSP
<br>int32_t 56 Counter position DSP</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20init_xmemplay4">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20init_xmemplay4"></a>4.17.80.1 Bindings for init_xmemplay4</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 144, int32_t startadr1, int32_t startadr2,
int32_t dstartadr1, int32_t dstartadr2, int32_t len, int32_t counter,
int32_t endcount, int16_t fileart, int16_t step, int16_t mode, int16_t
midi );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    midi,-(sp)        ; Offset 38
move.w    mode,-(sp)        ; Offset 36
move.w    step,-(sp)        ; Offset 34
move.w    fileart,-(sp)     ; Offset 32
move.l    endcount,-(sp)    ; Offset 28
move.l    counter,-(sp)     ; Offset 24
move.l    len,-(sp)         ; Offset 20
move.l    dstartadr2,-(sp)  ; Offset 16
move.l    dstartadr1,-(sp)  ; Offset 12
move.l    startadr2,-(sp)   ; Offset 8
move.l    startadr1,-(sp)   ; Offset 4
move.w    #144,-(sp)        ; Offset 2
move.w    #500,-(sp)        ; Offset 0
trap      #14               ; Call <a href="004.html">XBIOS</a>
addq.l    #40,sp            ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="peakshake"></a>4.17.81 peakshake</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»peakshake« - Peak value handshake (= generate new value)</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 150</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 150 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20peakshake">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20peakshake"></a>4.17.81.1 Bindings for peakshake</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 150 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #150,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="read_rlow"></a>4.17.82 read_rlow</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»read_rlow« - Read low register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 200</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 200 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> bit 0 -> SWAES
<br>bit 1 -> SWDIGIN
<br>bit 2 -> TAKT0
<br>bit 3 -> TAKT1
<br>bit 4 -> EXTAKT
<br>bit 5 -> EXTEX
<br>bit 6 -> EXTTF
<br>bit 7 -> EXTTW</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See Also:</td>
<td valign="top"><a href="#Bindings_20for_20read_rlow">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20read_rlow"></a>4.17.82.1 Bindings for read_rlow</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 200 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #200,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="read_rhi"></a>4.17.83 read_rhi</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»read_rhi« - Read high register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 201</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 201 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> bit 0 -> SWPROT
<br>bit 1 -> SWRES-FIFO
<br>bit 2 -> MATRIX-OUT
<br>bit 3 -> PREEMPH
<br>bit 4 -> SWSUBFR
<br>bit 5 -> GENERA
<br>bit 6 -> CATEG0
<br>bit 7 -> CATEG1</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20read_rhi">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20read_rhi"></a>4.17.83.1 Bindings for read_rhi</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 201 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #201,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="read_rdsp"></a>4.17.84 read_rdsp</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»read_rdsp« - Read dsp register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 202</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 202 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> bit 0 -> MATI0/REC4
<br>bit 1 -> MATI1/PLAY4
<br>bit 2 -> VOLCS1
<br>bit 3 -> VOLCLK
<br>bit 4 -> VOLDATAI
<br>bit 5 -> VOLCS2
<br>bit 7 -> AESFREQ</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20read_rdsp">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20read_rdsp"></a>4.17.84.1 Bindings for read_rdsp</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 202 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #202,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="read_raes"></a>4.17.85 read_raes</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»read_raes« - Read <a href="008002.html#aes">aes</a> register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 203</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 203 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> bit 0 -> SWPROF
<br>bit 1 -> SWCOPY/PCH16
<br>bit 2 -> DIGMODE:SWMAL2/DIG24
<br>bit 3 -> PLAY128
<br>bit 4 -> REC128
<br>bit 7 -> SPEBU</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20read_raes">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20read_raes"></a>4.17.85.1 Bindings for read_raes</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 203 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #203,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="read_rint"></a>4.17.86 read_rint</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»read_rint« - Read interrupt register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 204</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 204 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> bit 0 -> PLAY-INT
<br>bit 1 -> REC-INT</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20read_rint">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20read_rint"></a>4.17.86.1 Bindings for read_rint</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 204 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #204,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="wr_rlow"></a>4.17.87 wr_rlow</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»wr_rlow« - Write low register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 210</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 210, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>value</i></td>
<td valign="top">bit 0 -> SWAES
<br>bit 1 -> SWDIGIN
<br>bit 2 -> TAKT0
<br>bit 3 -> TAKT1
<br>bit 4 -> EXTAKT
<br>bit 5 -> EXTEX
<br>bit 6 -> EXTTF
<br>bit 7 -> EXTTW

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20wr_rlow">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20wr_rlow"></a>4.17.87.1 Bindings for wr_rlow</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 210, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    value,-(sp)  ; Offset 4
move.w    #210,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="wr_rhi"></a>4.17.88 wr_rhi</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»wr_rhi« - Write high register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 211</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 211, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>value</i></td>
<td valign="top">bit 0 -> SWPROT
<br>bit 1 -> SWRES-FIFO
<br>bit 2 -> MATRIX-OUT
<br>bit 3 -> PREEMPH
<br>bit 4 -> SWSUBFR
<br>bit 5 -> GENERA
<br>bit 6 -> CATEG0
<br>bit 7 -> CATEG1

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20wr_rhi">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20wr_rhi"></a>4.17.88.1 Bindings for wr_rhi</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 211, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    value,-(sp)  ; Offset 4
move.w    #211,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="wr_rdsp"></a>4.17.89 wr_rdsp</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»wr_rdsp« - Write dsp register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 212</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 212, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>value</i></td>
<td valign="top">bit 0 -> MATI0/REC4
<br>bit 1 -> MATI1/PLAY4
<br>bit 2 -> VOLCS1
<br>bit 3 -> VOLCLK
<br>bit 4 -> VOLDATAI
<br>bit 5 -> VOLCS2
<br>bit 7 -> AESFREQ

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20wr_rdsp">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20wr_rdsp"></a>4.17.89.1 Bindings for wr_rdsp</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 212, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    value,-(sp)  ; Offset 4
move.w    #212,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="wr_raes"></a>4.17.90 wr_raes</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»wr_raes« - Write <a href="008002.html#aes">aes</a> register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 213</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 213, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>value</i></td>
<td valign="top">bit 0 -> SWPROF
<br>bit 1 -> SWCOPY/PCH16
<br>bit 2 -> DIGMODE:SWMAL2/DIG24
<br>bit 3 -> PLAY128
<br>bit 4 -> REC128
<br>bit 7 -> SPEBU

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20wr_raes">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20wr_raes"></a>4.17.90.1 Bindings for wr_raes</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 213, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    value,-(sp)  ; Offset 4
move.w    #213,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="wr_rint"></a>4.17.91 wr_rint</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»wr_rint« - Write interrupt register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 214</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 214, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>value</i></td>
<td valign="top">bit 0 -> PLAY-INT
<br>bit 1 -> REC-INT

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20wr_rint">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20wr_rint"></a>4.17.91.1 Bindings for wr_rint</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 214, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    value,-(sp)  ; Offset 4
move.w    #214,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="read_dpath1"></a>4.17.92 read_dpath1</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»read_dpath1« - Read DSP dpath1 register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 220</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 220 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> bit 0 -> SW0PATH
<br>bit 1 -> SC1PATH
<br>bit 2 -> SC2PATH
<br>bit 3 -> DSPRES</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20read_dpath1">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20read_dpath1"></a>4.17.92.1 Bindings for read_dpath1</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 220 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #220,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="read_dpath2"></a>4.17.93 read_dpath2</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»read_dpath2« - Read dsp dpath2 register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 221</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 221 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> bit 0 -> SRDPATH
<br>bit 1 -> STDPATH0
<br>bit 2 -> STDPATH1
<br>bit 3 -> CONVMAST</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20read_dpath2">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20read_dpath2"></a>4.17.93.1 Bindings for read_dpath2</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 221 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #221,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="read_dport"></a>4.17.94 read_dport</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»read_dport« - Read dsp dport register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 222</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 222 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> bit 0 -> GPIO0
<br>bit 1 -> GPIO1
<br>bit 2 -> GPIO2
<br>bit 3 -> GPIODIR0
<br></td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20read_dport">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20read_dport"></a>4.17.94.1 Bindings for read_dport</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 222 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #222,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="read_dconv"></a>4.17.95 read_dconv</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»read_dconv« - Read dsp dconv register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 223</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 223 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> bit 0 -> GPIODIR1
<br>bit 1 -> GPIODIR2
<br>bit 2 -> CMAST0
<br>bit 3 -> CMAST1</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20read_dconv">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20read_dconv"></a>4.17.95.1 Bindings for read_dconv</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 223 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #223,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="read_dpdat"></a>4.17.96 read_dpdat</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»read_dpdat« - Read dsp dpdat register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 224</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 224 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> bit 0 -> PDAT0
<br>bit 1 -> PDAT1
<br>Bit 2 -> MEMART</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20read_dpdat">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20read_dpdat"></a>4.17.96.1 Bindings for read_dpdat</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 224 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #224,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="read_dclk"></a>4.17.97 read_dclk</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»read_dclk« - Read dsp dclk register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 225</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 225 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"></td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> bit 0-3 -> CDIV</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20read_dclk">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20read_dclk"></a>4.17.97.1 Bindings for read_dclk</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 225 );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #225,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #4,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="wr_dpath1"></a>4.17.98 wr_dpath1</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»wr_dpath1« - Write dsp dpath1 register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 230</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 230, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>value</i></td>
<td valign="top">bit 0 -> SW0PATH
<br>bit 1 -> SC1PATH
<br>bit 2 -> SC2PATH
<br>bit 3 -> DSPRES

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20wr_dpath1">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20wr_dpath1"></a>4.17.98.1 Bindings for wr_dpath1</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 230, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    value,-(sp)  ; Offset 4
move.w    #230,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="wr_dpath2"></a>4.17.99 wr_dpath2</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»wr_dpath2« - Write dsp dpath2 register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 231</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 231, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>value</i></td>
<td valign="top">bit 0 -> SRDPATH
<br>bit 1 -> STDPATH0
<br>bit 2 -> STDPATH1
<br>bit 3 -> CONVMAST

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20wr_dpath2">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20wr_dpath2"></a>4.17.99.1 Bindings for wr_dpath2</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 231, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    value,-(sp)  ; Offset 4
move.w    #231,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="wr_dport"></a>4.17.100 wr_dport</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»wr_dport« - Write dsp dport register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 232</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 232, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>value</i></td>
<td valign="top">bit 0 -> GPIO0
<br>bit 1 -> GPIO1(!nl) bit 2 -> GPIO2
<br>bit 3 -> GPIODIR0

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20wr_dport">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20wr_dport"></a>4.17.100.1 Bindings for wr_dport</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 232, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    value,-(sp)  ; Offset 4
move.w    #232,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="wr_dconv"></a>4.17.101 wr_dconv</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»wr_dconv« - Write dsp dconv register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 233</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 233, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>value</i></td>
<td valign="top">bit 0 -> GPIODIR1
<br>bit 1 -> GPIODIR2
<br>bit 2 -> CMAST0
<br>bit 3 -> CMAST1

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20wr_dconv">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20wr_dconv"></a>4.17.101.1 Bindings for wr_dconv</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 233, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    value,-(sp)  ; Offset 4
move.w    #233,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="wr_dpdat"></a>4.17.102 wr_dpdat</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»wr_dpdat« - Write dsp dpdat register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 234</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 234, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>value</i></td>
<td valign="top">bit 0 -> PDAT0
<br>bit 1 -> PDAT1
<br>Bit 2 -> MEMART

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20wr_dpdat">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20wr_dpdat"></a>4.17.102.1 Bindings for wr_dpdat</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 234, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    value,-(sp)  ; Offset 4
move.w    #234,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="wr_dclk"></a>4.17.103 wr_dclk</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»wr_dclk« - Write dsp dclk register</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 235</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 235, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><i>value</i>: bit0-3 -> CDIV</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20wr_dclk">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20wr_dclk"></a>4.17.103.1 Bindings for wr_dclk</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 235, int16_t value );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    value,-(sp)  ; Offset 4
move.w    #235,-(sp)   ; Offset 2
move.w    #500,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #6,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="fastcut"></a>4.17.104 fastcut</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»fastcut« - Clear memory segment in samplemem</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 300</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 300, int32_t anfmem, int32_t endmem );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>anfmem</i></td>
<td valign="top">Start address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>endmem</i></td>
<td valign="top">End address (first invalid value)

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20fastcut">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20fastcut"></a>4.17.104.1 Bindings for fastcut</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 300, int32_t anfmem, int32_t endmem );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.l    endmem,-(sp)  ; Offset 8
move.l    anfmem,-(sp)  ; Offset 4
move.w    #300,-(sp)    ; Offset 2
move.w    #500,-(sp)    ; Offset 0
trap      #14           ; Call <a href="004.html">XBIOS</a>
addq.l    #12,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="peaksuch"></a>4.17.105 peaksuch</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»peaksuch« - Peak value search in samplemem</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 301</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 301, int32_t anfmem, int32_t endmem );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>anfmem</i></td>
<td valign="top">Start address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>endmem</i></td>
<td valign="top">End address (first invalid value)

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Pointer to value table
<br>int16_t rpos; Maximum value positive halfwave right
<br>int16_t rneg; Maximum value negative halfwave right
<br>int16_t lpos; Maximum value positive halfwave left
<br>int16_t lneg; Maximum value negative halfwave left</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20peaksuch">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20peaksuch"></a>4.17.105.1 Bindings for peaksuch</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 301, int32_t anfmem, int32_t endmem );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.l    endmem,-(sp)  ; Offset 8
move.l    anfmem,-(sp)  ; Offset 4
move.w    #301,-(sp)    ; Offset 2
move.w    #500,-(sp)    ; Offset 0
trap      #14           ; Call <a href="004.html">XBIOS</a>
addq.l    #12,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="zerono"></a>4.17.106 zerono</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»zerono« - Zero value search in samplemem</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 302</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 302, int32_t anfmem, int32_t endmem,
int16_t side, int16_t znvorweg );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description: </td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>anfmem</i></td>
<td valign="top">Start address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>endmem</i></td>
<td valign="top">End address (first invalid value)</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>side</i></td>
<td valign="top">Search direction (= 0 :forwards, <> 0 :backwards)</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>znvorweg</i></td>
<td valign="top">What is this ???????????????????????????????????

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Address of the found position</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20zerono">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20zerono"></a>4.17.106.1 Bindings for zerono</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 302, int32_t anfmem, int32_t endmem,
int16_t side, int16_t znvorweg );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    znvorweg,-(sp)  ; Offset 14
move.w    side,-(sp)      ; Offset 12
move.l    endmem,-(sp)    ; Offset 8
move.l    anfmem,-(sp)    ; Offset 4
move.w    #302,-(sp)      ; Offset 2
move.w    #500,-(sp)      ; Offset 0
trap      #14             ; Call <a href="004.html">XBIOS</a>
addq.l    #16,sp          ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="fading"></a>4.17.107 fading</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»fading« - Sample fading in samplemem</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">500, 303</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 303, int32_t data, int32_t werte, int32_t
anfmem, int32_t endmem );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"><table>
<tr><td nowrap="nowrap" valign="top"><i>data</i></td>
<td valign="top">Pointer to fader curve value</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>werte</i></td>
<td valign="top">Number of fader values</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>anfmem</i></td>
<td valign="top">Start address</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>endmem</i></td>
<td valign="top">End address (first invalid value)

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 - No error</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">This function is only available when the driver of the StarTrack
sound card has been launched.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20fading">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20fading"></a>4.17.107.1 Bindings for fading</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="004004.html#xbios">xbios</a> ( 500, 303, int32_t data, int32_t werte, int32_t
anfmem, int32_t endmem );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.l    endmem,-(sp)  ; Offset 162
move.l    anfmem,-(sp)  ; Offset 12
move.l    werte,-(sp)   ; Offset 8
move.l    data,-(sp)    ; Offset 4
move.w    #303,-(sp)    ; Offset 2
move.w    #500,-(sp)    ; Offset 0
trap      #14           ; Call <a href="004.html">XBIOS</a>
addq.l    #20,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="unlocksnd"></a>4.17.108 unlocksnd</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»unlocksnd« - Unlock sound system for use by other
applications</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">129</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t unlocksnd( void );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine unlocksnd unlocks the sound system for use
by other applications, after it has been locked previously.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value 0 if it was successful. If the
sound system was already available, then a negative value is returned.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is only available on computers of the Falcon
series, or with extended XBIOS routines (<a href="003007.html#Cookie_2C_20_SND">_SND</a>).</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20unlocksnd">Binding</a> &nbsp; <a href="#buffoper">buffoper</a> &nbsp; <a href="#buffptr">buffptr</a> &nbsp; <a href="#devconnect">devconnect</a> &nbsp; <a href="#dsptristate">dsptristate</a> &nbsp; <a href="#gpio">gpio</a>
&nbsp; <a href="#setbuffer">setbuffer</a> &nbsp; <a href="#setinterrupt">setinterrupt</a> &nbsp; <a href="#setmontracks">setmontracks</a> &nbsp; <a href="#setmode">setmode</a> &nbsp; <a href="#settracks">settracks</a> &nbsp;
<a href="#sndstatus">sndstatus</a> &nbsp; <a href="#soundcmd">soundcmd</a> &nbsp; <a href="#locksnd">locksnd</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20unlocksnd"></a>4.17.108.1 Bindings for unlocksnd</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">#include <tos.h><br><br>

int32_t <a href="#unlocksnd">unlocksnd</a>( void );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.w    #129,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #2,sp        ; Correct stack
</pre>


</td></tr>
</table>

<h3><a name="WavePlay"></a>4.17.109 WavePlay</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»WavePlay« - Replay a sample</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">165</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int32_t WavePlay( int16_t flags, int32_t rate, int32_t sptr,
int32_t slen );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The XBIOS routine WavePlay starts the playback of a sample
using the DMA sound system on the STe, TT030, Falcon030 or Milan.<br><br>

<i>flags</i> is a bit-vector for the description of the sample or
of the function to be executed:<br><br>

Bit 0 set: Sample is mono
<br>Bit 1 set: Sample is 16-bit<br><br>

If bit 5 in '_SND' cookie is set:<br><br>

Bit 4 set: Sample, if 16-bit, is in Intel format
<br>Bit 5 set: Sample is unsigned
<br>Bit 6 set: Sample format is as recorded by MilanBlaster<br><br>

Bit 8 set: See description in Atari Compendium Vol. I, XBIOS pp.
4.110-4.112. It is not supported by the MilanBlaster XBios<br><br>

<i>rate</i> is the sample frequency in Hz<br><br>

<i>sptr</i> is the start address of the sample (with the
MilanBlaster can also lie in TT-RAM)<br><br>

<i>slen</i> is the length of the sample in bytes</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If successful the function returns the value 0, the playback
was then started and can be be halted at any time with <a href="#buffoper">buffoper</a>(0).
The end of the sample has been reached when <a href="#buffoper">buffoper</a>(-1) bit 0 is
cleared. In case of error, -1 is returned, while if no sound was
played (either because the user had not previously assigned a sound or
SAM was disabled) a 1 is returned.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is available when bit 5 in the '<a href="003007.html#Cookie_2C_20_SND">_SND</a>' cookie is
set or the 'SAM\0' cookie is present.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Sound_20routines">Sound routines</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20WavePlay">Binding</a>

</td></tr>
</table>

<h4><a name="Bindings_20for_20WavePlay"></a>4.17.109.1 Bindings for WavePlay</h4>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int32_t <a href="#WavePlay">WavePlay</a>( int16_t flags, int32_t rate, int32_t sptr,
int32_t slen );</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top"><pre>move.l    slen,-(sp)   ; Offset 12
pea       sptr         ; Offset 8
move.l    rate,-(sp)   ; Offset 4
move.w    flags,-(sp)  ; Offset 2
move.w    #165,-(sp)   ; Offset 0
trap      #14          ; Call <a href="004.html">XBIOS</a>
addq.l    #16,sp       ; Correct stack
</pre>


</td></tr>
</table>

<hr>

<a id="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a><a id="UDO_nav_up_FOOT" href="004.html"><img src="udo_up.gif" alt="XBIOS" title="XBIOS" border="0" width="24" height="24"></a><a id="UDO_nav_lf_FOOT" href="004010.html"><img src="udo_lf.gif" alt="Interface programming" title="Interface programming" border="0" width="24" height="24"></a><a id="UDO_nav_rg_FOOT" href="004012.html"><img src="udo_rg.gif" alt="Special commands" title="Special commands" border="0" width="24" height="24"></a></body>
</html>
