<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title>
The documentation for TOS: Extended graphics library
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO 7.04 (1296) for Linux">
</head>
<body>
<? include "/var/www/banner.php"; ?>

<a id="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a><a id="UDO_nav_up_HEAD" href="008.html"><img src="udo_up.gif" alt="AES" title="AES" border="0" width="24" height="24"></a><a id="UDO_nav_lf_HEAD" href="008012.html"><img src="udo_lf.gif" alt="Shell library" title="Shell library" border="0" width="24" height="24"></a><a id="UDO_nav_rg_HEAD" href="008014.html"><img src="udo_rg.gif" alt="Font selection" title="Font selection" border="0" width="24" height="24"></a>
<hr>

<h1><a name="Extended_20graphics_20library"></a>8.19 Extended graphics library</h1>
<p>This library contains functions to animate moving (expanding or
contracting) rectangles. The following routines are available for this
purpse:</p>

<table>
<tr><td nowrap="nowrap" valign="top">• <a href="#xgrf_2box">xgrf_2box</a></td>
<td valign="top">Animation of moving rectangles</td></tr>

<tr><td nowrap="nowrap" valign="top">• <a href="#xgrf_stepcalc">xgrf_stepcalc</a></td>
<td valign="top">Parameter calculation for rectangle animation

</td></tr>
</table>

<p><b>Note:</b> These functions should be seen primarily as
replacements for the functions <i>graf_growbox</i> and <i>graf_shrinkbox</i>,
that in PC-GEM were a casualty of the legal dispute between
<i>Apple</i> and <i>Digital Research.</i></p>

<p>See also: <a href="00800c.html#graf_growbox">graf_growbox</a> &nbsp; <a href="00800c.html#graf_shrinkbox">graf_shrinkbox</a> &nbsp; <a href="00a002.html">Style guidelines</a></p>

<h3><a name="xgrf_2box"></a>8.19.1 xgrf_2box</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Animate rectangles« - Draw a set of moving rectangles.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">131</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t xgrf_2box ( int16_t cx, int16_t cy, int16_t w, int16_t
h, int16_t corners, int16_t cnt, int16_t xstep, int16_t ystep, int16_t
doubled );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call xgrf_2box draws a set of rectangles that move on the
screen. The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">cx</td>
<td valign="top">Start position in X-direction</td></tr>

<tr><td nowrap="nowrap" valign="top">cy</td>
<td valign="top">Start position in Y-direction</td></tr>

<tr><td nowrap="nowrap" valign="top">w</td>
<td valign="top">Width of start position</td></tr>

<tr><td nowrap="nowrap" valign="top">h</td>
<td valign="top">Height of start position</td></tr>

<tr><td nowrap="nowrap" valign="top">corners</td>
<td valign="top"><b>Draw:</b><table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">Draw complete rectangles</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Draw only the corners
</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">cnt</td>
<td valign="top">Number of single steps</td></tr>

<tr><td nowrap="nowrap" valign="top">xstep</td>
<td valign="top">Step size in X-direction</td></tr>

<tr><td nowrap="nowrap" valign="top">ystep</td>
<td valign="top">Step size in Y-direction</td></tr>

<tr><td nowrap="nowrap" valign="top">doubled</td>
<td valign="top"><b>Step size</b><table>
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top">Normal step size</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top">Doubled step size
</td></tr>
</table>


</td></tr>
</table>

<br><br>

<b>Note:</b> The function is a replacement for the deleted
functions of the FORM and GRAF libraries in PC-GEM (due to the
legal dispute between <i>Apple</i> and <i>Digital Research</i>).</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> This is unknown at present.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is available only as of PC-GEM 2.0, as of KAOS
1.4.2 and <a href="00b.html">MagiC</a>.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Extended_20graphics_20library">Extended graphics library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20xgrf_2box">Binding</a> &nbsp; <a href="#xgrf_stepcalc">xgrf_stepcalc</a> &nbsp; <a href="00b.html">MagiC</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20xgrf_2box"></a>8.19.2 Bindings for xgrf_2box</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#xgrf_2box">xgrf_2box</a> ( int16_t cx, int16_t cy, int16_t w, int16_t
h, int16_t corners, int16_t cnt, int16_t xstep, int16_t ystep, int16_t
doubled );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#xgrf_2box">xgrf_2box</a> ( int16_t cx, int16_t cy, int16_t w, int16_t h,
                    int16_t corners, int16_t cnt,
                    int16_t xstep, int16_t ystep, int16_t doubled )
{
   <a href="008002.html#int_in">int_in</a>[0] = cnt;
   <a href="008002.html#int_in">int_in</a>[1] = xstep;
   <a href="008002.html#int_in">int_in</a>[2] = ystep;
   <a href="008002.html#int_in">int_in</a>[3] = doubled;
   <a href="008002.html#int_in">int_in</a>[4] = corners;
   <a href="008002.html#int_in">int_in</a>[5] = cx;
   <a href="008002.html#int_in">int_in</a>[6] = cy;
   <a href="008002.html#int_in">int_in</a>[7] = w;
   <a href="008002.html#int_in">int_in</a>[8] = h;

   return ( <a href="008002.html#crys_if">crys_if</a>(131) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">131   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">9     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">1     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">cnt</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[1]</td>
  <td align="left" valign="top">xstep</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[2]</td>
  <td align="left" valign="top">ystep</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[3]</td>
  <td align="left" valign="top">doubled</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[4]</td>
  <td align="left" valign="top">corners</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+10</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[5]</td>
  <td align="left" valign="top">cx</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+12</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[6]</td>
  <td align="left" valign="top">cy</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+14</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[7]</td>
  <td align="left" valign="top">w</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+16</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[8]</td>
  <td align="left" valign="top">h</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>



</td></tr>
</table>

<h3><a name="xgrf_stepcalc"></a>8.19.3 xgrf_stepcalc</h3>
<table>
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top">»Stepcalc for XGraf« - Parameter calculation for the
animation of rectangles.</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top">130</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top">int16_t xgrf_stepcalc ( int16_t orgw, int16_t orgh, int16_t xc,
int16_t yc, int16_t w, int16_t h, int16_t *pcx, int16_t *pcy, int16_t
*pcnt, int16_t *pxstep, int16_t *pystep );</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">The call xgrf_stepcalc calculates all parameters for a call of
<a href="#xgrf_2box">xgrf_2box</a>. The following apply:<table>
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top">Meaning</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td nowrap="nowrap" valign="top">orgw</td>
<td valign="top">Starting width</td></tr>

<tr><td nowrap="nowrap" valign="top">orgh</td>
<td valign="top">Starting height</td></tr>

<tr><td nowrap="nowrap" valign="top">xc</td>
<td valign="top">End position in X-direction</td></tr>

<tr><td nowrap="nowrap" valign="top">yc</td>
<td valign="top">End position in Y-direction</td></tr>

<tr><td nowrap="nowrap" valign="top">w</td>
<td valign="top">Width of final size</td></tr>

<tr><td nowrap="nowrap" valign="top">h</td>
<td valign="top">Height of final size</td></tr>

<tr><td nowrap="nowrap" valign="top">pcx</td>
<td valign="top">Centred position at completion of process in X-direction</td></tr>

<tr><td nowrap="nowrap" valign="top">pcy</td>
<td valign="top">Ditto for Y-directiong</td></tr>

<tr><td nowrap="nowrap" valign="top">pcnt</td>
<td valign="top">Number of single steps</td></tr>

<tr><td nowrap="nowrap" valign="top">pxstep</td>
<td valign="top">Step size in X-direction</td></tr>

<tr><td nowrap="nowrap" valign="top">pystep</td>
<td valign="top">Step size in Y-direction

</td></tr>
</table>

<br><br>

<b>Note:</b> The centred position, number of steps as well as
step size are calculated from the starting size, final size and the
end positions of the rectangle.</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> This is unknown at present.</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top">The function is available only as of PC-GEM 2.0, as of KAOS
1.4.2 and <a href="00b.html">MagiC</a>.</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"><a href="#Extended_20graphics_20library">Extended graphics library</a></td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"><a href="#Bindings_20for_20xgrf_stepcalc">Binding</a> &nbsp; <a href="#xgrf_2box">xgrf_2box</a> &nbsp; <a href="00b.html">MagiC</a>

</td></tr>
</table>

<h3><a name="Bindings_20for_20xgrf_stepcalc"></a>8.19.4 Bindings for xgrf_stepcalc</h3>
<table>
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top">int16_t <a href="#xgrf_stepcalc">xgrf_stepcalc</a> ( int16_t orgw, int16_t orgh, int16_t xc,
int16_t yc, int16_t w, int16_t h, int16_t *pcx, int16_t *pcy, int16_t
*pcnt, int16_t *pxstep, int16_t *pystep );</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top"><pre>int16_t <a href="#xgrf_stepcalc">xgrf_stepcalc</a> ( int16_t orgw, int16_t orgh, int16_t xc,
                        int16_t yc, int16_t w, int16_t h,
                        int16_t *pcx, int16_t *pcy, int16_t *pcnt,
                        int16_t *pxstep, int16_t *pystep )
{
   <a href="008002.html#int_in">int_in</a>[0] = orgw;
   <a href="008002.html#int_in">int_in</a>[1] = orgh;
   <a href="008002.html#int_in">int_in</a>[2] = xc;
   <a href="008002.html#int_in">int_in</a>[3] = yc;
   <a href="008002.html#int_in">int_in</a>[4] = w;
   <a href="008002.html#int_in">int_in</a>[5] = h;

   <a href="008002.html#crys_if">crys_if</a> (130);

   *pcx    = <a href="008002.html#int_out">int_out</a>[1];
   *pcy    = <a href="008002.html#int_out">int_out</a>[2];
   *pcnt   = <a href="008002.html#int_out">int_out</a>[3];
   *pxstep = <a href="008002.html#int_out">int_out</a>[4];
   *pystep = <a href="008002.html#int_out">int_out</a>[5];

   return ( <a href="008002.html#int_out">int_out</a>[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="002002.html">GEM</a>-Arrays:</td>
<td valign="top"><br><br>


<div align="left">
<table border="0">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a></td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[0]</td>
  <td align="left" valign="top">130   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[1]</td>
  <td align="left" valign="top">6     # Entry in <a href="008002.html#int_in">int_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[2]</td>
  <td align="left" valign="top">6     # Entry in <a href="008002.html#int_out">int_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[3]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_in">addr_in</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#control">control</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#control">control</a>[4]</td>
  <td align="left" valign="top">0     # Entry in <a href="008002.html#addr_out">addr_out</a></td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a></td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[0]</td>
  <td align="left" valign="top">orgw</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[1]</td>
  <td align="left" valign="top">orgh</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[2]</td>
  <td align="left" valign="top">xc</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[3]</td>
  <td align="left" valign="top">yc</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[4]</td>
  <td align="left" valign="top">w</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>+10</td>
  <td align="left" valign="top"><a href="008002.html#int_in">int_in</a>[5]</td>
  <td align="left" valign="top">h</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a></td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+2</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[1]</td>
  <td align="left" valign="top">pcx</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+4</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[2]</td>
  <td align="left" valign="top">pcy</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+6</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[3]</td>
  <td align="left" valign="top">pcnt</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+8</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[4]</td>
  <td align="left" valign="top">pxstep</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>+10</td>
  <td align="left" valign="top"><a href="008002.html#int_out">int_out</a>[5]</td>
  <td align="left" valign="top">pystep</td>
</tr>
</table>
</div>



</td></tr>
</table>

<hr>

<a id="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a><a id="UDO_nav_up_FOOT" href="008.html"><img src="udo_up.gif" alt="AES" title="AES" border="0" width="24" height="24"></a><a id="UDO_nav_lf_FOOT" href="008012.html"><img src="udo_lf.gif" alt="Shell library" title="Shell library" border="0" width="24" height="24"></a><a id="UDO_nav_rg_FOOT" href="008014.html"><img src="udo_rg.gif" alt="Font selection" title="Font selection" border="0" width="24" height="24"></a></body>
</html>
